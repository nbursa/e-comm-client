import{c as se,r as $,p as Vt,f as nn,o as rn,a as on,e as Lt,h as L,g as te,i as le,v as an,s as oe,n as sn,j as ln,k as un,T as xt,l as D,Q as cn,w as dn,R as fn,m as hn,q as ne,t as Ze,x as gn,y as et,z as mn,A as ce,B as Ce,C as tt,D as pn,E as be,F as vn,G as wn,H as yn,K as $t,I as Ut,J as Ee,L as Ft,M as Cn,N as bn,O as En,P as Sn,S as Qt,U as Q,V as ge,W as M,X as T,Y as He,Z as k,_ as V,$ as j,a0 as ee,a1 as Ot,a2 as zt,a3 as Kt,a4 as me,a5 as ie,a6 as Ye,a7 as Pn,a8 as jt,a9 as Bn,aa as qn,ab as An,ac as In,ad as Nn,ae as H,af as de,ag as W,ah as nt,ai as X,aj as _n,ak as fe,al as Tn,am as Rn,an as rt}from"./index-DE-nBcx6.js";import{f as ae,Q as kn}from"./currencyUtils-hTZ0ZCsp.js";import{Q as Mn}from"./QPage-B78HxqYM.js";import"./rates-lXucp3ae.js";const ot=se({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:o,emit:a}){const r=le(),n=$(null);let t=0;const i=[];function s(d){const y=typeof d=="boolean"?d:e.noErrorFocus!==!0,m=++t,v=(b,C)=>{a(`validation${b===!0?"Success":"Error"}`,C)},p=b=>{const C=b.validate();return typeof C.then=="function"?C.then(R=>({valid:R,comp:b}),R=>({valid:!1,comp:b,err:R})):Promise.resolve({valid:C,comp:b})};return(e.greedy===!0?Promise.all(i.map(p)).then(b=>b.filter(C=>C.valid!==!0)):i.reduce((b,C)=>b.then(()=>p(C).then(R=>{if(R.valid===!1)return Promise.reject(R)})),Promise.resolve()).catch(b=>[b])).then(b=>{if(b===void 0||b.length===0)return m===t&&v(!0),!0;if(m===t){const{comp:C,err:R}=b[0];if(R!==void 0&&console.error(R),v(!1,C),y===!0){const S=b.find(({comp:A})=>typeof A.focus=="function"&&an(A.$)===!1);S!==void 0&&S.comp.focus()}}return!1})}function l(){t++,i.forEach(d=>{typeof d.resetValidation=="function"&&d.resetValidation()})}function c(d){d!==void 0&&oe(d);const y=t+1;s().then(m=>{y===t&&m===!0&&(e.onSubmit!==void 0?a("submit",d):d!==void 0&&d.target!==void 0&&typeof d.target.submit=="function"&&d.target.submit())})}function f(d){d!==void 0&&oe(d),a("reset"),sn(()=>{l(),e.autofocus===!0&&e.noResetFocus!==!0&&w()})}function w(){ln(()=>{if(n.value===null)return;const d=n.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||n.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||n.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(n.value.querySelectorAll("[tabindex]"),y=>y.tabIndex!==-1);d?.focus({preventScroll:!0})})}Vt(nn,{bindComponent(d){i.push(d)},unbindComponent(d){const y=i.indexOf(d);y!==-1&&i.splice(y,1)}});let h=!1;return rn(()=>{h=!0}),on(()=>{h===!0&&e.autofocus===!0&&w()}),Lt(()=>{e.autofocus===!0&&w()}),Object.assign(r.proxy,{validate:s,resetValidation:l,submit:c,reset:f,focus:w,getValidationComponents:()=>i}),()=>L("form",{class:"q-form",ref:n,onSubmit:c,onReset:f},te(o.default))}}),Dn=se({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:o,emit:a}){let r=!1,n,t,i=null,s=null,l,c;function f(){n&&n(),n=null,r=!1,i!==null&&(clearTimeout(i),i=null),s!==null&&(clearTimeout(s),s=null),t!==void 0&&t.removeEventListener("transitionend",l),l=null}function w(m,v,p){v!==void 0&&(m.style.height=`${v}px`),m.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,r=!0,n=p}function h(m,v){m.style.overflowY=null,m.style.height=null,m.style.transition=null,f(),v!==c&&a(v)}function d(m,v){let p=0;t=m,r===!0?(f(),p=m.offsetHeight===m.scrollHeight?0:void 0):(c="hide",m.style.overflowY="hidden"),w(m,p,v),i=setTimeout(()=>{i=null,m.style.height=`${m.scrollHeight}px`,l=q=>{s=null,(Object(q)!==q||q.target===m)&&h(m,"show")},m.addEventListener("transitionend",l),s=setTimeout(l,e.duration*1.1)},100)}function y(m,v){let p;t=m,r===!0?f():(c="show",m.style.overflowY="hidden",p=m.scrollHeight),w(m,p,v),i=setTimeout(()=>{i=null,m.style.height=0,l=q=>{s=null,(Object(q)!==q||q.target===m)&&h(m,"hide")},m.addEventListener("transitionend",l),s=setTimeout(l,e.duration*1.1)},100)}return un(()=>{r===!0&&f()}),()=>L(xt,{css:!1,appear:e.appear,onEnter:d,onLeave:y},o.default)}}),Ht=se({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:o}){const{proxy:{$q:a}}=le(),r=$(null),n=D(()=>e.stepper.modelValue===e.step.name),t=D(()=>{const v=e.step.disable;return v===!0||v===""}),i=D(()=>{const v=e.step.error;return v===!0||v===""}),s=D(()=>{const v=e.step.done;return t.value===!1&&(v===!0||v==="")}),l=D(()=>{const v=e.step.headerNav,p=v===!0||v===""||v===void 0;return t.value===!1&&e.stepper.headerNav&&p}),c=D(()=>e.step.prefix&&(n.value===!1||e.stepper.activeIcon==="none")&&(i.value===!1||e.stepper.errorIcon==="none")&&(s.value===!1||e.stepper.doneIcon==="none")),f=D(()=>{const v=e.step.icon||e.stepper.inactiveIcon;if(n.value===!0){const p=e.step.activeIcon||e.stepper.activeIcon;return p==="none"?v:p||a.iconSet.stepper.active}if(i.value===!0){const p=e.step.errorIcon||e.stepper.errorIcon;return p==="none"?v:p||a.iconSet.stepper.error}if(t.value===!1&&s.value===!0){const p=e.step.doneIcon||e.stepper.doneIcon;return p==="none"?v:p||a.iconSet.stepper.done}return v}),w=D(()=>{const v=i.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(n.value===!0){const p=e.step.activeColor||e.stepper.activeColor||e.step.color;return p!==void 0?p:v}return v!==void 0?v:t.value===!1&&s.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),h=D(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(w.value!==void 0?` text-${w.value}`:"")+(i.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(c.value===!0?"prefix":"icon"):"")+(n.value===!0?" q-stepper__tab--active":"")+(s.value===!0?" q-stepper__tab--done":"")+(l.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(t.value===!0?" q-stepper__tab--disabled":"")),d=D(()=>e.stepper.headerNav!==!0?!1:l.value);function y(){r.value!==null&&r.value.focus(),n.value===!1&&e.goToPanel(e.step.name)}function m(v){v.keyCode===13&&n.value===!1&&e.goToPanel(e.step.name)}return()=>{const v={class:h.value};l.value===!0&&(v.onClick=y,v.onKeyup=m,Object.assign(v,t.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:o.tabindex||0}));const p=[L("div",{class:"q-focus-helper",tabindex:-1,ref:r}),L("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[L("span",{class:"row flex-center"},[c.value===!0?e.step.prefix:L(cn,{name:f.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const q=[L("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&q.push(L("div",{class:"q-stepper__caption"},e.step.caption)),p.push(L("div",{class:"q-stepper__label q-stepper__line relative-position"},q))}return dn(L("div",v,p),[[fn,d.value]])}}});function Vn(e){const o=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((a,r)=>{const n=parseFloat(a);n&&(o[r]=n)}),o}const Ln=hn({name:"touch-swipe",beforeMount(e,{value:o,arg:a,modifiers:r}){if(r.mouse!==!0&&ne.has.touch!==!0)return;const n=r.mouseCapture===!0?"Capture":"",t={handler:o,sensitivity:Vn(a),direction:Ze(r),noop:gn,mouseStart(i){et(i,t)&&mn(i)&&(ce(t,"temp",[[document,"mousemove","move",`notPassive${n}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(i,!0))},touchStart(i){if(et(i,t)){const s=i.target;ce(t,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","notPassiveCapture"],[s,"touchend","end","notPassiveCapture"]]),t.start(i)}},start(i,s){ne.is.firefox===!0&&Ce(e,!0);const l=tt(i);t.event={x:l.left,y:l.top,time:Date.now(),mouse:s===!0,dir:!1}},move(i){if(t.event===void 0)return;if(t.event.dir!==!1){oe(i);return}const s=Date.now()-t.event.time;if(s===0)return;const l=tt(i),c=l.left-t.event.x,f=Math.abs(c),w=l.top-t.event.y,h=Math.abs(w);if(t.event.mouse!==!0){if(f<t.sensitivity[1]&&h<t.sensitivity[1]){t.end(i);return}}else if(window.getSelection().toString()!==""){t.end(i);return}else if(f<t.sensitivity[2]&&h<t.sensitivity[2])return;const d=f/s,y=h/s;t.direction.vertical===!0&&f<h&&f<100&&y>t.sensitivity[0]&&(t.event.dir=w<0?"up":"down"),t.direction.horizontal===!0&&f>h&&h<100&&d>t.sensitivity[0]&&(t.event.dir=c<0?"left":"right"),t.direction.up===!0&&f<h&&w<0&&f<100&&y>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&f<h&&w>0&&f<100&&y>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&f>h&&c<0&&h<100&&d>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&f>h&&c>0&&h<100&&d>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(oe(i),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),pn(),t.styleCleanup=m=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const v=()=>{document.body.classList.remove("no-pointer-events--children")};m===!0?setTimeout(v,50):v()}),t.handler({evt:i,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:s,distance:{x:f,y:h}})):t.end(i)},end(i){t.event!==void 0&&(be(t,"temp"),ne.is.firefox===!0&&Ce(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),i!==void 0&&t.event.dir!==!1&&oe(i),t.event=void 0)}};if(e.__qtouchswipe=t,r.mouse===!0){const i=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";ce(t,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}ne.has.touch===!0&&ce(t,"main",[[e,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,o){const a=e.__qtouchswipe;a!==void 0&&(o.oldValue!==o.value&&(typeof o.value!="function"&&a.end(),a.handler=o.value),a.direction=Ze(o.modifiers))},beforeUnmount(e){const o=e.__qtouchswipe;o!==void 0&&(be(o,"main"),be(o,"temp"),ne.is.firefox===!0&&Ce(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(),delete e.__qtouchswipe)}});function Yt(){let e=Object.create(null);return{getCache:(o,a)=>e[o]===void 0?e[o]=typeof a=="function"?a():a:e[o],setCache(o,a){e[o]=a},hasCache(o){return Object.hasOwnProperty.call(e,o)},clearCache(o){o!==void 0?delete e[o]:e=Object.create(null)}}}const xn={name:{required:!0},disable:Boolean},it={setup(e,{slots:o}){return()=>L("div",{class:"q-panel scroll",role:"tabpanel"},te(o.default))}},$n={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Un=["update:modelValue","beforeTransition","transition"];function Fn(){const{props:e,emit:o,proxy:a}=le(),{getCache:r}=Yt(),{registerTimeout:n}=vn();let t,i;const s=$(null),l={value:null};function c(u){const E=e.vertical===!0?"up":"left";B((a.$q.lang.rtl===!0?-1:1)*(u.direction===E?1:-1))}const f=D(()=>[[Ln,c,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),w=D(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),h=D(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),d=D(()=>`--q-transition-duration: ${e.transitionDuration}ms`),y=D(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),m=D(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),v=D(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);wn(()=>e.modelValue,(u,E)=>{const x=C(u)===!0?R(u):-1;i!==!0&&A(x===-1?0:x<R(E)?-1:1),l.value!==x&&(l.value=x,o("beforeTransition",u,E),n(()=>{o("transition",u,E)},e.transitionDuration))});function p(){B(1)}function q(){B(-1)}function b(u){o("update:modelValue",u)}function C(u){return u!=null&&u!==""}function R(u){return t.findIndex(E=>E.props.name===u&&E.props.disable!==""&&E.props.disable!==!0)}function S(){return t.filter(u=>u.props.disable!==""&&u.props.disable!==!0)}function A(u){const E=u!==0&&e.animated===!0&&l.value!==-1?"q-transition--"+(u===-1?w.value:h.value):null;s.value!==E&&(s.value=E)}function B(u,E=l.value){let x=E+u;for(;x!==-1&&x<t.length;){const U=t[x];if(U!==void 0&&U.props.disable!==""&&U.props.disable!==!0){A(u),i=!0,o("update:modelValue",U.props.name),setTimeout(()=>{i=!1});return}x+=u}e.infinite===!0&&t.length!==0&&E!==-1&&E!==t.length&&B(u,u===-1?t.length:-1)}function P(){const u=R(e.modelValue);return l.value!==u&&(l.value=u),!0}function _(){const u=C(e.modelValue)===!0&&P()&&t[l.value];return e.keepAlive===!0?[L($t,m.value,[L(v.value===!0?r(y.value,()=>({...it,name:y.value})):it,{key:y.value,style:d.value},()=>u)])]:[L("div",{class:"q-panel scroll",style:d.value,key:y.value,role:"tabpanel"},[u])]}function I(){if(t.length!==0)return e.animated===!0?[L(xt,{name:s.value},_)]:_()}function N(u){return t=yn(te(u.default,[])).filter(E=>E.props!==null&&E.props.slot===void 0&&C(E.props.name)===!0),t.length}function g(){return t}return Object.assign(a,{next:p,previous:q,goTo:b}),{panelIndex:l,panelDirectives:f,updatePanelsList:N,updatePanelIndex:P,getPanelContent:I,getEnabledPanels:S,getPanels:g,isValidPanelName:C,keepAliveProps:m,needsUniqueKeepAliveWrapper:v,goToPanelByOffset:B,goToPanel:b,nextPanel:p,previousPanel:q}}function Jt(e){return L("div",{class:"q-stepper__step-content"},[L("div",{class:"q-stepper__step-inner"},te(e.default))])}const at={setup(e,{slots:o}){return()=>Jt(o)}},st=se({name:"QStep",props:{...xn,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:o,emit:a}){const{proxy:{$q:r}}=le(),n=Ut(Ft,Ee);if(n===Ee)return console.error("QStep needs to be a child of QStepper"),Ee;const{getCache:t}=Yt(),i=$(null),s=D(()=>n.value.modelValue===e.name),l=D(()=>r.platform.is.ios!==!0&&r.platform.is.chrome===!0||s.value!==!0||n.value.vertical!==!0?{}:{onScroll(w){const{target:h}=w;h.scrollTop>0&&(h.scrollTop=0),e.onScroll!==void 0&&a("scroll",w)}}),c=D(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function f(){const w=n.value.vertical;return w===!0&&n.value.keepAlive===!0?L($t,n.value.keepAliveProps.value,s.value===!0?[L(n.value.needsUniqueKeepAliveWrapper.value===!0?t(c.value,()=>({...at,name:c.value})):at,{key:c.value},o.default)]:void 0):w!==!0||s.value===!0?Jt(o):void 0}return()=>L("div",{ref:i,class:"q-stepper__step",role:"tabpanel",...l.value},n.value.vertical===!0?[L(Ht,{stepper:n.value,step:e,goToPanel:n.value.goToPanel}),n.value.animated===!0?L(Dn,f):f()]:[f()])}}),Qn=/(-\w)/g;function On(e){const o={};for(const a in e){const r=a.replace(Qn,n=>n[1].toUpperCase());o[r]=e[a]}return o}const zn=se({name:"QStepper",props:{...Cn,...$n,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:Un,setup(e,{slots:o}){const a=le(),r=bn(e,a.proxy.$q),{updatePanelsList:n,isValidPanelName:t,updatePanelIndex:i,getPanelContent:s,getPanels:l,panelDirectives:c,goToPanel:f,keepAliveProps:w,needsUniqueKeepAliveWrapper:h}=Fn();Vt(Ft,D(()=>({goToPanel:f,keepAliveProps:w,needsUniqueKeepAliveWrapper:h,...e})));const d=D(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(r.value===!0?" q-stepper--dark q-dark":"")),y=D(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function m(){const v=te(o.message,[]);if(e.vertical===!0){t(e.modelValue)&&i();const p=L("div",{class:"q-stepper__content"},te(o.default));return v===void 0?[p]:v.concat(p)}return[L("div",{class:y.value},l().map(p=>{const q=On(p.props);return L(Ht,{key:q.name,stepper:e,step:q,goToPanel:f})})),v,Sn("div",{class:"q-stepper__content q-panel-parent"},s(),"cont",e.swipeable,()=>c.value)]}return()=>(n(o),L("div",{class:d.value},En(o.navigation,m())))}});function Kn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Z={},Se,lt;function jn(){return lt||(lt=1,Se=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Se}var Pe={},K={},ut;function Y(){if(ut)return K;ut=1;let e;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return K.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},K.getSymbolTotalCodewords=function(r){return o[r]},K.getBCHDigit=function(a){let r=0;for(;a!==0;)r++,a>>>=1;return r},K.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},K.isKanjiModeEnabled=function(){return typeof e<"u"},K.toSJIS=function(r){return e(r)},K}var Be={},ct;function Je(){return ct||(ct=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function o(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+a)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,n){if(e.isValid(r))return r;try{return o(r)}catch{return n}}}(Be)),Be}var qe,dt;function Hn(){if(dt)return qe;dt=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(o){const a=Math.floor(o/8);return(this.buffer[a]>>>7-o%8&1)===1},put:function(o,a){for(let r=0;r<a;r++)this.putBit((o>>>a-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){const a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),o&&(this.buffer[a]|=128>>>this.length%8),this.length++}},qe=e,qe}var Ae,ft;function Yn(){if(ft)return Ae;ft=1;function e(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}return e.prototype.set=function(o,a,r,n){const t=o*this.size+a;this.data[t]=r,n&&(this.reservedBit[t]=!0)},e.prototype.get=function(o,a){return this.data[o*this.size+a]},e.prototype.xor=function(o,a,r){this.data[o*this.size+a]^=r},e.prototype.isReserved=function(o,a){return this.reservedBit[o*this.size+a]},Ae=e,Ae}var Ie={},ht;function Jn(){return ht||(ht=1,function(e){const o=Y().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const n=Math.floor(r/7)+2,t=o(r),i=t===145?26:Math.ceil((t-13)/(2*n-2))*2,s=[t-7];for(let l=1;l<n-1;l++)s[l]=s[l-1]-i;return s.push(6),s.reverse()},e.getPositions=function(r){const n=[],t=e.getRowColCoords(r),i=t.length;for(let s=0;s<i;s++)for(let l=0;l<i;l++)s===0&&l===0||s===0&&l===i-1||s===i-1&&l===0||n.push([t[s],t[l]]);return n}}(Ie)),Ie}var Ne={},gt;function Gn(){if(gt)return Ne;gt=1;const e=Y().getSymbolSize,o=7;return Ne.getPositions=function(r){const n=e(r);return[[0,0],[n-o,0],[0,n-o]]},Ne}var _e={},mt;function Wn(){return mt||(mt=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const o={N1:3,N2:3,N3:40,N4:10};e.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},e.from=function(n){return e.isValid(n)?parseInt(n,10):void 0},e.getPenaltyN1=function(n){const t=n.size;let i=0,s=0,l=0,c=null,f=null;for(let w=0;w<t;w++){s=l=0,c=f=null;for(let h=0;h<t;h++){let d=n.get(w,h);d===c?s++:(s>=5&&(i+=o.N1+(s-5)),c=d,s=1),d=n.get(h,w),d===f?l++:(l>=5&&(i+=o.N1+(l-5)),f=d,l=1)}s>=5&&(i+=o.N1+(s-5)),l>=5&&(i+=o.N1+(l-5))}return i},e.getPenaltyN2=function(n){const t=n.size;let i=0;for(let s=0;s<t-1;s++)for(let l=0;l<t-1;l++){const c=n.get(s,l)+n.get(s,l+1)+n.get(s+1,l)+n.get(s+1,l+1);(c===4||c===0)&&i++}return i*o.N2},e.getPenaltyN3=function(n){const t=n.size;let i=0,s=0,l=0;for(let c=0;c<t;c++){s=l=0;for(let f=0;f<t;f++)s=s<<1&2047|n.get(c,f),f>=10&&(s===1488||s===93)&&i++,l=l<<1&2047|n.get(f,c),f>=10&&(l===1488||l===93)&&i++}return i*o.N3},e.getPenaltyN4=function(n){let t=0;const i=n.data.length;for(let l=0;l<i;l++)t+=n.data[l];return Math.abs(Math.ceil(t*100/i/5)-10)*o.N4};function a(r,n,t){switch(r){case e.Patterns.PATTERN000:return(n+t)%2===0;case e.Patterns.PATTERN001:return n%2===0;case e.Patterns.PATTERN010:return t%3===0;case e.Patterns.PATTERN011:return(n+t)%3===0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(t/3))%2===0;case e.Patterns.PATTERN101:return n*t%2+n*t%3===0;case e.Patterns.PATTERN110:return(n*t%2+n*t%3)%2===0;case e.Patterns.PATTERN111:return(n*t%3+(n+t)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(n,t){const i=t.size;for(let s=0;s<i;s++)for(let l=0;l<i;l++)t.isReserved(l,s)||t.xor(l,s,a(n,l,s))},e.getBestMask=function(n,t){const i=Object.keys(e.Patterns).length;let s=0,l=1/0;for(let c=0;c<i;c++){t(c),e.applyMask(c,n);const f=e.getPenaltyN1(n)+e.getPenaltyN2(n)+e.getPenaltyN3(n)+e.getPenaltyN4(n);e.applyMask(c,n),f<l&&(l=f,s=c)}return s}}(_e)),_e}var he={},pt;function Gt(){if(pt)return he;pt=1;const e=Je(),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return he.getBlocksCount=function(n,t){switch(t){case e.L:return o[(n-1)*4+0];case e.M:return o[(n-1)*4+1];case e.Q:return o[(n-1)*4+2];case e.H:return o[(n-1)*4+3];default:return}},he.getTotalCodewordsCount=function(n,t){switch(t){case e.L:return a[(n-1)*4+0];case e.M:return a[(n-1)*4+1];case e.Q:return a[(n-1)*4+2];case e.H:return a[(n-1)*4+3];default:return}},he}var Te={},re={},vt;function Xn(){if(vt)return re;vt=1;const e=new Uint8Array(512),o=new Uint8Array(256);return function(){let r=1;for(let n=0;n<255;n++)e[n]=r,o[r]=n,r<<=1,r&256&&(r^=285);for(let n=255;n<512;n++)e[n]=e[n-255]}(),re.log=function(r){if(r<1)throw new Error("log("+r+")");return o[r]},re.exp=function(r){return e[r]},re.mul=function(r,n){return r===0||n===0?0:e[o[r]+o[n]]},re}var wt;function Zn(){return wt||(wt=1,function(e){const o=Xn();e.mul=function(r,n){const t=new Uint8Array(r.length+n.length-1);for(let i=0;i<r.length;i++)for(let s=0;s<n.length;s++)t[i+s]^=o.mul(r[i],n[s]);return t},e.mod=function(r,n){let t=new Uint8Array(r);for(;t.length-n.length>=0;){const i=t[0];for(let l=0;l<n.length;l++)t[l]^=o.mul(n[l],i);let s=0;for(;s<t.length&&t[s]===0;)s++;t=t.slice(s)}return t},e.generateECPolynomial=function(r){let n=new Uint8Array([1]);for(let t=0;t<r;t++)n=e.mul(n,new Uint8Array([1,o.exp(t)]));return n}}(Te)),Te}var Re,yt;function er(){if(yt)return Re;yt=1;const e=Zn();function o(a){this.genPoly=void 0,this.degree=a,this.degree&&this.initialize(this.degree)}return o.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},o.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(r.length+this.degree);n.set(r);const t=e.mod(n,this.genPoly),i=this.degree-t.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(t,i),s}return t},Re=o,Re}var ke={},Me={},De={},Ct;function Wt(){return Ct||(Ct=1,De.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}),De}var F={},bt;function Xt(){if(bt)return F;bt=1;const e="[0-9]+",o="[A-Z $%*+\\-./:]+";let a="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";a=a.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+a+`)(?:.|[\r
]))+`;F.KANJI=new RegExp(a,"g"),F.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),F.BYTE=new RegExp(r,"g"),F.NUMERIC=new RegExp(e,"g"),F.ALPHANUMERIC=new RegExp(o,"g");const n=new RegExp("^"+a+"$"),t=new RegExp("^"+e+"$"),i=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return F.testKanji=function(l){return n.test(l)},F.testNumeric=function(l){return t.test(l)},F.testAlphanumeric=function(l){return i.test(l)},F}var Et;function J(){return Et||(Et=1,function(e){const o=Wt(),a=Xt();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,i){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!o.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?t.ccBits[0]:i<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return a.testNumeric(t)?e.NUMERIC:a.testAlphanumeric(t)?e.ALPHANUMERIC:a.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits};function r(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+n)}}e.from=function(t,i){if(e.isValid(t))return t;try{return r(t)}catch{return i}}}(Me)),Me}var St;function tr(){return St||(St=1,function(e){const o=Y(),a=Gt(),r=Je(),n=J(),t=Wt(),i=7973,s=o.getBCHDigit(i);function l(h,d,y){for(let m=1;m<=40;m++)if(d<=e.getCapacity(m,y,h))return m}function c(h,d){return n.getCharCountIndicator(h,d)+4}function f(h,d){let y=0;return h.forEach(function(m){const v=c(m.mode,d);y+=v+m.getBitsLength()}),y}function w(h,d){for(let y=1;y<=40;y++)if(f(h,y)<=e.getCapacity(y,d,n.MIXED))return y}e.from=function(d,y){return t.isValid(d)?parseInt(d,10):y},e.getCapacity=function(d,y,m){if(!t.isValid(d))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=n.BYTE);const v=o.getSymbolTotalCodewords(d),p=a.getTotalCodewordsCount(d,y),q=(v-p)*8;if(m===n.MIXED)return q;const b=q-c(m,d);switch(m){case n.NUMERIC:return Math.floor(b/10*3);case n.ALPHANUMERIC:return Math.floor(b/11*2);case n.KANJI:return Math.floor(b/13);case n.BYTE:default:return Math.floor(b/8)}},e.getBestVersionForData=function(d,y){let m;const v=r.from(y,r.M);if(Array.isArray(d)){if(d.length>1)return w(d,v);if(d.length===0)return 1;m=d[0]}else m=d;return l(m.mode,m.getLength(),v)},e.getEncodedBits=function(d){if(!t.isValid(d)||d<7)throw new Error("Invalid QR Code version");let y=d<<12;for(;o.getBCHDigit(y)-s>=0;)y^=i<<o.getBCHDigit(y)-s;return d<<12|y}}(ke)),ke}var Ve={},Pt;function nr(){if(Pt)return Ve;Pt=1;const e=Y(),o=1335,a=21522,r=e.getBCHDigit(o);return Ve.getEncodedBits=function(t,i){const s=t.bit<<3|i;let l=s<<10;for(;e.getBCHDigit(l)-r>=0;)l^=o<<e.getBCHDigit(l)-r;return(s<<10|l)^a},Ve}var Le={},xe,Bt;function rr(){if(Bt)return xe;Bt=1;const e=J();function o(a){this.mode=e.NUMERIC,this.data=a.toString()}return o.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(r){let n,t,i;for(n=0;n+3<=this.data.length;n+=3)t=this.data.substr(n,3),i=parseInt(t,10),r.put(i,10);const s=this.data.length-n;s>0&&(t=this.data.substr(n),i=parseInt(t,10),r.put(i,s*3+1))},xe=o,xe}var $e,qt;function or(){if(qt)return $e;qt=1;const e=J(),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(r){this.mode=e.ALPHANUMERIC,this.data=r}return a.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(n){let t;for(t=0;t+2<=this.data.length;t+=2){let i=o.indexOf(this.data[t])*45;i+=o.indexOf(this.data[t+1]),n.put(i,11)}this.data.length%2&&n.put(o.indexOf(this.data[t]),6)},$e=a,$e}var Ue,At;function ir(){if(At)return Ue;At=1;const e=J();function o(a){this.mode=e.BYTE,typeof a=="string"?this.data=new TextEncoder().encode(a):this.data=new Uint8Array(a)}return o.getBitsLength=function(r){return r*8},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(a){for(let r=0,n=this.data.length;r<n;r++)a.put(this.data[r],8)},Ue=o,Ue}var Fe,It;function ar(){if(It)return Fe;It=1;const e=J(),o=Y();function a(r){this.mode=e.KANJI,this.data=r}return a.getBitsLength=function(n){return n*13},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(r){let n;for(n=0;n<this.data.length;n++){let t=o.toSJIS(this.data[n]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[n]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}},Fe=a,Fe}var Qe={exports:{}},Nt;function sr(){return Nt||(Nt=1,function(e){var o={single_source_shortest_paths:function(a,r,n){var t={},i={};i[r]=0;var s=o.PriorityQueue.make();s.push(r,0);for(var l,c,f,w,h,d,y,m,v;!s.empty();){l=s.pop(),c=l.value,w=l.cost,h=a[c]||{};for(f in h)h.hasOwnProperty(f)&&(d=h[f],y=w+d,m=i[f],v=typeof i[f]>"u",(v||m>y)&&(i[f]=y,s.push(f,y),t[f]=c))}if(typeof n<"u"&&typeof i[n]>"u"){var p=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(p)}return t},extract_shortest_path_from_predecessor_list:function(a,r){for(var n=[],t=r;t;)n.push(t),a[t],t=a[t];return n.reverse(),n},find_path:function(a,r,n){var t=o.single_source_shortest_paths(a,r,n);return o.extract_shortest_path_from_predecessor_list(t,n)},PriorityQueue:{make:function(a){var r=o.PriorityQueue,n={},t;a=a||{};for(t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n.queue=[],n.sorter=a.sorter||r.default_sorter,n},default_sorter:function(a,r){return a.cost-r.cost},push:function(a,r){var n={value:a,cost:r};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=o}(Qe)),Qe.exports}var _t;function lr(){return _t||(_t=1,function(e){const o=J(),a=rr(),r=or(),n=ir(),t=ar(),i=Xt(),s=Y(),l=sr();function c(p){return unescape(encodeURIComponent(p)).length}function f(p,q,b){const C=[];let R;for(;(R=p.exec(b))!==null;)C.push({data:R[0],index:R.index,mode:q,length:R[0].length});return C}function w(p){const q=f(i.NUMERIC,o.NUMERIC,p),b=f(i.ALPHANUMERIC,o.ALPHANUMERIC,p);let C,R;return s.isKanjiModeEnabled()?(C=f(i.BYTE,o.BYTE,p),R=f(i.KANJI,o.KANJI,p)):(C=f(i.BYTE_KANJI,o.BYTE,p),R=[]),q.concat(b,C,R).sort(function(A,B){return A.index-B.index}).map(function(A){return{data:A.data,mode:A.mode,length:A.length}})}function h(p,q){switch(q){case o.NUMERIC:return a.getBitsLength(p);case o.ALPHANUMERIC:return r.getBitsLength(p);case o.KANJI:return t.getBitsLength(p);case o.BYTE:return n.getBitsLength(p)}}function d(p){return p.reduce(function(q,b){const C=q.length-1>=0?q[q.length-1]:null;return C&&C.mode===b.mode?(q[q.length-1].data+=b.data,q):(q.push(b),q)},[])}function y(p){const q=[];for(let b=0;b<p.length;b++){const C=p[b];switch(C.mode){case o.NUMERIC:q.push([C,{data:C.data,mode:o.ALPHANUMERIC,length:C.length},{data:C.data,mode:o.BYTE,length:C.length}]);break;case o.ALPHANUMERIC:q.push([C,{data:C.data,mode:o.BYTE,length:C.length}]);break;case o.KANJI:q.push([C,{data:C.data,mode:o.BYTE,length:c(C.data)}]);break;case o.BYTE:q.push([{data:C.data,mode:o.BYTE,length:c(C.data)}])}}return q}function m(p,q){const b={},C={start:{}};let R=["start"];for(let S=0;S<p.length;S++){const A=p[S],B=[];for(let P=0;P<A.length;P++){const _=A[P],I=""+S+P;B.push(I),b[I]={node:_,lastCount:0},C[I]={};for(let N=0;N<R.length;N++){const g=R[N];b[g]&&b[g].node.mode===_.mode?(C[g][I]=h(b[g].lastCount+_.length,_.mode)-h(b[g].lastCount,_.mode),b[g].lastCount+=_.length):(b[g]&&(b[g].lastCount=_.length),C[g][I]=h(_.length,_.mode)+4+o.getCharCountIndicator(_.mode,q))}}R=B}for(let S=0;S<R.length;S++)C[R[S]].end=0;return{map:C,table:b}}function v(p,q){let b;const C=o.getBestModeForData(p);if(b=o.from(q,C),b!==o.BYTE&&b.bit<C.bit)throw new Error('"'+p+'" cannot be encoded with mode '+o.toString(b)+`.
 Suggested mode is: `+o.toString(C));switch(b===o.KANJI&&!s.isKanjiModeEnabled()&&(b=o.BYTE),b){case o.NUMERIC:return new a(p);case o.ALPHANUMERIC:return new r(p);case o.KANJI:return new t(p);case o.BYTE:return new n(p)}}e.fromArray=function(q){return q.reduce(function(b,C){return typeof C=="string"?b.push(v(C,null)):C.data&&b.push(v(C.data,C.mode)),b},[])},e.fromString=function(q,b){const C=w(q,s.isKanjiModeEnabled()),R=y(C),S=m(R,b),A=l.find_path(S.map,"start","end"),B=[];for(let P=1;P<A.length-1;P++)B.push(S.table[A[P]].node);return e.fromArray(d(B))},e.rawSplit=function(q){return e.fromArray(w(q,s.isKanjiModeEnabled()))}}(Le)),Le}var Tt;function ur(){if(Tt)return Pe;Tt=1;const e=Y(),o=Je(),a=Hn(),r=Yn(),n=Jn(),t=Gn(),i=Wn(),s=Gt(),l=er(),c=tr(),f=nr(),w=J(),h=lr();function d(S,A){const B=S.size,P=t.getPositions(A);for(let _=0;_<P.length;_++){const I=P[_][0],N=P[_][1];for(let g=-1;g<=7;g++)if(!(I+g<=-1||B<=I+g))for(let u=-1;u<=7;u++)N+u<=-1||B<=N+u||(g>=0&&g<=6&&(u===0||u===6)||u>=0&&u<=6&&(g===0||g===6)||g>=2&&g<=4&&u>=2&&u<=4?S.set(I+g,N+u,!0,!0):S.set(I+g,N+u,!1,!0))}}function y(S){const A=S.size;for(let B=8;B<A-8;B++){const P=B%2===0;S.set(B,6,P,!0),S.set(6,B,P,!0)}}function m(S,A){const B=n.getPositions(A);for(let P=0;P<B.length;P++){const _=B[P][0],I=B[P][1];for(let N=-2;N<=2;N++)for(let g=-2;g<=2;g++)N===-2||N===2||g===-2||g===2||N===0&&g===0?S.set(_+N,I+g,!0,!0):S.set(_+N,I+g,!1,!0)}}function v(S,A){const B=S.size,P=c.getEncodedBits(A);let _,I,N;for(let g=0;g<18;g++)_=Math.floor(g/3),I=g%3+B-8-3,N=(P>>g&1)===1,S.set(_,I,N,!0),S.set(I,_,N,!0)}function p(S,A,B){const P=S.size,_=f.getEncodedBits(A,B);let I,N;for(I=0;I<15;I++)N=(_>>I&1)===1,I<6?S.set(I,8,N,!0):I<8?S.set(I+1,8,N,!0):S.set(P-15+I,8,N,!0),I<8?S.set(8,P-I-1,N,!0):I<9?S.set(8,15-I-1+1,N,!0):S.set(8,15-I-1,N,!0);S.set(P-8,8,1,!0)}function q(S,A){const B=S.size;let P=-1,_=B-1,I=7,N=0;for(let g=B-1;g>0;g-=2)for(g===6&&g--;;){for(let u=0;u<2;u++)if(!S.isReserved(_,g-u)){let E=!1;N<A.length&&(E=(A[N]>>>I&1)===1),S.set(_,g-u,E),I--,I===-1&&(N++,I=7)}if(_+=P,_<0||B<=_){_-=P,P=-P;break}}}function b(S,A,B){const P=new a;B.forEach(function(u){P.put(u.mode.bit,4),P.put(u.getLength(),w.getCharCountIndicator(u.mode,S)),u.write(P)});const _=e.getSymbolTotalCodewords(S),I=s.getTotalCodewordsCount(S,A),N=(_-I)*8;for(P.getLengthInBits()+4<=N&&P.put(0,4);P.getLengthInBits()%8!==0;)P.putBit(0);const g=(N-P.getLengthInBits())/8;for(let u=0;u<g;u++)P.put(u%2?17:236,8);return C(P,S,A)}function C(S,A,B){const P=e.getSymbolTotalCodewords(A),_=s.getTotalCodewordsCount(A,B),I=P-_,N=s.getBlocksCount(A,B),g=P%N,u=N-g,E=Math.floor(P/N),x=Math.floor(I/N),U=x+1,Ge=E-x,en=new l(Ge);let pe=0;const ue=new Array(N),We=new Array(N);let ve=0;const tn=new Uint8Array(S.buffer);for(let G=0;G<N;G++){const ye=G<u?x:U;ue[G]=tn.slice(pe,pe+ye),We[G]=en.encode(ue[G]),pe+=ye,ve=Math.max(ve,ye)}const we=new Uint8Array(P);let Xe=0,O,z;for(O=0;O<ve;O++)for(z=0;z<N;z++)O<ue[z].length&&(we[Xe++]=ue[z][O]);for(O=0;O<Ge;O++)for(z=0;z<N;z++)we[Xe++]=We[z][O];return we}function R(S,A,B,P){let _;if(Array.isArray(S))_=h.fromArray(S);else if(typeof S=="string"){let E=A;if(!E){const x=h.rawSplit(S);E=c.getBestVersionForData(x,B)}_=h.fromString(S,E||40)}else throw new Error("Invalid data");const I=c.getBestVersionForData(_,B);if(!I)throw new Error("The amount of data is too big to be stored in a QR Code");if(!A)A=I;else if(A<I)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+I+`.
`);const N=b(A,B,_),g=e.getSymbolSize(A),u=new r(g);return d(u,A),y(u),m(u,A),p(u,B,0),A>=7&&v(u,A),q(u,N),isNaN(P)&&(P=i.getBestMask(u,p.bind(null,u,B))),i.applyMask(P,u),p(u,B,P),{modules:u,version:A,errorCorrectionLevel:B,maskPattern:P,segments:_}}return Pe.create=function(A,B){if(typeof A>"u"||A==="")throw new Error("No input text");let P=o.M,_,I;return typeof B<"u"&&(P=o.from(B.errorCorrectionLevel,o.M),_=c.from(B.version),I=i.from(B.maskPattern),B.toSJISFunc&&e.setToSJISFunction(B.toSJISFunc)),R(A,_,P,I)},Pe}var Oe={},ze={},Rt;function Zt(){return Rt||(Rt=1,function(e){function o(a){if(typeof a=="number"&&(a=a.toString()),typeof a!="string")throw new Error("Color should be defined as hex string");let r=a.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+a);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(t){return[t,t]}))),r.length===6&&r.push("F","F");const n=parseInt(r.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const n=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,t=r.width&&r.width>=21?r.width:void 0,i=r.scale||4;return{width:t,scale:t?4:i,margin:n,color:{dark:o(r.color.dark||"#000000ff"),light:o(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,n){return n.width&&n.width>=r+n.margin*2?n.width/(r+n.margin*2):n.scale},e.getImageWidth=function(r,n){const t=e.getScale(r,n);return Math.floor((r+n.margin*2)*t)},e.qrToImageData=function(r,n,t){const i=n.modules.size,s=n.modules.data,l=e.getScale(i,t),c=Math.floor((i+t.margin*2)*l),f=t.margin*l,w=[t.color.light,t.color.dark];for(let h=0;h<c;h++)for(let d=0;d<c;d++){let y=(h*c+d)*4,m=t.color.light;if(h>=f&&d>=f&&h<c-f&&d<c-f){const v=Math.floor((h-f)/l),p=Math.floor((d-f)/l);m=w[s[v*i+p]?1:0]}r[y++]=m.r,r[y++]=m.g,r[y++]=m.b,r[y]=m.a}}}(ze)),ze}var kt;function cr(){return kt||(kt=1,function(e){const o=Zt();function a(n,t,i){n.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=i,t.width=i,t.style.height=i+"px",t.style.width=i+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(t,i,s){let l=s,c=i;typeof l>"u"&&(!i||!i.getContext)&&(l=i,i=void 0),i||(c=r()),l=o.getOptions(l);const f=o.getImageWidth(t.modules.size,l),w=c.getContext("2d"),h=w.createImageData(f,f);return o.qrToImageData(h.data,t,l),a(w,c,f),w.putImageData(h,0,0),c},e.renderToDataURL=function(t,i,s){let l=s;typeof l>"u"&&(!i||!i.getContext)&&(l=i,i=void 0),l||(l={});const c=e.render(t,i,l),f=l.type||"image/png",w=l.rendererOpts||{};return c.toDataURL(f,w.quality)}}(Oe)),Oe}var Ke={},Mt;function dr(){if(Mt)return Ke;Mt=1;const e=Zt();function o(n,t){const i=n.a/255,s=t+'="'+n.hex+'"';return i<1?s+" "+t+'-opacity="'+i.toFixed(2).slice(1)+'"':s}function a(n,t,i){let s=n+t;return typeof i<"u"&&(s+=" "+i),s}function r(n,t,i){let s="",l=0,c=!1,f=0;for(let w=0;w<n.length;w++){const h=Math.floor(w%t),d=Math.floor(w/t);!h&&!c&&(c=!0),n[w]?(f++,w>0&&h>0&&n[w-1]||(s+=c?a("M",h+i,.5+d+i):a("m",l,0),l=0,c=!1),h+1<t&&n[w+1]||(s+=a("h",f),f=0)):l++}return s}return Ke.render=function(t,i,s){const l=e.getOptions(i),c=t.modules.size,f=t.modules.data,w=c+l.margin*2,h=l.color.light.a?"<path "+o(l.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",d="<path "+o(l.color.dark,"stroke")+' d="'+r(f,c,l.margin)+'"/>',y='viewBox="0 0 '+w+" "+w+'"',v='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+y+' shape-rendering="crispEdges">'+h+d+`</svg>
`;return typeof s=="function"&&s(null,v),v},Ke}var Dt;function fr(){if(Dt)return Z;Dt=1;const e=jn(),o=ur(),a=cr(),r=dr();function n(t,i,s,l,c){const f=[].slice.call(arguments,1),w=f.length,h=typeof f[w-1]=="function";if(!h&&!e())throw new Error("Callback required as last argument");if(h){if(w<2)throw new Error("Too few arguments provided");w===2?(c=s,s=i,i=l=void 0):w===3&&(i.getContext&&typeof c>"u"?(c=l,l=void 0):(c=l,l=s,s=i,i=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(s=i,i=l=void 0):w===2&&!i.getContext&&(l=s,s=i,i=void 0),new Promise(function(d,y){try{const m=o.create(s,l);d(t(m,i,l))}catch(m){y(m)}})}try{const d=o.create(s,l);c(null,t(d,i,l))}catch(d){c(d)}}return Z.create=o.create,Z.toCanvas=n.bind(null,a.render),Z.toDataURL=n.bind(null,a.renderToDataURL),Z.toString=n.bind(null,function(t,i,s){return r.render(t,s)}),Z}var hr=fr();const gr=Kn(hr),mr={class:"tw-flex tw-flex-col tw-items-start full-width"},pr={class:"q-my-none"},vr={class:"text-h6 q-mb-md"},wr={class:"q-mb-md"},yr={class:"q-mb-none"},Cr={class:"q-mb-none"},br={class:"q-mb-none"},Er={class:"q-mb-md"},Sr={class:"q-mb-none"},Pr={class:"q-mb-none"},Br={class:"q-mt-sm full-width"},qr={class:"tw-text-center"},Ar={class:"tw-text-right"},Ir=Qt({__name:"OrderConfirmationDialog",props:{modelValue:{type:Boolean,required:!0},orderDetails:{type:Object,required:!0},color:{type:String,required:!0},text:{type:String,required:!0}},emits:["update:modelValue","confirm","cancel"],setup(e,{emit:o}){const a=e,r=o,n=D({get:()=>a.modelValue,set:s=>r("update:modelValue",s)}),t=()=>{n.value=!1,r("confirm")},i=()=>{n.value=!1,r("cancel")};return(s,l)=>(Q(),ge(Pn,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=c=>n.value=c),class:"confirm-dialog"},{default:M(()=>[T(Ye,{style:{"max-width":"430px",width:"95vw",margin:"0 auto"}},{default:M(()=>[T(He,null,{default:M(()=>[k("div",mr,[k("h6",pr,V(s.$t("checkout.summary")),1),k("p",vr,V(s.$t("checkout.total"))+": "+V(j(ae)(e.orderDetails.total)),1),k("div",wr,[k("strong",null,V(s.$t("checkout.shippingDetails"))+":",1),k("p",yr,V(e.orderDetails.firstName)+" "+V(e.orderDetails.lastName),1),k("p",Cr,V(e.orderDetails.email),1),k("p",br,V(e.orderDetails.address),1)]),k("div",Er,[k("strong",null,V(s.$t("checkout.paymentInfo"))+":",1),k("p",Sr,V(s.$t("checkout.card"))+": **** **** **** "+V(e.orderDetails.cardNumber.slice(-4)),1),k("p",Pr,V(s.$t("checkout.expiry"))+": "+V(e.orderDetails.expiry),1)]),k("div",Br,[k("strong",null,V(s.$t("checkout.items"))+":",1),(Q(!0),ee(zt,null,Ot(e.orderDetails.items,c=>(Q(),ee("div",{key:c.id,class:"q-py-xs tw-grid tw-grid-cols-3 tw-gap-1 tw-w-full"},[k("div",null,V(c.name||c.title),1),k("div",qr,V(c.quantity),1),k("div",Ar,V(j(ae)(c.price)),1)]))),128))])])]),_:1}),T(Kt,{class:"tw-flex tw-flex-col sm:tw-flex-row tw-gap-2 tw-items-center !tw-justify-between"},{default:M(()=>[T(me,{label:s.$t("checkout.cancelButton"),outline:"",class:ie(["!tw-w-full sm:!tw-w-40 !tw-py-4 !tw-flex !tw-items-center !tw-justify-center",`tw-border-${e.color}`]),onClick:i},null,8,["label","class"]),T(me,{label:s.$t("checkout.confirmButton"),flat:"","text-color":e.text,class:ie(["!tw-w-full sm:!tw-w-40 !tw-m-0 !tw-py-4 !tw-flex !tw-items-center !tw-justify-center",`bg-${e.color}`]),onClick:t},null,8,["label","text-color","class"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Nr=jt(Ir,[["__scopeId","data-v-fd083914"]]),_r={class:"tw-container tw-max-w-screen-xl tw-mx-auto"},Tr={class:"row q-col-gutter-md"},Rr={class:"col-12 col-md-8"},kr={class:"col-12 col-sm-6"},Mr={class:"col-12 col-sm-6"},Dr={class:"col-12"},Vr={class:"col-12"},Lr={key:0,class:"text-positive text-xs"},xr={class:"col-12"},$r={class:"col-6"},Ur={class:"col-6"},Fr={key:1},Qr={key:0,class:"q-mt-lg"},Or={class:"col-12 col-md-4"},zr={class:"tw-text-xl tw-mb-4"},je=!1,Kr=Qt({__name:"CheckoutPage",setup(e){Bn(g=>({"426a9e85":d.value,a0d12c6a:y.value}));const o=Ut("scrollToTop"),a=qn(),r=An(),n=In();Nn();const t=$(1),i=$("card"),s=$(null),l=$(null),c=$({firstName:"",lastName:"",email:"",address:""}),f=$({cardNumber:"",expiry:"",cvv:""}),w=$(null),h=$(!1),d=D(()=>a.dark.isActive?"white":"black"),y=D(()=>a.dark.isActive?"black":"white"),m=a.dark.isActive,v=D(()=>r.items.reduce((g,u)=>g+u.price*u.quantity,0)),p="160600000075936693",q={id:Math.floor(Math.random()*1e3),items:r.items,total:v.value,firstName:c.value.firstName,lastName:c.value.lastName,email:c.value.email,address:c.value.address,cardNumber:f.value.cardNumber,cvv:f.value.cvv,expiry:f.value.expiry},b=async()=>{const g="Payment for E-comm-platform",u=Math.floor(Math.random()*1e3),E=D(()=>ae(v.value,"RSD").trim().replace(/\s+/,"").replace(",","").replace(".",",").replace(/(,\d{2})?$/,U=>U||",00")),x=`K:PR|V:01|C:1|P:${v.value.toFixed(2)}|S:${g}|N:E-comm-platform|I:${E.value}|R:${p}|RO:00${u}|SF:289`.trim();try{w.value=await gr.toDataURL(x,{width:300,margin:2})}catch(U){console.error("Error generating QR code:",U)}},C=g=>!!g||"Field is required",R=g=>/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(g)||"Invalid email",S=()=>{const g=s.value;g&&g.validate()?t.value=2:a.notify({type:"negative",position:"top",message:"Please fix errors in the form.",timeout:1e3})},A=()=>{const g=l.value;g&&g.validate()?(a.notify({type:"positive",position:"top",message:"Order placed successfully!",timeout:1e3}),t.value=3):a.notify({type:"negative",position:"top",message:"Please fix errors in the form.",timeout:1e3})},B=()=>{n.push("/cart")},P=()=>{h.value=!0},_=()=>{r.clearCart(),n.push("/thankyou")},I=()=>{h.value=!1},N=()=>{t.value++,o()};return Lt(()=>{b(),o()}),(g,u)=>(Q(),ge(Mn,{padding:""},{default:M(()=>[k("div",_r,[k("div",Tr,[k("div",Rr,[T(zn,{modelValue:t.value,"onUpdate:modelValue":u[9]||(u[9]=E=>t.value=E),vertical:"",class:"checkout-stepper !tw-bg-transparent full-width",color:"none","text-color":y.value,"header-nav":""},{default:M(()=>[T(st,{name:1,title:g.$t("checkout.shipping"),icon:"local_shipping",done:t.value>1,class:"checkout-step","header-nav":!0},{default:M(()=>[T(Ye,{flat:"",bordered:"",class:"!tw-p-0"},{default:M(()=>[T(He,null,{default:M(()=>[T(ot,{ref_key:"formRef",ref:s,class:"row q-col-gutter-md",onSubmit:S},{default:M(()=>[k("div",kr,[T(H,{modelValue:c.value.firstName,"onUpdate:modelValue":u[0]||(u[0]=E=>c.value.firstName=E),label:g.$t("checkout.firstName"),rules:[C]},null,8,["modelValue","label","rules"])]),k("div",Mr,[T(H,{modelValue:c.value.lastName,"onUpdate:modelValue":u[1]||(u[1]=E=>c.value.lastName=E),label:g.$t("checkout.lastName"),rules:[C]},null,8,["modelValue","label","rules"])]),k("div",Dr,[T(H,{modelValue:c.value.email,"onUpdate:modelValue":u[2]||(u[2]=E=>c.value.email=E),label:g.$t("checkout.email"),type:"email",rules:[C,R]},null,8,["modelValue","label","rules"])]),k("div",Vr,[T(H,{modelValue:c.value.address,"onUpdate:modelValue":u[3]||(u[3]=E=>c.value.address=E),label:g.$t("checkout.address"),rules:[C]},null,8,["modelValue","label","rules"])])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["title","done"]),T(st,{name:2,title:g.$t("checkout.payment"),icon:"payment",done:t.value>2,"header-nav":!0},{default:M(()=>[T(de,{class:"!tw-p-0"},{default:M(()=>[T(W,{class:"tw-text-sm"},{default:M(()=>[T(nt,{modelValue:i.value,"onUpdate:modelValue":u[4]||(u[4]=E=>i.value=E),val:"card",label:g.$t("checkout.cardPayment")},null,8,["modelValue","label"]),T(nt,{modelValue:i.value,"onUpdate:modelValue":u[5]||(u[5]=E=>i.value=E),val:"ips",disable:!je},{default:M(()=>[k("span",null,[X(V(g.$t("checkout.ipsScanQrCode"))+" ",1),je?fe("",!0):(Q(),ee("span",Lr," - "+V(g.$t("checkout.ipsInfo")),1))])]),_:1},8,["modelValue","disable"])]),_:1})]),_:1}),i.value==="card"?(Q(),ge(Ye,{key:0,flat:"",bordered:""},{default:M(()=>[T(He,null,{default:M(()=>[T(ot,{ref_key:"paymentRef",ref:l,class:"row q-col-gutter-md",onSubmit:_n(A,["prevent"])},{default:M(()=>[k("div",xr,[T(H,{modelValue:f.value.cardNumber,"onUpdate:modelValue":u[6]||(u[6]=E=>f.value.cardNumber=E),label:g.$t("checkout.cardNumber"),mask:"#### #### #### ####",rules:[C]},null,8,["modelValue","label","rules"])]),k("div",$r,[T(H,{modelValue:f.value.expiry,"onUpdate:modelValue":u[7]||(u[7]=E=>f.value.expiry=E),label:"MM/YY",mask:"##/##",rules:[C]},null,8,["modelValue","rules"])]),k("div",Ur,[T(H,{modelValue:f.value.cvv,"onUpdate:modelValue":u[8]||(u[8]=E=>f.value.cvv=E),label:"CVV",mask:"###",rules:[C]},null,8,["modelValue","rules"])])]),_:1},512)]),_:1})]),_:1})):fe("",!0),je&&i.value==="ips"?(Q(),ee("div",Fr,[w.value?(Q(),ee("div",Qr,[T(kn,{src:w.value,alt:"QR Code for Payment",fit:"contain",class:"tw-w-48 tw-h-48"},null,8,["src"])])):fe("",!0)])):fe("",!0)]),_:1},8,["title","done"])]),_:1},8,["modelValue","text-color"])]),k("div",Or,[T(de,{class:ie(["tw-flex tw-justify-between tw-flex-col tw-gap-4 sm:!tw-pt-4 sm:!tw-pb-3 tw-rounded-md",j(m)?"tw-bg-transparent text-light":"bg-light text-dark"])},{default:M(()=>[T(W,{class:"tw-w-full"},{default:M(()=>[k("div",zr,V(g.$t("checkout.orderSummary")),1),T(Tn,{dense:"",class:"tw-w-full tw-flex tw-flex-col tw-justify-between"},{default:M(()=>[(Q(!0),ee(zt,null,Ot(j(r).items,E=>(Q(),ge(de,{key:E.id,class:"tw-justify-between"},{default:M(()=>[T(W,null,{default:M(()=>[T(rt,null,{default:M(()=>[X(V(E.name||E.title),1)]),_:2},1024),T(rt,{caption:""},{default:M(()=>[X(V(g.$t("checkout.qty"))+": "+V(E.quantity),1)]),_:2},1024)]),_:2},1024),T(W,{side:"",class:ie(j(m)?"text-light":"text-dark")},{default:M(()=>[X(V(j(ae)(E.price*E.quantity)),1)]),_:2},1032,["class"])]),_:2},1024))),128)),T(Rn,{class:"q-my-md"}),T(de,null,{default:M(()=>[T(W,{class:"text-subtitle1 text-weight-bold"},{default:M(()=>[X(V(g.$t("checkout.total")),1)]),_:1}),T(W,{side:"",class:ie(["text-subtitle1 text-weight-bold",j(m)?"text-light":"text-dark"])},{default:M(()=>[X(V(j(ae)(v.value)),1)]),_:1},8,["class"])]),_:1})]),_:1})]),_:1}),T(Kt,{align:"center"},{default:M(()=>[T(me,{color:d.value,"text-color":y.value,label:t.value===2?g.$t("checkout.placeOrder"):g.$t("checkout.continue"),type:"submit",class:"full-width tw-mb-2 !tw-py-4",onClick:u[10]||(u[10]=E=>t.value===2?P():N())},null,8,["color","text-color","label"]),T(me,{color:y.value,"text-color":d.value,label:g.$t("checkout.cart"),class:"full-width !tw-py-4",onClick:u[11]||(u[11]=E=>B())},null,8,["color","text-color","label"])]),_:1})]),_:1},8,["class"])])])]),T(Nr,{modelValue:h.value,"onUpdate:modelValue":u[12]||(u[12]=E=>h.value=E),"order-details":q,color:d.value,text:y.value,onConfirm:_,onCancel:I},null,8,["modelValue","color","text"])]),_:1}))}}),Gr=jt(Kr,[["__scopeId","data-v-7ed2e496"]]);export{Gr as default};
