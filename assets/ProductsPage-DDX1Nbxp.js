import{c as Ce,M as Ze,aq as et,N as tt,l as n,r as q,ar as at,G as X,as as Ie,at as lt,au as Re,h as A,ae as ot,i as ke,a4 as xe,S as ge,U as L,V as J,W as ne,X as F,Y as nt,Z as G,_ as oe,a3 as rt,a0 as Y,a2 as ue,$ as ie,ai as it,aj as ut,a6 as st,I as _e,J as he,av as De,k as Fe,e as Qe,w as ct,R as dt,aw as vt,s as ft,Q as ve,O as gt,ax as ye,F as Le,ay as bt,p as mt,o as ht,a as yt,az as wt,g as Ct,a1 as Te,aA as kt,aa as je,a5 as xt,a8 as Tt,ab as St,ac as Pt,ad as qt,am as pt,ak as Me}from"./index-Bz4z6p9_.js";import{Q as $t}from"./QPage-Dztn72rg.js";import{u as At}from"./products-DJ6csxPh.js";import{Q as Bt,f as we}from"./currencyUtils-C0GQiJ3_.js";import"./rates-DVNeSlnc.js";function ce(e,S){return[!0,!1].includes(e)?e:S}const Vt=Ce({name:"QPagination",props:{...Ze,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||et.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:S}){const{proxy:k}=ke(),{$q:m}=k,l=tt(e,m),g=n(()=>parseInt(e.min,10)),o=n(()=>parseInt(e.max,10)),u=n(()=>parseInt(e.maxPages,10)),s=n(()=>p.value+" / "+o.value),w=n(()=>ce(e.boundaryLinks,e.input)),y=n(()=>ce(e.boundaryNumbers,!e.input)),P=n(()=>ce(e.directionLinks,e.input)),B=n(()=>ce(e.ellipses,!e.input)),C=q(null),p=n({get:()=>e.modelValue,set:c=>{if(c=parseInt(c,10),e.disable||isNaN(c))return;const r=at(c,g.value,o.value);e.modelValue!==r&&S("update:modelValue",r)}});X(()=>`${g.value}|${o.value}`,()=>{p.value=e.modelValue});const D=n(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),Q=n(()=>e.gutter in Ie?`${Ie[e.gutter]}px`:e.gutter||null),O=n(()=>Q.value!==null?`--q-pagination-gutter-parent:-${Q.value};--q-pagination-gutter-child:${Q.value}`:null),j=n(()=>{const c=[e.iconFirst||m.iconSet.pagination.first,e.iconPrev||m.iconSet.pagination.prev,e.iconNext||m.iconSet.pagination.next,e.iconLast||m.iconSet.pagination.last];return m.lang.rtl===!0?c.reverse():c}),d=n(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),$=n(()=>lt(e,"flat")),M=n(()=>({[$.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),V=n(()=>{const c={[$.value]:!1};return e.activeDesign!==""&&(c[e.activeDesign]=!0),c}),v=n(()=>({...V.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),h=n(()=>{let c=Math.max(u.value,1+(B.value?2:0)+(y.value?2:0));const r={pgFrom:g.value,pgTo:o.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(o.value).length)}em`}};return u.value&&c<o.value-g.value+1&&(c=1+Math.floor(c/2)*2,r.pgFrom=Math.max(g.value,Math.min(o.value-c+1,e.modelValue-Math.floor(c/2))),r.pgTo=Math.min(o.value,r.pgFrom+c-1),y.value&&(r.boundaryStart=!0,r.pgFrom++),B.value&&r.pgFrom>g.value+(y.value?1:0)&&(r.ellipsesStart=!0,r.pgFrom++),y.value&&(r.boundaryEnd=!0,r.pgTo--),B.value&&r.pgTo<o.value-(y.value?1:0)&&(r.ellipsesEnd=!0,r.pgTo--)),r});function R(c){p.value=c}function Z(c){p.value=p.value+c}const ee=n(()=>{function c(){p.value=C.value,C.value=null}return{"onUpdate:modelValue":r=>{C.value=r},onKeyup:r=>{Re(r,13)===!0&&c()},onBlur:c}});function E(c,r,U){const N={"aria-label":r,"aria-current":"false",...M.value,...c};return U===!0&&Object.assign(N,{"aria-current":"true",...v.value}),r!==void 0&&(e.toFn!==void 0?N.to=e.toFn(r):N.onClick=()=>{R(r)}),A(xe,N)}return Object.assign(k,{set:R,setByOffset:Z}),()=>{const c=[],r=[];let U;if(w.value===!0&&(c.push(E({key:"bls",disable:e.disable||e.modelValue<=g.value,icon:j.value[0]},g.value)),r.unshift(E({key:"ble",disable:e.disable||e.modelValue>=o.value,icon:j.value[3]},o.value))),P.value===!0&&(c.push(E({key:"bdp",disable:e.disable||e.modelValue<=g.value,icon:j.value[1]},e.modelValue-1)),r.unshift(E({key:"bdn",disable:e.disable||e.modelValue>=o.value,icon:j.value[2]},e.modelValue+1))),e.input!==!0){U=[];const{pgFrom:N,pgTo:te,marginalStyle:z}=h.value;if(h.value.boundaryStart===!0){const _=g.value===e.modelValue;c.push(E({key:"bns",style:z,disable:e.disable,label:g.value},g.value,_))}if(h.value.boundaryEnd===!0){const _=o.value===e.modelValue;r.unshift(E({key:"bne",style:z,disable:e.disable,label:o.value},o.value,_))}h.value.ellipsesStart===!0&&c.push(E({key:"bes",style:z,disable:e.disable,label:"…",ripple:!1},N-1)),h.value.ellipsesEnd===!0&&r.unshift(E({key:"bee",style:z,disable:e.disable,label:"…",ripple:!1},te+1));for(let _=N;_<=te;_++)U.push(E({key:`bpg${_}`,style:z,disable:e.disable,label:_},_,_===e.modelValue))}return A("div",{class:D.value,...d.value},[A("div",{class:"q-pagination__content row no-wrap items-center",style:O.value},[...c,e.input===!0?A(ot,{class:"inline",style:{width:`${s.value.length/1.5}em`},type:"number",dense:!0,value:C.value,disable:e.disable,dark:l.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:s.value,min:g.value,max:o.value,...ee.value}):A("div",{class:"q-pagination__middle row justify-center"},U),...r])])}}}),It={class:"text-bold"},Lt={class:"text-caption"},Mt={class:"q-mt-sm text-bold price-text"},Rt={class:"text-grey"},_t={class:"text-positive q-ml-sm"},Dt=ge({__name:"ProductCard",props:{product:{type:Object,required:!0},color:{type:String,default:"primary"},text:{type:String,default:"white"}},emits:["add-to-cart","view-product"],setup(e,{emit:S}){const k=S,m=u=>{k("add-to-cart",u)},l=u=>{k("view-product",u)},g=u=>u,o=u=>{const s=u.match(/[^.!?]*[.!?]/);return s?s[0]:u};return(u,s)=>(L(),J(st,{bordered:"",class:"product tw-w-full tw-max-w-72 tw-mx-auto !tw-bg-primary sm:tw-mx-none tw-transition tw-duration-200 tw-ease-in-out hover:tw-cursor-pointer hover:tw-scale-105 tw-shadow-none",onClick:s[1]||(s[1]=w=>l(e.product))},{default:ne(()=>[F(Bt,{src:g(e.product.image),alt:e.product.name,fit:"contain",class:"sm:tw-h-2/3 tw-w-full tw-max-h-1.5"},null,8,["src","alt"]),F(nt,{class:"tw-flex-grow q-px-sm !tw-pb-0"},{default:ne(()=>[G("div",It,oe(e.product.name||e.product.title),1),G("div",Lt,oe(o(e.product.description)),1)]),_:1}),F(rt,{class:"row justify-between items-center !tw-pt-0"},{default:ne(()=>[G("div",Mt,[e.product.discount?(L(),Y(ue,{key:0},[G("span",Rt,oe(ie(we)(e.product.price)),1),G("span",_t,oe(ie(we)(e.product.discountedPrice||e.product.price)),1)],64)):(L(),Y(ue,{key:1},[it(oe(ie(we)(e.product.price)),1)],64))]),F(xe,{color:e.color,"text-color":e.text,label:u.$t("products.addToCart"),class:"full-width q-mt-md !tw-py-4",onClick:s[0]||(s[0]=ut(w=>m(e.product),["stop"]))},null,8,["color","text-color","label"])]),_:1})]),_:1}))}});let Ft=0;const Qt=["click","keydown"],jt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Ft++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Et(e,S,k,m){const l=_e(De,he);if(l===he)return console.error("QTab/QRouteTab component needs to be child of QTabs"),he;const{proxy:g}=ke(),o=q(null),u=q(null),s=q(null),w=n(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),y=n(()=>l.currentModel.value===e.name),P=n(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(y.value===!0?" q-tab--active"+(l.tabProps.value.activeClass?" "+l.tabProps.value.activeClass:"")+(l.tabProps.value.activeColor?` text-${l.tabProps.value.activeColor}`:"")+(l.tabProps.value.activeBgColor?` bg-${l.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&l.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||l.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),B=n(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(l.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),C=n(()=>e.disable===!0||l.hasFocus.value===!0||y.value===!1&&l.hasActiveTab.value===!0?-1:e.tabindex||0);function p(d,$){if($!==!0&&o.value!==null&&o.value.focus(),e.disable!==!0){l.updateModel({name:e.name}),k("click",d);return}}function D(d){Re(d,[13,32])?p(d,!0):vt(d)!==!0&&d.keyCode>=35&&d.keyCode<=40&&d.altKey!==!0&&d.metaKey!==!0&&l.onKbdNavigate(d.keyCode,g.$el)===!0&&ft(d),k("keydown",d)}function Q(){const d=l.tabProps.value.narrowIndicator,$=[],M=A("div",{ref:s,class:["q-tab__indicator",l.tabProps.value.indicatorClass]});e.icon!==void 0&&$.push(A(ve,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&$.push(A("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&$.push(e.alertIcon!==void 0?A(ve,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):A("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),d===!0&&$.push(M);const V=[A("div",{class:"q-focus-helper",tabindex:-1,ref:o}),A("div",{class:B.value},gt(S.default,$))];return d===!1&&V.push(M),V}const O={name:n(()=>e.name),rootRef:u,tabIndicatorRef:s,routeData:m};Fe(()=>{l.unregisterTab(O)}),Qe(()=>{l.registerTab(O)});function j(d,$){const M={ref:u,class:P.value,tabindex:C.value,role:"tab","aria-selected":y.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:p,onKeydown:D,...$};return ct(A(d,M,Q()),[[dt,w.value]])}return{renderTab:j,$tabs:l}}const fe=Ce({name:"QTab",props:jt,emits:Qt,setup(e,{slots:S,emit:k}){const{renderTab:m}=Et(e,S,k);return()=>m("div")}});function Nt(e,S,k){const m=k===!0?["left","right"]:["top","bottom"];return`absolute-${S===!0?m[0]:m[1]}${e?` text-${e}`:""}`}const Ot=["left","center","right","justify"],Ee=Ce({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Ot.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:S,emit:k}){const{proxy:m}=ke(),{$q:l}=m,{registerTick:g}=ye(),{registerTick:o}=ye(),{registerTick:u}=ye(),{registerTimeout:s,removeTimeout:w}=Le(),{registerTimeout:y,removeTimeout:P}=Le(),B=q(null),C=q(null),p=q(e.modelValue),D=q(!1),Q=q(!0),O=q(!1),j=q(!1),d=[],$=q(0),M=q(!1);let V=null,v=null,h;const R=n(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Nt(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),Z=n(()=>{const t=$.value,a=p.value;for(let i=0;i<t;i++)if(d[i].name.value===a)return!0;return!1}),ee=n(()=>`q-tabs__content--align-${D.value===!0?"left":j.value===!0?"justify":e.align}`),E=n(()=>`q-tabs row no-wrap items-center q-tabs--${D.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),c=n(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+ee.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),r=n(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),U=n(()=>e.vertical!==!0&&l.lang.rtl===!0),N=n(()=>bt===!1&&U.value===!0);X(U,le),X(()=>e.modelValue,t=>{te({name:t,setCurrent:!0,skipEmit:!0})}),X(()=>e.outsideArrows,z);function te({name:t,setCurrent:a,skipEmit:i}){p.value!==t&&(i!==!0&&e["onUpdate:modelValue"]!==void 0&&k("update:modelValue",t),(a===!0||e["onUpdate:modelValue"]===void 0)&&(Ne(p.value,t),p.value=t))}function z(){g(()=>{B.value&&_({width:B.value.offsetWidth,height:B.value.offsetHeight})})}function _(t){if(r.value===void 0||C.value===null)return;const a=t[r.value.container],i=Math.min(C.value[r.value.scroll],Array.prototype.reduce.call(C.value.children,(T,b)=>T+(b[r.value.content]||0),0)),x=a>0&&i>a;D.value=x,x===!0&&o(le),j.value=a<parseInt(e.breakpoint,10)}function Ne(t,a){const i=t!=null&&t!==""?d.find(T=>T.name.value===t):null,x=a!=null&&a!==""?d.find(T=>T.name.value===a):null;if(se===!0)se=!1;else if(i&&x){const T=i.tabIndicatorRef.value,b=x.tabIndicatorRef.value;V!==null&&(clearTimeout(V),V=null),T.style.transition="none",T.style.transform="none",b.style.transition="none",b.style.transform="none";const f=T.getBoundingClientRect(),I=b.getBoundingClientRect();b.style.transform=e.vertical===!0?`translate3d(0,${f.top-I.top}px,0) scale3d(1,${I.height?f.height/I.height:1},1)`:`translate3d(${f.left-I.left}px,0,0) scale3d(${I.width?f.width/I.width:1},1,1)`,u(()=>{V=setTimeout(()=>{V=null,b.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",b.style.transform="none"},70)})}x&&D.value===!0&&ae(x.rootRef.value)}function ae(t){const{left:a,width:i,top:x,height:T}=C.value.getBoundingClientRect(),b=t.getBoundingClientRect();let f=e.vertical===!0?b.top-x:b.left-a;if(f<0){C.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(f),le();return}f+=e.vertical===!0?b.height-T:b.width-i,f>0&&(C.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(f),le())}function le(){const t=C.value;if(t===null)return;const a=t.getBoundingClientRect(),i=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);U.value===!0?(Q.value=Math.ceil(i+a.width)<t.scrollWidth-1,O.value=i>0):(Q.value=i>0,O.value=e.vertical===!0?Math.ceil(i+a.height)<t.scrollHeight:Math.ceil(i+a.width)<t.scrollWidth)}function Se(t){v!==null&&clearInterval(v),v=setInterval(()=>{ze(t)===!0&&W()},5)}function Pe(){Se(N.value===!0?Number.MAX_SAFE_INTEGER:0)}function qe(){Se(N.value===!0?0:Number.MAX_SAFE_INTEGER)}function W(){v!==null&&(clearInterval(v),v=null)}function Oe(t,a){const i=Array.prototype.filter.call(C.value.children,I=>I===a||I.matches&&I.matches(".q-tab.q-focusable")===!0),x=i.length;if(x===0)return;if(t===36)return ae(i[0]),i[0].focus(),!0;if(t===35)return ae(i[x-1]),i[x-1].focus(),!0;const T=t===(e.vertical===!0?38:37),b=t===(e.vertical===!0?40:39),f=T===!0?-1:b===!0?1:void 0;if(f!==void 0){const I=U.value===!0?-1:1,K=i.indexOf(a)+f*I;return K>=0&&K<x&&(ae(i[K]),i[K].focus({preventScroll:!0})),!0}}const Ue=n(()=>N.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,a)=>{t.scrollLeft=-a}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,a)=>{t.scrollTop=a}}:{get:t=>t.scrollLeft,set:(t,a)=>{t.scrollLeft=a}});function ze(t){const a=C.value,{get:i,set:x}=Ue.value;let T=!1,b=i(a);const f=t<b?-1:1;return b+=f*5,b<0?(T=!0,b=0):(f===-1&&b<=t||f===1&&b>=t)&&(T=!0,b=t),x(a,b),le(),T}function pe(t,a){for(const i in t)if(t[i]!==a[i])return!1;return!0}function Ke(){let t=null,a={matchedLen:0,queryDiff:9999,hrefLen:0};const i=d.filter(f=>f.routeData!==void 0&&f.routeData.hasRouterLink.value===!0),{hash:x,query:T}=m.$route,b=Object.keys(T).length;for(const f of i){const I=f.routeData.exact.value===!0;if(f.routeData[I===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:K,query:be,matched:Je,href:Ye}=f.routeData.resolvedLink.value,me=Object.keys(be).length;if(I===!0){if(K!==x||me!==b||pe(T,be)===!1)continue;t=f.name.value;break}if(K!==""&&K!==x||me!==0&&pe(be,T)===!1)continue;const H={matchedLen:Je.length,queryDiff:b-me,hrefLen:Ye.length-K.length};if(H.matchedLen>a.matchedLen){t=f.name.value,a=H;continue}else if(H.matchedLen!==a.matchedLen)continue;if(H.queryDiff<a.queryDiff)t=f.name.value,a=H;else if(H.queryDiff!==a.queryDiff)continue;H.hrefLen>a.hrefLen&&(t=f.name.value,a=H)}if(t===null&&d.some(f=>f.routeData===void 0&&f.name.value===p.value)===!0){se=!1;return}te({name:t,setCurrent:!0})}function We(t){if(w(),M.value!==!0&&B.value!==null&&t.target&&typeof t.target.closest=="function"){const a=t.target.closest(".q-tab");a&&B.value.contains(a)===!0&&(M.value=!0,D.value===!0&&ae(a))}}function He(){s(()=>{M.value=!1},30)}function re(){Ae.avoidRouteWatcher===!1?y(Ke):P()}function $e(){if(h===void 0){const t=X(()=>m.$route.fullPath,re);h=()=>{t(),h=void 0}}}function Ge(t){d.push(t),$.value++,z(),t.routeData===void 0||m.$route===void 0?y(()=>{if(D.value===!0){const a=p.value,i=a!=null&&a!==""?d.find(x=>x.name.value===a):null;i&&ae(i.rootRef.value)}}):($e(),t.routeData.hasRouterLink.value===!0&&re())}function Xe(t){d.splice(d.indexOf(t),1),$.value--,z(),h!==void 0&&t.routeData!==void 0&&(d.every(a=>a.routeData===void 0)===!0&&h(),re())}const Ae={currentModel:p,tabProps:R,hasFocus:M,hasActiveTab:Z,registerTab:Ge,unregisterTab:Xe,verifyRouteModel:re,updateModel:te,onKbdNavigate:Oe,avoidRouteWatcher:!1};mt(De,Ae);function Be(){V!==null&&clearTimeout(V),W(),h!==void 0&&h()}let Ve,se;return Fe(Be),ht(()=>{Ve=h!==void 0,Be()}),yt(()=>{Ve===!0&&($e(),se=!0,re()),z()}),()=>A("div",{ref:B,class:E.value,role:"tablist",onFocusin:We,onFocusout:He},[A(wt,{onResize:_}),A("div",{ref:C,class:c.value,onScroll:le},Ct(S.default)),A(ve,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(Q.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||l.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Pe,onTouchstartPassive:Pe,onMouseupPassive:W,onMouseleavePassive:W,onTouchendPassive:W}),A(ve,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(O.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||l.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:qe,onTouchstartPassive:qe,onMouseupPassive:W,onMouseleavePassive:W,onTouchendPassive:W})])}}),Ut=ge({__name:"CategorySelect",props:{selectedCategory:{type:String,required:!0},categories:{type:Array,required:!0},color:{type:String,required:!0},text:{type:String,required:!0}},emits:["update:selectedCategory"],setup(e,{emit:S}){const k=e,m=S,l=n({get:()=>k.selectedCategory,set:o=>{m("update:selectedCategory",o)}}),g=o=>o?o.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" "):"";return(o,u)=>(L(),Y("div",null,[F(Ee,{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=s=>l.value=s),class:"q-mb-md gt-sm","active-color":e.color,"active-bg-color":e.color,"text-color":e.color,"inactive-color":e.color,align:"justify"},{default:ne(()=>[F(fe,{name:"all",label:o.$t("products.categories.allProducts")},null,8,["label"]),(L(!0),Y(ue,null,Te(e.categories,s=>(L(),J(fe,{key:s,name:s,label:g(s)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),F(kt,{modelValue:l.value,"onUpdate:modelValue":u[1]||(u[1]=s=>l.value=s),options:["all",...e.categories],class:"q-my-md lt-md",color:e.color,"text-color":e.text,label:o.$t("products.selectCategory"),outlined:"","option-label":s=>s==="all"?o.$t("products.categories.allProducts"):g(s)},null,8,["modelValue","options","color","text-color","label","option-label"])]))}}),zt=ge({__name:"ProductTabs",props:{selectedCategory:{type:String,required:!0},scrollOffset:{type:Number,default:0},categories:{type:Array,required:!0}},emits:["update:selectedCategory"],setup(e,{emit:S}){const k=e,m=S,l=je(),g=q(!1),o=q(k.selectedCategory),u=n(()=>({stickyBgColor:l.dark.isActive?"dark":"light",activeBgColor:(l.dark.isActive,"white"),activeTextColor:l.dark.isActive?"dark":"black",backgroundColor:l.dark.isActive?"white":"black",textColor:l.dark.isActive?"black":"white"}));X(()=>k.scrollOffset,w=>{g.value=w>0},{immediate:!0}),X(()=>k.selectedCategory,w=>{w!==o.value&&(o.value=w)}),X(()=>o.value,w=>{m("update:selectedCategory",w)});const s=w=>w.split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ");return(w,y)=>(L(),Y("div",{class:xt(["sticky tw-transition-all tw-duration-300",g.value?`tw-fixed tw-left-0 tw-w-screen tw-z-50 tw-px-3 tw-shadow-md !tw-py-0  tw-bg-[var(--q-bg-${u.value.stickyBgColor})] tw-top-0`:""])},[F(Ee,{modelValue:o.value,"onUpdate:modelValue":y[0]||(y[0]=P=>o.value=P),"indicator-color":"transparent",class:"gt-sm !tw-max-w-screen-xl tw-mx-auto","active-color":u.value.activeTextColor,"active-bg-color":u.value.activeBgColor,"text-color":u.value.backgroundColor,"inactive-color":u.value.textColor,align:"justify"},{default:ne(()=>[F(fe,{name:"all",label:w.$t("products.categories.allProducts")},null,8,["label"]),(L(!0),Y(ue,null,Te(e.categories,P=>(L(),J(fe,{key:P,name:P,label:s(P)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),F(Ut,{"selected-category":o.value,"onUpdate:selectedCategory":y[1]||(y[1]=P=>o.value=P),categories:e.categories,color:u.value.backgroundColor,text:u.value.textColor,class:"q-my-md lt-md"},null,8,["selected-category","categories","color","text"])],2))}}),Kt=Tt(zt,[["__scopeId","data-v-283e050d"]]),Wt={class:"tw-font-serif"},Ht={class:"tw-container tw-mx-auto tw-mb-8 grid justify-center"},Gt={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 xl:tw-grid-cols-4 tw-gap-4"},de=10,ta=ge({__name:"ProductsPage",props:{scrollOffset:{type:Number,required:!0}},setup(e){const S=_e("scrollToTop"),k=e,m=St(),l=je(),g=Pt(),o=At(),{t:u}=qt(),s=q([]),w=q(1),y=q("all"),P=q([]),B=q(!0),C=n(()=>({activeTextColor:l.dark.isActive?"dark":"black",backgroundColor:l.dark.isActive?"white":"black",textColor:l.dark.isActive?"black":"white",paginationColor:l.dark.isActive?"light":"dark",paginationTextColor:l.dark.isActive?"white":"black",paginationActiveColor:l.dark.isActive?"white":"dark",paginationActiveTextColor:l.dark.isActive?"black":"white"})),p=n(()=>s.value.length?y.value==="all"?s.value:s.value.filter(v=>v.category===y.value):[]),D=n(()=>p.value.slice((w.value-1)*de,w.value*de)),Q=n(()=>Math.ceil(s.value.length/de)),O=n(()=>k.scrollOffset>300),j=v=>{m.addItem({...v,quantity:1}),l.notify({color:"positive",position:"top",timeout:1e3,message:u("products.itemAdded"),icon:"check_circle"})},d=v=>{g.push(`/products/${v.id}`)},$=async v=>{y.value=v,w.value=1,await V(v)},M=async()=>{try{if(B.value=!0,o.isCategoryCacheValid()){const h=o.getCategoryCache();if(h){P.value=h.categories;return}}const v=await fetch("https://e-comm-backend-16bba1769344.herokuapp.com/products/categories");if(!v.ok){if(console.warn(`API returned ${v.status} for categories`),P.value.length)return;P.value=["all"];return}P.value=await v.json(),o.setCategoryCache(P.value)}catch(v){console.error("Error fetching categories:",v)}finally{B.value=!1}},V=async(v="all")=>{l.loading.show();try{const h=v!=="all"?`product_${v}`:v;if(o.isCacheValid(h)){const ee=o.getCache(h);if(ee){s.value=ee.products;return}}const R=await fetch(`https://e-comm-backend-16bba1769344.herokuapp.com/products${v!=="all"?`/category/${v}`:""}`);if(!R.ok)throw new Error(`API returned ${R.status}`);const Z=await R.json();s.value=Z,o.setCache(Z,h)}catch(h){console.error("Error fetching products:",h)}finally{l.loading.hide()}};return Qe(()=>{M(),V()}),(v,h)=>(L(),J($t,{padding:""},{default:ne(()=>[G("h5",Wt,oe(v.$t("products.title")),1),F(Kt,{"selected-category":y.value,categories:P.value,"scroll-offset":e.scrollOffset,"onUpdate:selectedCategory":$},null,8,["selected-category","categories","scroll-offset"]),F(pt,{class:"q-my-md"}),G("div",Ht,[G("div",Gt,[(L(!0),Y(ue,null,Te(D.value,R=>(L(),J(Dt,{key:R.id,product:R,color:C.value.backgroundColor,text:C.value.textColor,onAddToCart:j,onViewProduct:d},null,8,["product","color","text"]))),128))])]),s.value.length>de?(L(),J(Vt,{key:0,modelValue:w.value,"onUpdate:modelValue":[h[0]||(h[0]=R=>w.value=R),ie(S)],max:Q.value,"boundary-numbers":"",class:"tw-py-8 tw-flex tw-justify-center tw-items-center !tw-gap-8",color:C.value.paginationColor,"text-color":C.value.paginationTextColor,"active-color":C.value.paginationActiveColor,"active-text-color":C.value.paginationActiveTextColor},null,8,["modelValue","max","color","text-color","active-color","active-text-color","onUpdate:modelValue"])):Me("",!0),O.value?(L(),J(xe,{key:1,class:"!tw-fixed !tw-bottom-12 !tw-right-4 !tw-p-2 tw-z-40",round:"",color:"white","text-color":"black",icon:"arrow_upward",onClick:ie(S)},null,8,["onClick"])):Me("",!0)]),_:1}))}});export{ta as default};
