import{p as we,$ as tt,aC as at,a0 as lt,c as i,x as w,aD as nt,S as z,aE as Le,aF as ot,aG as De,v as p,ad as rt,A as xe,k as Ee,d as ve,o as L,a as te,w as oe,ai as Ce,h as Z,t as ee,e as U,Q as it,f as J,j as ut,F as ie,g as me,ac as st,ae as ct,l as dt,X as ke,Y as be,aH as Fe,q as Oe,a7 as Qe,z as vt,R as ft,aI as gt,L as mt,y as ce,a2 as bt,aJ as he,P as Ve,aK as ht,a1 as yt,a5 as Ct,a6 as wt,aL as xt,V as kt,r as Te,aM as Tt,ak as je,n as St,_ as Pt,al as qt,am as $t,ab as pt,aN as _e,aO as At,ap as Bt,aP as It}from"./index-CCDQVRGP.js";import{Q as Lt}from"./QPage-Bif3eQS-.js";import{u as Vt}from"./products-CzIEs3L9.js";import{Q as _t}from"./QImg-CM2MCR30.js";import{f as ye}from"./currency-BbRTDsoj.js";import{api as Re}from"./axios-Cv2hJUui.js";import"./rates-DZ1vqBS6.js";function se(e,P){return[!0,!1].includes(e)?e:P}const Rt=we({name:"QPagination",props:{...tt,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||at.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:P}){const{proxy:x}=xe(),{$q:s}=x,u=lt(e,s),d=i(()=>parseInt(e.min,10)),o=i(()=>parseInt(e.max,10)),y=i(()=>parseInt(e.maxPages,10)),v=i(()=>k.value+" / "+o.value),V=i(()=>se(e.boundaryLinks,e.input)),h=i(()=>se(e.boundaryNumbers,!e.input)),q=i(()=>se(e.directionLinks,e.input)),l=i(()=>se(e.ellipses,!e.input)),m=w(null),k=i({get:()=>e.modelValue,set:f=>{if(f=parseInt(f,10),e.disable||isNaN(f))return;const r=nt(f,d.value,o.value);e.modelValue!==r&&P("update:modelValue",r)}});z(()=>`${d.value}|${o.value}`,()=>{k.value=e.modelValue});const O=i(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),A=i(()=>e.gutter in Le?`${Le[e.gutter]}px`:e.gutter||null),K=i(()=>A.value!==null?`--q-pagination-gutter-parent:-${A.value};--q-pagination-gutter-child:${A.value}`:null),Q=i(()=>{const f=[e.iconFirst||s.iconSet.pagination.first,e.iconPrev||s.iconSet.pagination.prev,e.iconNext||s.iconSet.pagination.next,e.iconLast||s.iconSet.pagination.last];return s.lang.rtl===!0?f.reverse():f}),g=i(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),$=i(()=>ot(e,"flat")),M=i(()=>({[$.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),_=i(()=>{const f={[$.value]:!1};return e.activeDesign!==""&&(f[e.activeDesign]=!0),f}),D=i(()=>({..._.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),n=i(()=>{let f=Math.max(y.value,1+(l.value?2:0)+(h.value?2:0));const r={pgFrom:d.value,pgTo:o.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(o.value).length)}em`}};return y.value&&f<o.value-d.value+1&&(f=1+Math.floor(f/2)*2,r.pgFrom=Math.max(d.value,Math.min(o.value-f+1,e.modelValue-Math.floor(f/2))),r.pgTo=Math.min(o.value,r.pgFrom+f-1),h.value&&(r.boundaryStart=!0,r.pgFrom++),l.value&&r.pgFrom>d.value+(h.value?1:0)&&(r.ellipsesStart=!0,r.pgFrom++),h.value&&(r.boundaryEnd=!0,r.pgTo--),l.value&&r.pgTo<o.value-(h.value?1:0)&&(r.ellipsesEnd=!0,r.pgTo--)),r});function B(f){k.value=f}function j(f){k.value=k.value+f}const G=i(()=>{function f(){k.value=m.value,m.value=null}return{"onUpdate:modelValue":r=>{m.value=r},onKeyup:r=>{De(r,13)===!0&&f()},onBlur:f}});function E(f,r,R){const N={"aria-label":r,"aria-current":"false",...M.value,...f};return R===!0&&Object.assign(N,{"aria-current":"true",...D.value}),r!==void 0&&(e.toFn!==void 0?N.to=e.toFn(r):N.onClick=()=>{B(r)}),p(Ee,N)}return Object.assign(x,{set:B,setByOffset:j}),()=>{const f=[],r=[];let R;if(V.value===!0&&(f.push(E({key:"bls",disable:e.disable||e.modelValue<=d.value,icon:Q.value[0]},d.value)),r.unshift(E({key:"ble",disable:e.disable||e.modelValue>=o.value,icon:Q.value[3]},o.value))),q.value===!0&&(f.push(E({key:"bdp",disable:e.disable||e.modelValue<=d.value,icon:Q.value[1]},e.modelValue-1)),r.unshift(E({key:"bdn",disable:e.disable||e.modelValue>=o.value,icon:Q.value[2]},e.modelValue+1))),e.input!==!0){R=[];const{pgFrom:N,pgTo:ae,marginalStyle:H}=n.value;if(n.value.boundaryStart===!0){const F=d.value===e.modelValue;f.push(E({key:"bns",style:H,disable:e.disable,label:d.value},d.value,F))}if(n.value.boundaryEnd===!0){const F=o.value===e.modelValue;r.unshift(E({key:"bne",style:H,disable:e.disable,label:o.value},o.value,F))}n.value.ellipsesStart===!0&&f.push(E({key:"bes",style:H,disable:e.disable,label:"…",ripple:!1},N-1)),n.value.ellipsesEnd===!0&&r.unshift(E({key:"bee",style:H,disable:e.disable,label:"…",ripple:!1},ae+1));for(let F=N;F<=ae;F++)R.push(E({key:`bpg${F}`,style:H,disable:e.disable,label:F},F,F===e.modelValue))}return p("div",{class:O.value,...g.value},[p("div",{class:"q-pagination__content row no-wrap items-center",style:K.value},[...f,e.input===!0?p(rt,{class:"inline",style:{width:`${v.value.length/1.5}em`},type:"number",dense:!0,value:m.value,disable:e.disable,dark:u.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:v.value,min:d.value,max:o.value,...G.value}):p("div",{class:"q-pagination__middle row justify-center"},R),...r])])}}}),Mt={class:"text-bold"},Dt={class:"text-caption"},Et={class:"q-mt-sm text-bold price-text"},Ft={class:"text-grey"},Ot={class:"text-positive q-ml-sm"},Qt=ve({__name:"ProductCard",props:{product:{type:Object,required:!0},color:{type:String,default:"primary"},text:{type:String,default:"white"}},emits:["add-to-cart","view-product"],setup(e,{emit:P}){const x="https://e-comm-backend-16bba1769344.herokuapp.com/api",s=e,u=P,d=w(null),o=w(null),y=l=>{u("add-to-cart",l)},v=l=>{u("view-product",l)},V=l=>`${x}${l}`,h=()=>{d.value&&o.value&&(o.value.style.height=`${d.value.clientHeight}px`)},q=l=>{const m=l.match(/[^.!?]*[.!?]/);return m?m[0]:l};return z(()=>s.product.image,()=>{h()}),(l,m)=>(L(),te(dt,{bordered:"",class:"product tw-w-full tw-max-w-72 tw-mx-auto !tw-bg-primary sm:tw-mx-none tw-transition tw-duration-200 tw-ease-in-out hover:tw-cursor-pointer hover:tw-scale-105 tw-shadow-none",onClick:m[1]||(m[1]=k=>v(e.product))},{default:oe(()=>[e.product.image?(L(),te(_t,{key:0,ref_key:"imageSection",ref:d,src:V(e.product.image),alt:e.product.name,fit:"contain",class:"sm:tw-h-2/3 tw-w-full tw-max-h-1.5"},null,8,["src","alt"])):Ce("",!0),e.product.image?Ce("",!0):(L(),Z("div",{key:1,ref_key:"noImageSection",ref:o,class:"tw-p-1.5 tw-flex tw-items-center tw-justify-center tw-min-h-64 tw-w-full tw-max-h-1.5"},ee(l.$t("products.noImage")),513)),U(it,{class:"q-px-sm !tw-pb-0"},{default:oe(()=>[J("div",Mt,ee(e.product.name||e.product.title),1),J("div",Dt,ee(q(e.product.description)),1)]),_:1}),U(ut,{class:"row justify-between items-center !tw-pt-0"},{default:oe(()=>[J("div",Et,[e.product.discount?(L(),Z(ie,{key:0},[J("span",Ft,ee(me(ye)(e.product.price)),1),J("span",Ot,ee(me(ye)(e.product.discountedPrice||e.product.price)),1)],64)):(L(),Z(ie,{key:1},[st(ee(me(ye)(e.product.price)),1)],64))]),U(Ee,{color:e.color,"text-color":e.text,label:l.$t("products.addToCart"),class:"full-width q-mt-md !tw-py-4",onClick:m[0]||(m[0]=ct(k=>y(e.product),["stop"]))},null,8,["color","text-color","label"])]),_:1})]),_:1}))}});let jt=0;const Nt=["click","keydown"],Ut={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${jt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Kt(e,P,x,s){const u=ke(Fe,be);if(u===be)return console.error("QTab/QRouteTab component needs to be child of QTabs"),be;const{proxy:d}=xe(),o=w(null),y=w(null),v=w(null),V=i(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),h=i(()=>u.currentModel.value===e.name),q=i(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(h.value===!0?" q-tab--active"+(u.tabProps.value.activeClass?" "+u.tabProps.value.activeClass:"")+(u.tabProps.value.activeColor?` text-${u.tabProps.value.activeColor}`:"")+(u.tabProps.value.activeBgColor?` bg-${u.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&u.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||u.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),l=i(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(u.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),m=i(()=>e.disable===!0||u.hasFocus.value===!0||h.value===!1&&u.hasActiveTab.value===!0?-1:e.tabindex||0);function k(g,$){if($!==!0&&o.value!==null&&o.value.focus(),e.disable!==!0){u.updateModel({name:e.name}),x("click",g);return}}function O(g){De(g,[13,32])?k(g,!0):gt(g)!==!0&&g.keyCode>=35&&g.keyCode<=40&&g.altKey!==!0&&g.metaKey!==!0&&u.onKbdNavigate(g.keyCode,d.$el)===!0&&mt(g),x("keydown",g)}function A(){const g=u.tabProps.value.narrowIndicator,$=[],M=p("div",{ref:v,class:["q-tab__indicator",u.tabProps.value.indicatorClass]});e.icon!==void 0&&$.push(p(ce,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&$.push(p("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&$.push(e.alertIcon!==void 0?p(ce,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):p("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),g===!0&&$.push(M);const _=[p("div",{class:"q-focus-helper",tabindex:-1,ref:o}),p("div",{class:l.value},bt(P.default,$))];return g===!1&&_.push(M),_}const K={name:i(()=>e.name),rootRef:y,tabIndicatorRef:v,routeData:s};Oe(()=>{u.unregisterTab(K)}),Qe(()=>{u.registerTab(K)});function Q(g,$){const M={ref:y,class:q.value,tabindex:m.value,role:"tab","aria-selected":h.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:k,onKeydown:O,...$};return vt(p(g,M,A()),[[ft,V.value]])}return{renderTab:Q,$tabs:u}}const de=we({name:"QTab",props:Ut,emits:Nt,setup(e,{slots:P,emit:x}){const{renderTab:s}=Kt(e,P,x);return()=>s("div")}});function Ht(e,P,x){const s=x===!0?["left","right"]:["top","bottom"];return`absolute-${P===!0?s[0]:s[1]}${e?` text-${e}`:""}`}const zt=["left","center","right","justify"],Ne=we({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>zt.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:P,emit:x}){const{proxy:s}=xe(),{$q:u}=s,{registerTick:d}=he(),{registerTick:o}=he(),{registerTick:y}=he(),{registerTimeout:v,removeTimeout:V}=Ve(),{registerTimeout:h,removeTimeout:q}=Ve(),l=w(null),m=w(null),k=w(e.modelValue),O=w(!1),A=w(!0),K=w(!1),Q=w(!1),g=[],$=w(0),M=w(!1);let _=null,D=null,n;const B=i(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Ht(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),j=i(()=>{const t=$.value,a=k.value;for(let c=0;c<t;c++)if(g[c].name.value===a)return!0;return!1}),G=i(()=>`q-tabs__content--align-${O.value===!0?"left":Q.value===!0?"justify":e.align}`),E=i(()=>`q-tabs row no-wrap items-center q-tabs--${O.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),f=i(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+G.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),r=i(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),R=i(()=>e.vertical!==!0&&u.lang.rtl===!0),N=i(()=>ht===!1&&R.value===!0);z(R,ne),z(()=>e.modelValue,t=>{ae({name:t,setCurrent:!0,skipEmit:!0})}),z(()=>e.outsideArrows,H);function ae({name:t,setCurrent:a,skipEmit:c}){k.value!==t&&(c!==!0&&e["onUpdate:modelValue"]!==void 0&&x("update:modelValue",t),(a===!0||e["onUpdate:modelValue"]===void 0)&&(Ue(k.value,t),k.value=t))}function H(){d(()=>{l.value&&F({width:l.value.offsetWidth,height:l.value.offsetHeight})})}function F(t){if(r.value===void 0||m.value===null)return;const a=t[r.value.container],c=Math.min(m.value[r.value.scroll],Array.prototype.reduce.call(m.value.children,(S,C)=>S+(C[r.value.content]||0),0)),T=a>0&&c>a;O.value=T,T===!0&&o(ne),Q.value=a<parseInt(e.breakpoint,10)}function Ue(t,a){const c=t!=null&&t!==""?g.find(S=>S.name.value===t):null,T=a!=null&&a!==""?g.find(S=>S.name.value===a):null;if(ue===!0)ue=!1;else if(c&&T){const S=c.tabIndicatorRef.value,C=T.tabIndicatorRef.value;_!==null&&(clearTimeout(_),_=null),S.style.transition="none",S.style.transform="none",C.style.transition="none",C.style.transform="none";const b=S.getBoundingClientRect(),I=C.getBoundingClientRect();C.style.transform=e.vertical===!0?`translate3d(0,${b.top-I.top}px,0) scale3d(1,${I.height?b.height/I.height:1},1)`:`translate3d(${b.left-I.left}px,0,0) scale3d(${I.width?b.width/I.width:1},1,1)`,y(()=>{_=setTimeout(()=>{_=null,C.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",C.style.transform="none"},70)})}T&&O.value===!0&&le(T.rootRef.value)}function le(t){const{left:a,width:c,top:T,height:S}=m.value.getBoundingClientRect(),C=t.getBoundingClientRect();let b=e.vertical===!0?C.top-T:C.left-a;if(b<0){m.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(b),ne();return}b+=e.vertical===!0?C.height-S:C.width-c,b>0&&(m.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(b),ne())}function ne(){const t=m.value;if(t===null)return;const a=t.getBoundingClientRect(),c=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);R.value===!0?(A.value=Math.ceil(c+a.width)<t.scrollWidth-1,K.value=c>0):(A.value=c>0,K.value=e.vertical===!0?Math.ceil(c+a.height)<t.scrollHeight:Math.ceil(c+a.width)<t.scrollWidth)}function Se(t){D!==null&&clearInterval(D),D=setInterval(()=>{ze(t)===!0&&Y()},5)}function Pe(){Se(N.value===!0?Number.MAX_SAFE_INTEGER:0)}function qe(){Se(N.value===!0?0:Number.MAX_SAFE_INTEGER)}function Y(){D!==null&&(clearInterval(D),D=null)}function Ke(t,a){const c=Array.prototype.filter.call(m.value.children,I=>I===a||I.matches&&I.matches(".q-tab.q-focusable")===!0),T=c.length;if(T===0)return;if(t===36)return le(c[0]),c[0].focus(),!0;if(t===35)return le(c[T-1]),c[T-1].focus(),!0;const S=t===(e.vertical===!0?38:37),C=t===(e.vertical===!0?40:39),b=S===!0?-1:C===!0?1:void 0;if(b!==void 0){const I=R.value===!0?-1:1,W=c.indexOf(a)+b*I;return W>=0&&W<T&&(le(c[W]),c[W].focus({preventScroll:!0})),!0}}const He=i(()=>N.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,a)=>{t.scrollLeft=-a}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,a)=>{t.scrollTop=a}}:{get:t=>t.scrollLeft,set:(t,a)=>{t.scrollLeft=a}});function ze(t){const a=m.value,{get:c,set:T}=He.value;let S=!1,C=c(a);const b=t<C?-1:1;return C+=b*5,C<0?(S=!0,C=0):(b===-1&&C<=t||b===1&&C>=t)&&(S=!0,C=t),T(a,C),ne(),S}function $e(t,a){for(const c in t)if(t[c]!==a[c])return!1;return!0}function We(){let t=null,a={matchedLen:0,queryDiff:9999,hrefLen:0};const c=g.filter(b=>b.routeData!==void 0&&b.routeData.hasRouterLink.value===!0),{hash:T,query:S}=s.$route,C=Object.keys(S).length;for(const b of c){const I=b.routeData.exact.value===!0;if(b.routeData[I===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:W,query:fe,matched:Ze,href:et}=b.routeData.resolvedLink.value,ge=Object.keys(fe).length;if(I===!0){if(W!==T||ge!==C||$e(S,fe)===!1)continue;t=b.name.value;break}if(W!==""&&W!==T||ge!==0&&$e(fe,S)===!1)continue;const X={matchedLen:Ze.length,queryDiff:C-ge,hrefLen:et.length-W.length};if(X.matchedLen>a.matchedLen){t=b.name.value,a=X;continue}else if(X.matchedLen!==a.matchedLen)continue;if(X.queryDiff<a.queryDiff)t=b.name.value,a=X;else if(X.queryDiff!==a.queryDiff)continue;X.hrefLen>a.hrefLen&&(t=b.name.value,a=X)}if(t===null&&g.some(b=>b.routeData===void 0&&b.name.value===k.value)===!0){ue=!1;return}ae({name:t,setCurrent:!0})}function Ge(t){if(V(),M.value!==!0&&l.value!==null&&t.target&&typeof t.target.closest=="function"){const a=t.target.closest(".q-tab");a&&l.value.contains(a)===!0&&(M.value=!0,O.value===!0&&le(a))}}function Ye(){v(()=>{M.value=!1},30)}function re(){Ae.avoidRouteWatcher===!1?h(We):q()}function pe(){if(n===void 0){const t=z(()=>s.$route.fullPath,re);n=()=>{t(),n=void 0}}}function Xe(t){g.push(t),$.value++,H(),t.routeData===void 0||s.$route===void 0?h(()=>{if(O.value===!0){const a=k.value,c=a!=null&&a!==""?g.find(T=>T.name.value===a):null;c&&le(c.rootRef.value)}}):(pe(),t.routeData.hasRouterLink.value===!0&&re())}function Je(t){g.splice(g.indexOf(t),1),$.value--,H(),n!==void 0&&t.routeData!==void 0&&(g.every(a=>a.routeData===void 0)===!0&&n(),re())}const Ae={currentModel:k,tabProps:B,hasFocus:M,hasActiveTab:j,registerTab:Xe,unregisterTab:Je,verifyRouteModel:re,updateModel:ae,onKbdNavigate:Ke,avoidRouteWatcher:!1};yt(Fe,Ae);function Be(){_!==null&&clearTimeout(_),Y(),n!==void 0&&n()}let Ie,ue;return Oe(Be),Ct(()=>{Ie=n!==void 0,Be()}),wt(()=>{Ie===!0&&(pe(),ue=!0,re()),H()}),()=>p("div",{ref:l,class:E.value,role:"tablist",onFocusin:Ge,onFocusout:Ye},[p(xt,{onResize:F}),p("div",{ref:m,class:f.value,onScroll:ne},kt(P.default)),p(ce,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(A.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||u.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Pe,onTouchstartPassive:Pe,onMouseupPassive:Y,onMouseleavePassive:Y,onTouchendPassive:Y}),p(ce,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(K.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||u.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:qe,onTouchstartPassive:qe,onMouseupPassive:Y,onMouseleavePassive:Y,onTouchendPassive:Y})])}}),Wt=ve({__name:"CategorySelect",props:{selectedCategory:{type:String,required:!0},categories:{type:Array,required:!0},color:{type:String,required:!0},text:{type:String,required:!0}},emits:["update:selectedCategory"],setup(e,{emit:P}){const x=e,s=P,u=i({get:()=>x.selectedCategory,set:o=>{s("update:selectedCategory",o)}}),d=o=>o?o.split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" "):"";return(o,y)=>(L(),Z("div",null,[U(Ne,{modelValue:u.value,"onUpdate:modelValue":y[0]||(y[0]=v=>u.value=v),class:"q-mb-md gt-sm","active-color":e.color,"active-bg-color":e.color,"text-color":e.color,"inactive-color":e.color,align:"justify"},{default:oe(()=>[U(de,{name:"all",label:o.$t("products.categories.allProducts")},null,8,["label"]),(L(!0),Z(ie,null,Te(e.categories,v=>(L(),te(de,{key:v,name:v,label:d(v)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),U(Tt,{modelValue:u.value,"onUpdate:modelValue":y[1]||(y[1]=v=>u.value=v),options:["all",...e.categories],class:"q-my-md lt-md",color:e.color,"text-color":e.text,label:o.$t("products.selectCategory"),outlined:"","option-label":v=>v==="all"?o.$t("products.categories.allProducts"):d(v)},null,8,["modelValue","options","color","text-color","label","option-label"])]))}}),Gt=ve({__name:"ProductTabs",props:{selectedCategory:{type:String,required:!0},scrollOffset:{type:Number,default:0},categories:{type:Array,required:!0}},emits:["update:selectedCategory"],setup(e,{emit:P}){const x=e,s=ke("scrollToTop"),u=P,d=je(),o=w(!1),y=w(x.selectedCategory),v=i(()=>({stickyBgColor:d.dark.isActive?"q-dark":"q-light-lighter",activeBgColor:(d.dark.isActive,"white"),activeTextColor:d.dark.isActive?"dark":"black",backgroundColor:d.dark.isActive?"white":"black",textColor:d.dark.isActive?"black":"white"}));z(()=>x.scrollOffset,h=>{o.value=h>0},{immediate:!0}),z(()=>x.selectedCategory,h=>{h!==y.value&&(y.value=h)}),z(()=>y.value,h=>{u("update:selectedCategory",h),s()});const V=h=>h.split(" ").map(q=>q.charAt(0).toUpperCase()+q.slice(1)).join(" ");return(h,q)=>(L(),Z("div",{class:St(["sticky",{"is-sticky":o.value},o.value&&`tw-bg-${v.value.stickyBgColor}`])},[U(Ne,{modelValue:y.value,"onUpdate:modelValue":q[0]||(q[0]=l=>y.value=l),"indicator-color":"transparent",class:"gt-sm !tw-max-w-screen-xl tw-mx-auto","active-color":v.value.activeTextColor,"active-bg-color":v.value.activeBgColor,"text-color":v.value.backgroundColor,"inactive-color":v.value.textColor,align:"justify"},{default:oe(()=>[U(de,{name:"all",label:h.$t("products.categories.allProducts")},null,8,["label"]),(L(!0),Z(ie,null,Te(e.categories,l=>(L(),te(de,{key:l,name:l,label:V(l)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),U(Wt,{"selected-category":y.value,"onUpdate:selectedCategory":q[1]||(q[1]=l=>y.value=l),categories:e.categories,color:v.value.backgroundColor,text:v.value.textColor,class:"q-my-md lt-md"},null,8,["selected-category","categories","color","text"])],2))}}),Yt=Pt(Gt,[["__scopeId","data-v-8ab3e7da"]]),Xt={class:"tw-font-serif tw-my-4"},Jt={class:"tw-container tw-mx-auto tw-mb-8 grid justify-center"},Zt={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 xl:tw-grid-cols-4 tw-gap-4"},ea="products_categories",Me=10,ua=ve({__name:"ProductsPage",props:{scrollOffset:{type:Number,required:!0}},setup(e){const P=ke("scrollToTop"),x=qt(),s=je(),u=$t(),d=Vt(),{t:o}=pt(),y=w([]),v=w(1),V=w("all"),h=w([]),q=w(!0),l=w({search:"",minPrice:0,maxPrice:999999,sortBy:"id",sortOrder:"asc"}),m=w({total:0,page:1,limit:10,lastPage:1}),k=i(()=>Math.ceil(m.value.total/m.value.limit)),O=i(()=>y.value),A=i(()=>({activeTextColor:s.dark.isActive?"dark":"black",backgroundColor:s.dark.isActive?"white":"black",textColor:s.dark.isActive?"black":"white",paginationColor:s.dark.isActive?"light":"dark",paginationTextColor:s.dark.isActive?"white":"black",paginationActiveColor:s.dark.isActive?"white":"dark",paginationActiveTextColor:s.dark.isActive?"black":"white"}));z(l,()=>{v.value=1,D(V.value)},{deep:!0});const K=n=>{x.addItem({...n,quantity:1}),s.notify({color:"positive",position:"top",timeout:1e3,message:o("products.itemAdded"),icon:"check_circle"})},Q=n=>{u.push(`${_e}/${n.id}`)},g=n=>{v.value=n,P(),D(V.value)},$=async n=>{V.value=n,v.value=1,await D(n)},M=async()=>{try{if(q.value=!0,d.isCacheValid(ea)){const B=d.getCategoryCache();if(B){h.value=B.categories;return}}const n=await Re.get(`https://e-comm-backend-16bba1769344.herokuapp.com/api${It}`);if(n.status!==200)throw new Error("Failed to fetch categories");h.value=n.data,d.setCategoryCache(h.value)}catch(n){console.error("Error fetching categories:",n)}finally{q.value=!1}},_=n=>`products_${n.category}_${n.page}_${n.limit}_${n.search}_${n.minPrice}_${n.maxPrice}_${n.sortBy}_${n.sortOrder}`,D=async(n="all")=>{s.loading.show();try{const B={category:n,page:v.value,limit:Me,search:l.value.search,minPrice:l.value.minPrice,maxPrice:l.value.maxPrice,sortBy:l.value.sortBy,sortOrder:l.value.sortOrder},j=_(B),G=d.getCache(j);if(G?.meta&&G?.data){y.value=G.data,m.value=G.meta,s.loading.hide();return}const E=new URLSearchParams({page:v.value.toString(),limit:Me.toString(),search:l.value.search,minPrice:l.value.minPrice.toString(),maxPrice:l.value.maxPrice.toString(),sortBy:l.value.sortBy,sortOrder:l.value.sortOrder}),f=`https://e-comm-backend-16bba1769344.herokuapp.com/api${_e}${n!=="all"?`${At}/${n}`:""}?${E}`,r=await Re.get(f,{params:B});if(r.status!==200)throw new Error("Failed to fetch products");if(r&&r.data){const R=r.data;y.value=R.data,m.value=R.meta,d.setCache(R,j)}}catch(B){console.error("Error fetching products:",B),s.notify({color:"negative",message:o("errors.fetchProducts"),timeout:1e3,icon:"error",position:"top"})}finally{s.loading.hide()}};return Qe(async()=>{await Promise.all([M(),D()])}),(n,B)=>(L(),te(Lt,{padding:"",class:"!tw-pb-16 !tw-pt-4"},{default:oe(()=>[J("h5",Xt,ee(n.$t("products.title")),1),U(Yt,{"selected-category":V.value,categories:h.value,"scroll-offset":e.scrollOffset,"onUpdate:selectedCategory":$},null,8,["selected-category","categories","scroll-offset"]),U(Bt,{class:"q-my-md"}),J("div",Jt,[J("div",Zt,[(L(!0),Z(ie,null,Te(O.value,j=>(L(),te(Qt,{key:j.id,product:j,color:A.value.backgroundColor,text:A.value.textColor,onAddToCart:K,onViewProduct:Q},null,8,["product","color","text"]))),128))])]),m.value.total>0?(L(),te(Rt,{key:0,modelValue:v.value,"onUpdate:modelValue":[B[0]||(B[0]=j=>v.value=j),g],max:k.value,"boundary-numbers":"",class:"tw-py-8 tw-flex tw-justify-center tw-items-center !tw-gap-8",color:A.value.paginationColor,"text-color":A.value.paginationTextColor,"active-color":A.value.paginationActiveColor,"active-text-color":A.value.paginationActiveTextColor},null,8,["modelValue","max","color","text-color","active-color","active-text-color"])):Ce("",!0)]),_:1}))}});export{ua as default};
