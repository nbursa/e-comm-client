import{p as he,$ as mt,aC as gt,a0 as bt,c as s,x as k,aD as ht,S as K,aE as _e,aF as wt,aG as Ye,v as I,ad as fe,A as we,k as ie,d as ce,o as R,a as ae,w as F,ai as se,h as Y,t as J,e as P,Q as Xe,f as W,j as yt,F as ue,g as xe,ac as Se,ae as me,l as Je,X as $e,Y as Ce,aH as Ze,q as et,a7 as tt,z as pt,R as xt,aI as Ct,L as Pt,y as ge,a2 as kt,aJ as Pe,P as De,aK as St,a1 as Tt,a5 as $t,a6 as qt,aL as At,V as Bt,aM as Vt,aN as Ot,aO as It,m as Lt,aP as Mt,r as qe,aQ as Te,ak as Ae,af as Ee,aR as Qe,aS as je,ag as Ne,as as Ue,n as He,_ as Rt,al as Ft,am as _t,ab as Dt,aT as Ke,aU as Et,ap as Qt,aV as jt}from"./index-BbpWCNYr.js";import{Q as Nt}from"./QPage-CwWEYdGv.js";import{u as Ut}from"./products-CuIJ96Ue.js";import{Q as Ht}from"./QImg-CPzhtVXl.js";import{f as ke}from"./currency-BNqCsjna.js";import{api as ze}from"./axios-CWDwlnAD.js";import"./rates-BykfkIlL.js";function ve(e,A){return[!0,!1].includes(e)?e:A}const Kt=he({name:"QPagination",props:{...mt,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||gt.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:A}){const{proxy:$}=we(),{$q:r}=$,n=bt(e,r),a=s(()=>parseInt(e.min,10)),o=s(()=>parseInt(e.max,10)),u=s(()=>parseInt(e.maxPages,10)),v=s(()=>S.value+" / "+o.value),C=s(()=>ve(e.boundaryLinks,e.input)),f=s(()=>ve(e.boundaryNumbers,!e.input)),b=s(()=>ve(e.directionLinks,e.input)),g=s(()=>ve(e.ellipses,!e.input)),w=k(null),S=s({get:()=>e.modelValue,set:c=>{if(c=parseInt(c,10),e.disable||isNaN(c))return;const d=ht(c,a.value,o.value);e.modelValue!==d&&A("update:modelValue",d)}});K(()=>`${a.value}|${o.value}`,()=>{S.value=e.modelValue});const i=s(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),x=s(()=>e.gutter in _e?`${_e[e.gutter]}px`:e.gutter||null),L=s(()=>x.value!==null?`--q-pagination-gutter-parent:-${x.value};--q-pagination-gutter-child:${x.value}`:null),q=s(()=>{const c=[e.iconFirst||r.iconSet.pagination.first,e.iconPrev||r.iconSet.pagination.prev,e.iconNext||r.iconSet.pagination.next,e.iconLast||r.iconSet.pagination.last];return r.lang.rtl===!0?c.reverse():c}),y=s(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),M=s(()=>wt(e,"flat")),N=s(()=>({[M.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),E=s(()=>{const c={[M.value]:!1};return e.activeDesign!==""&&(c[e.activeDesign]=!0),c}),G=s(()=>({...E.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),_=s(()=>{let c=Math.max(u.value,1+(g.value?2:0)+(f.value?2:0));const d={pgFrom:a.value,pgTo:o.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(o.value).length)}em`}};return u.value&&c<o.value-a.value+1&&(c=1+Math.floor(c/2)*2,d.pgFrom=Math.max(a.value,Math.min(o.value-c+1,e.modelValue-Math.floor(c/2))),d.pgTo=Math.min(o.value,d.pgFrom+c-1),f.value&&(d.boundaryStart=!0,d.pgFrom++),g.value&&d.pgFrom>a.value+(f.value?1:0)&&(d.ellipsesStart=!0,d.pgFrom++),f.value&&(d.boundaryEnd=!0,d.pgTo--),g.value&&d.pgTo<o.value-(f.value?1:0)&&(d.ellipsesEnd=!0,d.pgTo--)),d});function le(c){S.value=c}function Z(c){S.value=S.value+c}const h=s(()=>{function c(){S.value=w.value,w.value=null}return{"onUpdate:modelValue":d=>{w.value=d},onKeyup:d=>{Ye(d,13)===!0&&c()},onBlur:c}});function B(c,d,Q){const U={"aria-label":d,"aria-current":"false",...N.value,...c};return Q===!0&&Object.assign(U,{"aria-current":"true",...G.value}),d!==void 0&&(e.toFn!==void 0?U.to=e.toFn(d):U.onClick=()=>{le(d)}),I(ie,U)}return Object.assign($,{set:le,setByOffset:Z}),()=>{const c=[],d=[];let Q;if(C.value===!0&&(c.push(B({key:"bls",disable:e.disable||e.modelValue<=a.value,icon:q.value[0]},a.value)),d.unshift(B({key:"ble",disable:e.disable||e.modelValue>=o.value,icon:q.value[3]},o.value))),b.value===!0&&(c.push(B({key:"bdp",disable:e.disable||e.modelValue<=a.value,icon:q.value[1]},e.modelValue-1)),d.unshift(B({key:"bdn",disable:e.disable||e.modelValue>=o.value,icon:q.value[2]},e.modelValue+1))),e.input!==!0){Q=[];const{pgFrom:U,pgTo:z,marginalStyle:j}=_.value;if(_.value.boundaryStart===!0){const H=a.value===e.modelValue;c.push(B({key:"bns",style:j,disable:e.disable,label:a.value},a.value,H))}if(_.value.boundaryEnd===!0){const H=o.value===e.modelValue;d.unshift(B({key:"bne",style:j,disable:e.disable,label:o.value},o.value,H))}_.value.ellipsesStart===!0&&c.push(B({key:"bes",style:j,disable:e.disable,label:"…",ripple:!1},U-1)),_.value.ellipsesEnd===!0&&d.unshift(B({key:"bee",style:j,disable:e.disable,label:"…",ripple:!1},z+1));for(let H=U;H<=z;H++)Q.push(B({key:`bpg${H}`,style:j,disable:e.disable,label:H},H,H===e.modelValue))}return I("div",{class:i.value,...y.value},[I("div",{class:"q-pagination__content row no-wrap items-center",style:L.value},[...c,e.input===!0?I(fe,{class:"inline",style:{width:`${v.value.length/1.5}em`},type:"number",dense:!0,value:w.value,disable:e.disable,dark:n.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:v.value,min:a.value,max:o.value,...h.value}):I("div",{class:"q-pagination__middle row justify-center"},Q),...d])])}}}),zt={class:"text-bold"},Wt={class:"text-caption"},Gt={class:"q-mt-sm text-bold price-text"},Yt={class:"text-grey"},Xt={class:"text-positive q-ml-sm"},Jt=ce({__name:"ProductCard",props:{product:{type:Object,required:!0},color:{type:String,default:"primary"},text:{type:String,default:"white"}},emits:["add-to-cart","view-product"],setup(e,{emit:A}){const $="https://e-comm-api-8eba0f6c8782.herokuapp.com/api",r=e,n=A,a=k(null),o=k(null),u=g=>{n("add-to-cart",g)},v=g=>{n("view-product",g)},C=g=>`${$}${g}`,f=()=>{a.value&&o.value&&(o.value.style.height=`${a.value.clientHeight}px`)},b=g=>{const w=g.match(/[^.!?]*[.!?]/);return w?w[0]:g};return K(()=>r.product.image,()=>{f()}),(g,w)=>(R(),ae(Je,{bordered:"",class:"product tw-w-full tw-max-w-72 tw-mx-auto !tw-bg-primary sm:tw-mx-none tw-transition tw-duration-200 tw-ease-in-out hover:tw-cursor-pointer hover:tw-scale-105 tw-shadow-none",onClick:w[1]||(w[1]=S=>v(e.product))},{default:F(()=>[e.product.image?(R(),ae(Ht,{key:0,ref_key:"imageSection",ref:a,src:C(e.product.image),alt:e.product.name,fit:"contain",class:"sm:tw-h-2/3 tw-w-full tw-max-h-1.5"},null,8,["src","alt"])):se("",!0),e.product.image?se("",!0):(R(),Y("div",{key:1,ref_key:"noImageSection",ref:o,class:"tw-p-1.5 tw-flex tw-items-center tw-justify-center tw-min-h-64 tw-w-full tw-max-h-1.5"},J(g.$t("products.noImage")),513)),P(Xe,{class:"q-px-sm !tw-pb-0"},{default:F(()=>[W("div",zt,J(e.product.name||e.product.title),1),W("div",Wt,J(b(e.product.description)),1)]),_:1}),P(yt,{class:"row justify-between items-center !tw-pt-0"},{default:F(()=>[W("div",Gt,[e.product.discount?(R(),Y(ue,{key:0},[W("span",Yt,J(xe(ke)(e.product.price)),1),W("span",Xt,J(xe(ke)(e.product.discountedPrice||e.product.price)),1)],64)):(R(),Y(ue,{key:1},[Se(J(xe(ke)(e.product.price)),1)],64))]),P(ie,{color:e.color,"text-color":e.text,label:g.$t("products.addToCart"),class:"full-width q-mt-md !tw-py-4",onClick:w[0]||(w[0]=me(S=>u(e.product),["stop"]))},null,8,["color","text-color","label"])]),_:1})]),_:1}))}});let Zt=0;const ea=["click","keydown"],ta={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Zt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function aa(e,A,$,r){const n=$e(Ze,Ce);if(n===Ce)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Ce;const{proxy:a}=we(),o=k(null),u=k(null),v=k(null),C=s(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),f=s(()=>n.currentModel.value===e.name),b=s(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(f.value===!0?" q-tab--active"+(n.tabProps.value.activeClass?" "+n.tabProps.value.activeClass:"")+(n.tabProps.value.activeColor?` text-${n.tabProps.value.activeColor}`:"")+(n.tabProps.value.activeBgColor?` bg-${n.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&n.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||n.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),g=s(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(n.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),w=s(()=>e.disable===!0||n.hasFocus.value===!0||f.value===!1&&n.hasActiveTab.value===!0?-1:e.tabindex||0);function S(y,M){if(M!==!0&&o.value!==null&&o.value.focus(),e.disable!==!0){n.updateModel({name:e.name}),$("click",y);return}}function i(y){Ye(y,[13,32])?S(y,!0):Ct(y)!==!0&&y.keyCode>=35&&y.keyCode<=40&&y.altKey!==!0&&y.metaKey!==!0&&n.onKbdNavigate(y.keyCode,a.$el)===!0&&Pt(y),$("keydown",y)}function x(){const y=n.tabProps.value.narrowIndicator,M=[],N=I("div",{ref:v,class:["q-tab__indicator",n.tabProps.value.indicatorClass]});e.icon!==void 0&&M.push(I(ge,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&M.push(I("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&M.push(e.alertIcon!==void 0?I(ge,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):I("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),y===!0&&M.push(N);const E=[I("div",{class:"q-focus-helper",tabindex:-1,ref:o}),I("div",{class:g.value},kt(A.default,M))];return y===!1&&E.push(N),E}const L={name:s(()=>e.name),rootRef:u,tabIndicatorRef:v,routeData:r};et(()=>{n.unregisterTab(L)}),tt(()=>{n.registerTab(L)});function q(y,M){const N={ref:u,class:b.value,tabindex:w.value,role:"tab","aria-selected":f.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:S,onKeydown:i,...M};return pt(I(y,N,x()),[[xt,C.value]])}return{renderTab:q,$tabs:n}}const be=he({name:"QTab",props:ta,emits:ea,setup(e,{slots:A,emit:$}){const{renderTab:r}=aa(e,A,$);return()=>r("div")}});function la(e,A,$){const r=$===!0?["left","right"]:["top","bottom"];return`absolute-${A===!0?r[0]:r[1]}${e?` text-${e}`:""}`}const oa=["left","center","right","justify"],at=he({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>oa.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:A,emit:$}){const{proxy:r}=we(),{$q:n}=r,{registerTick:a}=Pe(),{registerTick:o}=Pe(),{registerTick:u}=Pe(),{registerTimeout:v,removeTimeout:C}=De(),{registerTimeout:f,removeTimeout:b}=De(),g=k(null),w=k(null),S=k(e.modelValue),i=k(!1),x=k(!0),L=k(!1),q=k(!1),y=[],M=k(0),N=k(!1);let E=null,G=null,_;const le=s(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:la(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),Z=s(()=>{const t=M.value,l=S.value;for(let m=0;m<t;m++)if(y[m].name.value===l)return!0;return!1}),h=s(()=>`q-tabs__content--align-${i.value===!0?"left":q.value===!0?"justify":e.align}`),B=s(()=>`q-tabs row no-wrap items-center q-tabs--${i.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),c=s(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+h.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),d=s(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),Q=s(()=>e.vertical!==!0&&n.lang.rtl===!0),U=s(()=>St===!1&&Q.value===!0);K(Q,ne),K(()=>e.modelValue,t=>{z({name:t,setCurrent:!0,skipEmit:!0})}),K(()=>e.outsideArrows,j);function z({name:t,setCurrent:l,skipEmit:m}){S.value!==t&&(m!==!0&&e["onUpdate:modelValue"]!==void 0&&$("update:modelValue",t),(l===!0||e["onUpdate:modelValue"]===void 0)&&(lt(S.value,t),S.value=t))}function j(){a(()=>{g.value&&H({width:g.value.offsetWidth,height:g.value.offsetHeight})})}function H(t){if(d.value===void 0||w.value===null)return;const l=t[d.value.container],m=Math.min(w.value[d.value.scroll],Array.prototype.reduce.call(w.value.children,(O,T)=>O+(T[d.value.content]||0),0)),V=l>0&&m>l;i.value=V,V===!0&&o(ne),q.value=l<parseInt(e.breakpoint,10)}function lt(t,l){const m=t!=null&&t!==""?y.find(O=>O.name.value===t):null,V=l!=null&&l!==""?y.find(O=>O.name.value===l):null;if(de===!0)de=!1;else if(m&&V){const O=m.tabIndicatorRef.value,T=V.tabIndicatorRef.value;E!==null&&(clearTimeout(E),E=null),O.style.transition="none",O.style.transform="none",T.style.transition="none",T.style.transform="none";const p=O.getBoundingClientRect(),D=T.getBoundingClientRect();T.style.transform=e.vertical===!0?`translate3d(0,${p.top-D.top}px,0) scale3d(1,${D.height?p.height/D.height:1},1)`:`translate3d(${p.left-D.left}px,0,0) scale3d(${D.width?p.width/D.width:1},1,1)`,u(()=>{E=setTimeout(()=>{E=null,T.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",T.style.transform="none"},70)})}V&&i.value===!0&&oe(V.rootRef.value)}function oe(t){const{left:l,width:m,top:V,height:O}=w.value.getBoundingClientRect(),T=t.getBoundingClientRect();let p=e.vertical===!0?T.top-V:T.left-l;if(p<0){w.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(p),ne();return}p+=e.vertical===!0?T.height-O:T.width-m,p>0&&(w.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(p),ne())}function ne(){const t=w.value;if(t===null)return;const l=t.getBoundingClientRect(),m=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);Q.value===!0?(x.value=Math.ceil(m+l.width)<t.scrollWidth-1,L.value=m>0):(x.value=m>0,L.value=e.vertical===!0?Math.ceil(m+l.height)<t.scrollHeight:Math.ceil(m+l.width)<t.scrollWidth)}function Be(t){G!==null&&clearInterval(G),G=setInterval(()=>{rt(t)===!0&&ee()},5)}function Ve(){Be(U.value===!0?Number.MAX_SAFE_INTEGER:0)}function Oe(){Be(U.value===!0?0:Number.MAX_SAFE_INTEGER)}function ee(){G!==null&&(clearInterval(G),G=null)}function ot(t,l){const m=Array.prototype.filter.call(w.value.children,D=>D===l||D.matches&&D.matches(".q-tab.q-focusable")===!0),V=m.length;if(V===0)return;if(t===36)return oe(m[0]),m[0].focus(),!0;if(t===35)return oe(m[V-1]),m[V-1].focus(),!0;const O=t===(e.vertical===!0?38:37),T=t===(e.vertical===!0?40:39),p=O===!0?-1:T===!0?1:void 0;if(p!==void 0){const D=Q.value===!0?-1:1,X=m.indexOf(l)+p*D;return X>=0&&X<V&&(oe(m[X]),m[X].focus({preventScroll:!0})),!0}}const nt=s(()=>U.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,l)=>{t.scrollLeft=-l}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,l)=>{t.scrollTop=l}}:{get:t=>t.scrollLeft,set:(t,l)=>{t.scrollLeft=l}});function rt(t){const l=w.value,{get:m,set:V}=nt.value;let O=!1,T=m(l);const p=t<T?-1:1;return T+=p*5,T<0?(O=!0,T=0):(p===-1&&T<=t||p===1&&T>=t)&&(O=!0,T=t),V(l,T),ne(),O}function Ie(t,l){for(const m in t)if(t[m]!==l[m])return!1;return!0}function it(){let t=null,l={matchedLen:0,queryDiff:9999,hrefLen:0};const m=y.filter(p=>p.routeData!==void 0&&p.routeData.hasRouterLink.value===!0),{hash:V,query:O}=r.$route,T=Object.keys(O).length;for(const p of m){const D=p.routeData.exact.value===!0;if(p.routeData[D===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:X,query:ye,matched:vt,href:ft}=p.routeData.resolvedLink.value,pe=Object.keys(ye).length;if(D===!0){if(X!==V||pe!==T||Ie(O,ye)===!1)continue;t=p.name.value;break}if(X!==""&&X!==V||pe!==0&&Ie(ye,O)===!1)continue;const te={matchedLen:vt.length,queryDiff:T-pe,hrefLen:ft.length-X.length};if(te.matchedLen>l.matchedLen){t=p.name.value,l=te;continue}else if(te.matchedLen!==l.matchedLen)continue;if(te.queryDiff<l.queryDiff)t=p.name.value,l=te;else if(te.queryDiff!==l.queryDiff)continue;te.hrefLen>l.hrefLen&&(t=p.name.value,l=te)}if(t===null&&y.some(p=>p.routeData===void 0&&p.name.value===S.value)===!0){de=!1;return}z({name:t,setCurrent:!0})}function st(t){if(C(),N.value!==!0&&g.value!==null&&t.target&&typeof t.target.closest=="function"){const l=t.target.closest(".q-tab");l&&g.value.contains(l)===!0&&(N.value=!0,i.value===!0&&oe(l))}}function ut(){v(()=>{N.value=!1},30)}function re(){Me.avoidRouteWatcher===!1?f(it):b()}function Le(){if(_===void 0){const t=K(()=>r.$route.fullPath,re);_=()=>{t(),_=void 0}}}function ct(t){y.push(t),M.value++,j(),t.routeData===void 0||r.$route===void 0?f(()=>{if(i.value===!0){const l=S.value,m=l!=null&&l!==""?y.find(V=>V.name.value===l):null;m&&oe(m.rootRef.value)}}):(Le(),t.routeData.hasRouterLink.value===!0&&re())}function dt(t){y.splice(y.indexOf(t),1),M.value--,j(),_!==void 0&&t.routeData!==void 0&&(y.every(l=>l.routeData===void 0)===!0&&_(),re())}const Me={currentModel:S,tabProps:le,hasFocus:N,hasActiveTab:Z,registerTab:ct,unregisterTab:dt,verifyRouteModel:re,updateModel:z,onKbdNavigate:ot,avoidRouteWatcher:!1};Tt(Ze,Me);function Re(){E!==null&&clearTimeout(E),ee(),_!==void 0&&_()}let Fe,de;return et(Re),$t(()=>{Fe=_!==void 0,Re()}),qt(()=>{Fe===!0&&(Le(),de=!0,re()),j()}),()=>I("div",{ref:g,class:B.value,role:"tablist",onFocusin:st,onFocusout:ut},[I(At,{onResize:H}),I("div",{ref:w,class:c.value,onScroll:ne},Bt(A.default)),I(ge,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(x.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||n.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Ve,onTouchstartPassive:Ve,onMouseupPassive:ee,onMouseleavePassive:ee,onTouchendPassive:ee}),I(ge,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(L.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||n.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Oe,onTouchstartPassive:Oe,onMouseupPassive:ee,onMouseleavePassive:ee,onTouchendPassive:ee})])}}),na=he({name:"QPopupProxy",props:{...Vt,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:A,emit:$,attrs:r}){const{proxy:n}=we(),{$q:a}=n,o=k(!1),u=k(null),v=s(()=>parseInt(e.breakpoint,10)),{canShow:C}=Ot({showing:o});function f(){return a.screen.width<v.value||a.screen.height<v.value?"dialog":"menu"}const b=k(f()),g=s(()=>b.value==="menu"?{maxHeight:"99vh"}:{});K(()=>f(),i=>{o.value!==!0&&(b.value=i)});function w(i){o.value=!0,$("show",i)}function S(i){o.value=!1,b.value=f(),$("hide",i)}return Object.assign(n,{show(i){C(i)===!0&&u.value.show(i)},hide(i){u.value.hide(i)},toggle(i){u.value.toggle(i)}}),It(n,"currentComponent",()=>({type:b.value,ref:u.value})),()=>{const i={ref:u,...g.value,...r,onShow:w,onHide:S};let x;return b.value==="dialog"?x=Lt:(x=Mt,Object.assign(i,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),I(x,i,A.default)}}}),ra=ce({__name:"CategorySelect",props:{selectedCategory:{type:String,required:!0},categories:{type:Array,required:!0},color:{type:String,required:!0},text:{type:String,required:!0}},emits:["update:selectedCategory"],setup(e,{emit:A}){const $=e,r=A,n=s({get:()=>$.selectedCategory,set:o=>{r("update:selectedCategory",o)}}),a=o=>o?o.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" "):"";return(o,u)=>(R(),Y("div",null,[P(at,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=v=>n.value=v),class:"q-mb-md gt-sm","active-color":e.color,"active-bg-color":e.color,"text-color":e.color,"inactive-color":e.color,align:"justify"},{default:F(()=>[P(be,{name:"all",label:o.$t("products.categories.allProducts")},null,8,["label"]),(R(!0),Y(ue,null,qe(e.categories,v=>(R(),ae(be,{key:v,name:v,label:a(v)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),P(Te,{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=v=>n.value=v),options:["all",...e.categories],class:"q-my-md lt-md",color:e.color,"text-color":e.text,label:o.$t("products.selectCategory"),outlined:"","option-label":v=>v==="all"?o.$t("products.categories.allProducts"):a(v)},null,8,["modelValue","options","color","text-color","label","option-label"])]))}}),ia={class:"tw-flex tw-flex-col tw-gap-3 tw-w-full tw-mx-auto md:!tw-flex-row tw-rounded md:tw-px-1 md:tw-max-w-screen-2xl"},sa={class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-2 md:tw-grid-cols-4 tw-gap-3 md:tw-flex md:tw-flex-grow md:tw-flex-row lg:tw-gap-4"},We=ce({__name:"FiltersForm",props:{filters:{type:Object,required:!0},sortOptions:{type:Array,required:!0},sortOrderOptions:{type:Array,required:!0},color:{type:String,default:""},text:{type:String,default:""}},emits:["update:filters","apply-filters"],setup(e,{emit:A}){const $=e,r=A,n=Ae(),a=k({...$.filters}),o=n.screen.lt.md,u=()=>{o||r("update:filters",a.value)},v=()=>{r("apply-filters",a.value)};return K(a,u,{deep:!0}),(C,f)=>(R(),Y("div",ia,[P(fe,{modelValue:a.value.search,"onUpdate:modelValue":f[0]||(f[0]=b=>a.value.search=b),placeholder:"Search products",label:"Search",clearable:"",dense:"",class:"tw-w-full md:tw-max-w-md tw-mb-3 sm:tw-mr-3",onInput:u},null,8,["modelValue"]),W("div",sa,[P(fe,{modelValue:a.value.minPrice,"onUpdate:modelValue":f[1]||(f[1]=b=>a.value.minPrice=b),modelModifiers:{number:!0},type:"number",label:"Min Price",placeholder:"Min Price",clearable:"",dense:"",class:"tw-w-full md:tw-w-1/4 md:tw-min-w-20 lg:tw-flex-1",onInput:u},null,8,["modelValue"]),P(fe,{modelValue:a.value.maxPrice,"onUpdate:modelValue":f[2]||(f[2]=b=>a.value.maxPrice=b),modelModifiers:{number:!0},type:"number",label:"Max Price",placeholder:"Max Price",clearable:"",dense:"",class:"tw-w-full md:tw-w-1/4 md:tw-min-w-20 lg:tw-flex-1",onInput:u},null,8,["modelValue"]),P(Te,{modelValue:a.value.sortBy,"onUpdate:modelValue":[f[3]||(f[3]=b=>a.value.sortBy=b),u],options:e.sortOptions,"option-value":"value","option-label":"label",label:"Sort Order",dense:"",class:"tw-w-full md:tw-w-1/4 md:tw-min-w-20 lg:tw-flex-1"},{option:F(b=>[P(Ee,Qe(je(b.itemProps)),{default:F(()=>[P(Ne,null,{default:F(()=>[P(Ue,null,{default:F(()=>[Se(J(b.opt.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options"]),P(Te,{modelValue:a.value.sortOrder,"onUpdate:modelValue":[f[4]||(f[4]=b=>a.value.sortOrder=b),u],options:e.sortOrderOptions,"option-value":"value","option-label":"label",label:"Sort Order",dense:"",class:"tw-w-full md:tw-w-1/4 md:tw-min-w-20 lg:tw-flex-1"},{option:F(b=>[P(Ee,Qe(je(b.itemProps)),{default:F(()=>[P(Ne,null,{default:F(()=>[P(Ue,null,{default:F(()=>[Se(J(b.opt.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options"])]),P(ie,{type:"button",label:"Apply",color:e.color,"text-color":e.text,class:"lt-md tw-mt-3 md:tw-hidden",onClick:me(v,["prevent"])},null,8,["color","text-color"])]))}}),ua={class:"gt-sm tw-w-full tw-flex tw-items-center tw-flex-grow tw-gap-3 tw-py-2 tw-px-1 !tw-max-w-screen-2xl tw-mx-auto !tw-text-[13px]"},ca={class:"lt-md tw-flex tw-items-center tw-justify-between tw-px-0"},da={key:0,class:"tw-px-4"},va=ce({__name:"ProductTabs",props:{selectedCategory:{type:String,required:!0},scrollOffset:{type:Number,default:0},categories:{type:Array,required:!0},filters:{type:Object,required:!0},sortOptions:{type:Array,required:!0},sortOrderOptions:{type:Array,required:!0}},emits:["update:selectedCategory","update:filters"],setup(e,{emit:A}){const $=$e("scrollToTop"),r=e,n=A,a=Ae(),o=k(!1),u=k(r.selectedCategory),v=k(!1),C=s(()=>({stickyBgColor:a.dark.isActive?"q-dark":"q-light-lighter",activeBgColor:(a.dark.isActive,"white"),activeTextColor:a.dark.isActive?"dark":"black",backgroundColor:a.dark.isActive?"white":"black",textColor:a.dark.isActive?"black":"white"})),f=s(()=>a.screen.lt.md),b=s(()=>a.dark.isActive),g=()=>{v.value=!v.value},w=x=>{n("update:filters",x),v.value=!1};K(()=>r.scrollOffset,x=>{o.value=x>0},{immediate:!0}),K(()=>r.selectedCategory,x=>{x!==u.value&&(u.value=x)}),K(()=>u.value,x=>{n("update:selectedCategory",x),$()});const S=x=>{n("update:filters",x)},i=x=>x.split(" ").map(L=>L.charAt(0).toUpperCase()+L.slice(1)).join(" ");return(x,L)=>(R(),Y("div",{class:He(["sticky",{"is-sticky":o.value},o.value&&`tw-bg-${C.value.stickyBgColor}`])},[W("div",ua,[P(at,{modelValue:u.value,"onUpdate:modelValue":L[0]||(L[0]=q=>u.value=q),"indicator-color":"transparent",class:"tw-w-full","active-color":C.value.activeTextColor,"active-bg-color":C.value.activeBgColor,"text-color":C.value.backgroundColor,"inactive-color":C.value.textColor,align:"justify"},{default:F(()=>[P(be,{name:"all",label:x.$t("products.categories.allProducts")},null,8,["label"]),(R(!0),Y(ue,null,qe(e.categories,q=>(R(),ae(be,{key:q,name:q,label:i(q),class:"!tw-text-[13px]"},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),P(ie,{"text-color":C.value.activeTextColor,color:C.value.activeBgColor,icon:"tune",onClick:me(g,["prevent"])},null,8,["text-color","color"])]),W("div",ca,[P(ra,{"selected-category":u.value,"onUpdate:selectedCategory":L[1]||(L[1]=q=>u.value=q),categories:e.categories,color:C.value.backgroundColor,text:C.value.textColor,class:"tw-w-full tw-mr-3"},null,8,["selected-category","categories","color","text"]),P(ie,{"text-color":C.value.activeBgColor,color:C.value.activeTextColor,icon:"tune",class:"!tw-py-3",onClick:me(g,["prevent"])},null,8,["text-color","color"])]),!f.value&&v.value?(R(),Y("div",da,[P(We,{filters:e.filters,"sort-options":e.sortOptions,"sort-order-options":e.sortOrderOptions,"onUpdate:filters":S},null,8,["filters","sort-options","sort-order-options"])])):se("",!0),f.value&&v.value?(R(),ae(na,{key:1,"transition-show":"scale","transition-hide":"scale",class:He(["!tw-w-full tw-mr-3",b.value?"bg-dark text-light":"bg-light text-dark"])},{default:F(()=>[P(Je,{class:"!tw-w-full !tw-mx-auto"},{default:F(()=>[P(Xe,null,{default:F(()=>[P(We,{filters:e.filters,"sort-options":e.sortOptions,"sort-order-options":e.sortOrderOptions,text:C.value.activeBgColor,color:C.value.activeTextColor,"onUpdate:filters":S,onApplyFilters:w},null,8,["filters","sort-options","sort-order-options","text","color"])]),_:1})]),_:1})]),_:1},8,["class"])):se("",!0)],2))}}),fa=Rt(va,[["__scopeId","data-v-1e7f5f69"]]),ma={class:"tw-text-3xl tw-font-serif tw-mx-auto tw-my-4 2xl:tw-text-center 2xl:tw-mt-0"},ga={class:"tw-container tw-mx-auto tw-mb-8 tw-mt-4 grid justify-center"},ba={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 xl:tw-grid-cols-4 tw-gap-4"},ha="products_categories",Ge=10,Sa=ce({__name:"ProductsPage",props:{scrollOffset:{type:Number,required:!0}},setup(e){const A=$e("scrollToTop"),$=Ft(),r=Ae(),n=_t(),a=Ut(),{t:o}=Dt(),u=k([]),v=k(1),C=k("all"),f=k([]),b=k(!0),g=k({total:0,page:1,limit:10,lastPage:1}),w=[{label:"ID",value:"id"},{label:"Name",value:"name"},{label:"Price",value:"price"}],S=[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],i=k({search:"",minPrice:null,maxPrice:null,sortBy:w[0],sortOrder:S[0]}),x=s(()=>Math.ceil(g.value.total/g.value.limit)),L=s(()=>u.value),q=s(()=>({activeTextColor:r.dark.isActive?"dark":"black",backgroundColor:r.dark.isActive?"white":"black",textColor:r.dark.isActive?"black":"white",paginationColor:r.dark.isActive?"light":"dark",paginationTextColor:r.dark.isActive?"white":"black",paginationActiveColor:r.dark.isActive?"white":"dark",paginationActiveTextColor:r.dark.isActive?"black":"white"}));K(i,()=>{v.value=1,Z(C.value)},{deep:!0});const y=h=>{$.addItem({...h,quantity:1}),r.notify({color:"positive",position:"top",timeout:1e3,message:o("products.itemAdded"),icon:"check_circle"})},M=h=>{n.push(`${Ke}/${h.id}`)},N=h=>{v.value=h,A(),Z(C.value)},E=async h=>{C.value=h,v.value=1,await Z(h)},G=h=>{i.value=h},_=async()=>{try{if(b.value=!0,a.isCacheValid(ha)){const B=a.getCategoryCache();if(B){f.value=B.categories;return}}const h=await ze.get(`https://e-comm-api-8eba0f6c8782.herokuapp.com/api${jt}`);if(h.status!==200)throw new Error("Failed to fetch categories");f.value=h.data,a.setCategoryCache(f.value)}catch(h){console.error("Error fetching categories:",h)}finally{b.value=!1}},le=h=>`products_${h.category}_${h.page}_${h.limit}_${h.search}_${h.minPrice}_${h.maxPrice}_${h.sortBy}_${h.sortOrder}`,Z=async(h="all")=>{r.loading.show();try{const B={category:h,page:v.value,limit:Ge,search:i.value.search,minPrice:i.value.minPrice,maxPrice:i.value.maxPrice,sortBy:i.value.sortBy.value,sortOrder:i.value.sortOrder.value},c=le(B),d=a.getCache(c);if(d?.meta&&d?.data){u.value=d.data,g.value=d.meta,r.loading.hide();return}const Q=new URLSearchParams({page:v.value.toString(),limit:Ge.toString(),search:i.value.search,sortBy:i.value.sortBy.value,sortOrder:i.value.sortOrder.value});i.value.minPrice!==null&&Q.append("minPrice",i.value.minPrice.toString()),i.value.maxPrice!==null&&Q.append("maxPrice",i.value.maxPrice.toString());const U=`https://e-comm-api-8eba0f6c8782.herokuapp.com/api${Ke}${h!=="all"?`${Et}/${h}`:""}?${Q}`,z=await ze.get(U);if(z.status!==200)throw new Error("Failed to fetch products");if(z&&z.data){const j=z.data;u.value=j.data,g.value=j.meta,a.setCache(j,c)}}catch(B){console.error("Error fetching products:",B),B instanceof Error?r.notify({color:"negative",message:`${o("errors.fetchProducts")}, error: ${B.message}`,timeout:5e3,icon:"error",position:"top"}):r.notify({color:"negative",message:o("errors.fetchProducts"),timeout:5e3,icon:"error",position:"top"})}finally{r.loading.hide()}};return tt(async()=>{await Promise.all([_(),Z()])}),(h,B)=>(R(),ae(Nt,{padding:"",class:"!tw-pb-16 !tw-pt-4 !tw-px-3"},{default:F(()=>[W("h4",ma,J(h.$t("products.title")),1),P(fa,{"selected-category":C.value,categories:f.value,"scroll-offset":e.scrollOffset,filters:i.value,"sort-options":w,"sort-order-options":S,"onUpdate:selectedCategory":E,"onUpdate:filters":G},null,8,["selected-category","categories","scroll-offset","filters"]),P(Qt),W("div",ga,[W("div",ba,[(R(!0),Y(ue,null,qe(L.value,c=>(R(),ae(Jt,{key:c.id,product:c,color:q.value.backgroundColor,text:q.value.textColor,onAddToCart:y,onViewProduct:M},null,8,["product","color","text"]))),128))])]),g.value.total>0?(R(),ae(Kt,{key:0,modelValue:v.value,"onUpdate:modelValue":[B[0]||(B[0]=c=>v.value=c),N],max:x.value,"boundary-numbers":"",class:"tw-py-8 tw-flex tw-justify-center tw-items-center !tw-gap-8",color:q.value.paginationColor,"text-color":q.value.paginationTextColor,"active-color":q.value.paginationActiveColor,"active-text-color":q.value.paginationActiveTextColor},null,8,["modelValue","max","color","text-color","active-color","active-text-color"])):se("",!0)]),_:1}))}});export{Sa as default};
