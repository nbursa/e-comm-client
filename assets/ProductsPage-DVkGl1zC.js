import{c as we,M as Ye,aq as Ze,N as et,l as o,r as T,ar as tt,G as X,as as Ie,at,au as De,h as $,ae as lt,i as xe,a4 as ke,av as ot,S as ve,U as L,V as Y,W as oe,X as N,Y as nt,Z as G,_ as le,a3 as rt,a0 as Z,a2 as re,$ as be,ai as it,aj as st,a6 as ut,I as ct,J as he,aw as Re,k as _e,e as Ne,w as dt,R as vt,ax as ft,s as gt,Q as ce,O as mt,ay as ye,F as Le,az as bt,p as ht,o as yt,a as Ct,aA as wt,g as xt,a1 as Se,aB as kt,aa as Fe,a5 as St,aC as Tt,a8 as qt,ab as Pt,ac as pt,ad as $t,am as Bt,ak as Me}from"./index-B1WvwTxK.js";import{Q as At}from"./QPage-Dpz4bSfK.js";import{Q as Vt,f as Ce}from"./currencyUtils-DoHnk1Li.js";import"./rates-BpU42zHY.js";function se(e,h){return[!0,!1].includes(e)?e:h}const It=we({name:"QPagination",props:{...Ye,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||Ze.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:h}){const{proxy:y}=xe(),{$q:s}=y,n=et(e,s),v=o(()=>parseInt(e.min,10)),r=o(()=>parseInt(e.max,10)),u=o(()=>parseInt(e.maxPages,10)),l=o(()=>P.value+" / "+r.value),B=o(()=>se(e.boundaryLinks,e.input)),q=o(()=>se(e.boundaryNumbers,!e.input)),x=o(()=>se(e.directionLinks,e.input)),w=o(()=>se(e.ellipses,!e.input)),g=T(null),P=o({get:()=>e.modelValue,set:f=>{if(f=parseInt(f,10),e.disable||isNaN(f))return;const c=tt(f,v.value,r.value);e.modelValue!==c&&h("update:modelValue",c)}});X(()=>`${v.value}|${r.value}`,()=>{P.value=e.modelValue});const R=o(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),F=o(()=>e.gutter in Ie?`${Ie[e.gutter]}px`:e.gutter||null),U=o(()=>F.value!==null?`--q-pagination-gutter-parent:-${F.value};--q-pagination-gutter-child:${F.value}`:null),_=o(()=>{const f=[e.iconFirst||s.iconSet.pagination.first,e.iconPrev||s.iconSet.pagination.prev,e.iconNext||s.iconSet.pagination.next,e.iconLast||s.iconSet.pagination.last];return s.lang.rtl===!0?f.reverse():f}),m=o(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),p=o(()=>at(e,"flat")),M=o(()=>({[p.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),V=o(()=>{const f={[p.value]:!1};return e.activeDesign!==""&&(f[e.activeDesign]=!0),f}),Q=o(()=>({...V.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),i=o(()=>{let f=Math.max(u.value,1+(w.value?2:0)+(q.value?2:0));const c={pgFrom:v.value,pgTo:r.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(r.value).length)}em`}};return u.value&&f<r.value-v.value+1&&(f=1+Math.floor(f/2)*2,c.pgFrom=Math.max(v.value,Math.min(r.value-f+1,e.modelValue-Math.floor(f/2))),c.pgTo=Math.min(r.value,c.pgFrom+f-1),q.value&&(c.boundaryStart=!0,c.pgFrom++),w.value&&c.pgFrom>v.value+(q.value?1:0)&&(c.ellipsesStart=!0,c.pgFrom++),q.value&&(c.boundaryEnd=!0,c.pgTo--),w.value&&c.pgTo<r.value-(q.value?1:0)&&(c.ellipsesEnd=!0,c.pgTo--)),c});function I(f){P.value=f}function j(f){P.value=P.value+f}const fe=o(()=>{function f(){P.value=g.value,g.value=null}return{"onUpdate:modelValue":c=>{g.value=c},onKeyup:c=>{De(c,13)===!0&&f()},onBlur:f}});function O(f,c,K){const E={"aria-label":c,"aria-current":"false",...M.value,...f};return K===!0&&Object.assign(E,{"aria-current":"true",...Q.value}),c!==void 0&&(e.toFn!==void 0?E.to=e.toFn(c):E.onClick=()=>{I(c)}),$(ke,E)}return Object.assign(y,{set:I,setByOffset:j}),()=>{const f=[],c=[];let K;if(B.value===!0&&(f.push(O({key:"bls",disable:e.disable||e.modelValue<=v.value,icon:_.value[0]},v.value)),c.unshift(O({key:"ble",disable:e.disable||e.modelValue>=r.value,icon:_.value[3]},r.value))),x.value===!0&&(f.push(O({key:"bdp",disable:e.disable||e.modelValue<=v.value,icon:_.value[1]},e.modelValue-1)),c.unshift(O({key:"bdn",disable:e.disable||e.modelValue>=r.value,icon:_.value[2]},e.modelValue+1))),e.input!==!0){K=[];const{pgFrom:E,pgTo:ee,marginalStyle:z}=i.value;if(i.value.boundaryStart===!0){const D=v.value===e.modelValue;f.push(O({key:"bns",style:z,disable:e.disable,label:v.value},v.value,D))}if(i.value.boundaryEnd===!0){const D=r.value===e.modelValue;c.unshift(O({key:"bne",style:z,disable:e.disable,label:r.value},r.value,D))}i.value.ellipsesStart===!0&&f.push(O({key:"bes",style:z,disable:e.disable,label:"…",ripple:!1},E-1)),i.value.ellipsesEnd===!0&&c.unshift(O({key:"bee",style:z,disable:e.disable,label:"…",ripple:!1},ee+1));for(let D=E;D<=ee;D++)K.push(O({key:`bpg${D}`,style:z,disable:e.disable,label:D},D,D===e.modelValue))}return $("div",{class:R.value,...m.value},[$("div",{class:"q-pagination__content row no-wrap items-center",style:U.value},[...f,e.input===!0?$(lt,{class:"inline",style:{width:`${l.value.length/1.5}em`},type:"number",dense:!0,value:g.value,disable:e.disable,dark:n.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:l.value,min:v.value,max:r.value,...fe.value}):$("div",{class:"q-pagination__middle row justify-center"},K),...c])])}}}),Lt=ot("productCache",{state:()=>({cacheMap:new Map,categoryCache:null,cacheDuration:5*60*1e3}),actions:{getCacheKey(e="all"){return`products_${e}`},setCache(e,h="all"){const y={products:e,timestamp:Date.now(),category:h};this.cacheMap.set(this.getCacheKey(h),y),localStorage.setItem(this.getCacheKey(h),JSON.stringify(y))},getCache(e="all"){const h=this.cacheMap.get(this.getCacheKey(e));if(h)return h;const y=localStorage.getItem(this.getCacheKey(e));if(!y)return null;const s=JSON.parse(y);return this.cacheMap.set(this.getCacheKey(e),s),s},isCacheValid(e="all"){const h=this.getCache(e);return h?Date.now()-h.timestamp<this.cacheDuration:!1},setCategoryCache(e){this.categoryCache={categories:e,timestamp:Date.now()},localStorage.setItem("categories",JSON.stringify(this.categoryCache))},getCategoryCache(){if(this.categoryCache)return this.categoryCache;const e=localStorage.getItem("categories");return e?(this.categoryCache=JSON.parse(e),this.categoryCache):null},isCategoryCacheValid(){const e=this.getCategoryCache();return e?Date.now()-e.timestamp<this.cacheDuration:!1}}}),Mt={class:"text-bold"},Dt={class:"text-caption"},Rt={class:"q-mt-sm text-bold price-text"},_t={class:"text-grey"},Nt={class:"text-positive q-ml-sm"},Ft=ve({__name:"ProductCard",props:{product:{type:Object,required:!0},color:{type:String,default:"primary"},text:{type:String,default:"white"}},emits:["add-to-cart","view-product"],setup(e,{emit:h}){const y=h,s=u=>{y("add-to-cart",u)},n=u=>{y("view-product",u)},v=u=>u,r=u=>{const l=u.match(/[^.!?]*[.!?]/);return l?l[0]:u};return(u,l)=>(L(),Y(ut,{class:"product tw-w-full tw-max-w-72 tw-mx-auto !tw-bg-primary sm:tw-mx-none tw-transition tw-duration-200 tw-ease-in-out hover:tw-cursor-pointer hover:tw-scale-105",onClick:l[1]||(l[1]=B=>n(e.product))},{default:oe(()=>[N(Vt,{src:v(e.product.image),alt:e.product.name,fit:"contain",class:"sm:tw-h-2/3 tw-w-full tw-max-h-1.5"},null,8,["src","alt"]),N(nt,{class:"tw-flex-grow q-px-sm !tw-pb-0"},{default:oe(()=>[G("div",Mt,le(e.product.name||e.product.title),1),G("div",Dt,le(r(e.product.description)),1)]),_:1}),N(rt,{class:"row justify-between items-center !tw-pt-0"},{default:oe(()=>[G("div",Rt,[e.product.discount?(L(),Z(re,{key:0},[G("span",_t,le(be(Ce)(e.product.price)),1),G("span",Nt,le(be(Ce)(e.product.discountedPrice||e.product.price)),1)],64)):(L(),Z(re,{key:1},[it(le(be(Ce)(e.product.price)),1)],64))]),N(ke,{color:e.color,"text-color":e.text,label:u.$t("products.addToCart"),class:"full-width q-mt-md !tw-py-4",onClick:l[0]||(l[0]=st(B=>s(e.product),["stop"]))},null,8,["color","text-color","label"])]),_:1})]),_:1}))}});let Qt=0;const jt=["click","keydown"],Ot={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Qt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Et(e,h,y,s){const n=ct(Re,he);if(n===he)return console.error("QTab/QRouteTab component needs to be child of QTabs"),he;const{proxy:v}=xe(),r=T(null),u=T(null),l=T(null),B=o(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),q=o(()=>n.currentModel.value===e.name),x=o(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(q.value===!0?" q-tab--active"+(n.tabProps.value.activeClass?" "+n.tabProps.value.activeClass:"")+(n.tabProps.value.activeColor?` text-${n.tabProps.value.activeColor}`:"")+(n.tabProps.value.activeBgColor?` bg-${n.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&n.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||n.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),w=o(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(n.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),g=o(()=>e.disable===!0||n.hasFocus.value===!0||q.value===!1&&n.hasActiveTab.value===!0?-1:e.tabindex||0);function P(m,p){if(p!==!0&&r.value!==null&&r.value.focus(),e.disable!==!0){n.updateModel({name:e.name}),y("click",m);return}}function R(m){De(m,[13,32])?P(m,!0):ft(m)!==!0&&m.keyCode>=35&&m.keyCode<=40&&m.altKey!==!0&&m.metaKey!==!0&&n.onKbdNavigate(m.keyCode,v.$el)===!0&&gt(m),y("keydown",m)}function F(){const m=n.tabProps.value.narrowIndicator,p=[],M=$("div",{ref:l,class:["q-tab__indicator",n.tabProps.value.indicatorClass]});e.icon!==void 0&&p.push($(ce,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&p.push($("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&p.push(e.alertIcon!==void 0?$(ce,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):$("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),m===!0&&p.push(M);const V=[$("div",{class:"q-focus-helper",tabindex:-1,ref:r}),$("div",{class:w.value},mt(h.default,p))];return m===!1&&V.push(M),V}const U={name:o(()=>e.name),rootRef:u,tabIndicatorRef:l,routeData:s};_e(()=>{n.unregisterTab(U)}),Ne(()=>{n.registerTab(U)});function _(m,p){const M={ref:u,class:x.value,tabindex:g.value,role:"tab","aria-selected":q.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:P,onKeydown:R,...p};return dt($(m,M,F()),[[vt,B.value]])}return{renderTab:_,$tabs:n}}const de=we({name:"QTab",props:Ot,emits:jt,setup(e,{slots:h,emit:y}){const{renderTab:s}=Et(e,h,y);return()=>s("div")}});function Ut(e,h,y){const s=y===!0?["left","right"]:["top","bottom"];return`absolute-${h===!0?s[0]:s[1]}${e?` text-${e}`:""}`}const Kt=["left","center","right","justify"],Qe=we({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Kt.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:h,emit:y}){const{proxy:s}=xe(),{$q:n}=s,{registerTick:v}=ye(),{registerTick:r}=ye(),{registerTick:u}=ye(),{registerTimeout:l,removeTimeout:B}=Le(),{registerTimeout:q,removeTimeout:x}=Le(),w=T(null),g=T(null),P=T(e.modelValue),R=T(!1),F=T(!0),U=T(!1),_=T(!1),m=[],p=T(0),M=T(!1);let V=null,Q=null,i;const I=o(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Ut(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),j=o(()=>{const t=p.value,a=P.value;for(let d=0;d<t;d++)if(m[d].name.value===a)return!0;return!1}),fe=o(()=>`q-tabs__content--align-${R.value===!0?"left":_.value===!0?"justify":e.align}`),O=o(()=>`q-tabs row no-wrap items-center q-tabs--${R.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),f=o(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+fe.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),c=o(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),K=o(()=>e.vertical!==!0&&n.lang.rtl===!0),E=o(()=>bt===!1&&K.value===!0);X(K,ae),X(()=>e.modelValue,t=>{ee({name:t,setCurrent:!0,skipEmit:!0})}),X(()=>e.outsideArrows,z);function ee({name:t,setCurrent:a,skipEmit:d}){P.value!==t&&(d!==!0&&e["onUpdate:modelValue"]!==void 0&&y("update:modelValue",t),(a===!0||e["onUpdate:modelValue"]===void 0)&&(je(P.value,t),P.value=t))}function z(){v(()=>{w.value&&D({width:w.value.offsetWidth,height:w.value.offsetHeight})})}function D(t){if(c.value===void 0||g.value===null)return;const a=t[c.value.container],d=Math.min(g.value[c.value.scroll],Array.prototype.reduce.call(g.value.children,(S,C)=>S+(C[c.value.content]||0),0)),k=a>0&&d>a;R.value=k,k===!0&&r(ae),_.value=a<parseInt(e.breakpoint,10)}function je(t,a){const d=t!=null&&t!==""?m.find(S=>S.name.value===t):null,k=a!=null&&a!==""?m.find(S=>S.name.value===a):null;if(ie===!0)ie=!1;else if(d&&k){const S=d.tabIndicatorRef.value,C=k.tabIndicatorRef.value;V!==null&&(clearTimeout(V),V=null),S.style.transition="none",S.style.transform="none",C.style.transition="none",C.style.transform="none";const b=S.getBoundingClientRect(),A=C.getBoundingClientRect();C.style.transform=e.vertical===!0?`translate3d(0,${b.top-A.top}px,0) scale3d(1,${A.height?b.height/A.height:1},1)`:`translate3d(${b.left-A.left}px,0,0) scale3d(${A.width?b.width/A.width:1},1,1)`,u(()=>{V=setTimeout(()=>{V=null,C.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",C.style.transform="none"},70)})}k&&R.value===!0&&te(k.rootRef.value)}function te(t){const{left:a,width:d,top:k,height:S}=g.value.getBoundingClientRect(),C=t.getBoundingClientRect();let b=e.vertical===!0?C.top-k:C.left-a;if(b<0){g.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(b),ae();return}b+=e.vertical===!0?C.height-S:C.width-d,b>0&&(g.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(b),ae())}function ae(){const t=g.value;if(t===null)return;const a=t.getBoundingClientRect(),d=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);K.value===!0?(F.value=Math.ceil(d+a.width)<t.scrollWidth-1,U.value=d>0):(F.value=d>0,U.value=e.vertical===!0?Math.ceil(d+a.height)<t.scrollHeight:Math.ceil(d+a.width)<t.scrollWidth)}function Te(t){Q!==null&&clearInterval(Q),Q=setInterval(()=>{Ue(t)===!0&&W()},5)}function qe(){Te(E.value===!0?Number.MAX_SAFE_INTEGER:0)}function Pe(){Te(E.value===!0?0:Number.MAX_SAFE_INTEGER)}function W(){Q!==null&&(clearInterval(Q),Q=null)}function Oe(t,a){const d=Array.prototype.filter.call(g.value.children,A=>A===a||A.matches&&A.matches(".q-tab.q-focusable")===!0),k=d.length;if(k===0)return;if(t===36)return te(d[0]),d[0].focus(),!0;if(t===35)return te(d[k-1]),d[k-1].focus(),!0;const S=t===(e.vertical===!0?38:37),C=t===(e.vertical===!0?40:39),b=S===!0?-1:C===!0?1:void 0;if(b!==void 0){const A=K.value===!0?-1:1,H=d.indexOf(a)+b*A;return H>=0&&H<k&&(te(d[H]),d[H].focus({preventScroll:!0})),!0}}const Ee=o(()=>E.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,a)=>{t.scrollLeft=-a}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,a)=>{t.scrollTop=a}}:{get:t=>t.scrollLeft,set:(t,a)=>{t.scrollLeft=a}});function Ue(t){const a=g.value,{get:d,set:k}=Ee.value;let S=!1,C=d(a);const b=t<C?-1:1;return C+=b*5,C<0?(S=!0,C=0):(b===-1&&C<=t||b===1&&C>=t)&&(S=!0,C=t),k(a,C),ae(),S}function pe(t,a){for(const d in t)if(t[d]!==a[d])return!1;return!0}function Ke(){let t=null,a={matchedLen:0,queryDiff:9999,hrefLen:0};const d=m.filter(b=>b.routeData!==void 0&&b.routeData.hasRouterLink.value===!0),{hash:k,query:S}=s.$route,C=Object.keys(S).length;for(const b of d){const A=b.routeData.exact.value===!0;if(b.routeData[A===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:H,query:ge,matched:Ge,href:Xe}=b.routeData.resolvedLink.value,me=Object.keys(ge).length;if(A===!0){if(H!==k||me!==C||pe(S,ge)===!1)continue;t=b.name.value;break}if(H!==""&&H!==k||me!==0&&pe(ge,S)===!1)continue;const J={matchedLen:Ge.length,queryDiff:C-me,hrefLen:Xe.length-H.length};if(J.matchedLen>a.matchedLen){t=b.name.value,a=J;continue}else if(J.matchedLen!==a.matchedLen)continue;if(J.queryDiff<a.queryDiff)t=b.name.value,a=J;else if(J.queryDiff!==a.queryDiff)continue;J.hrefLen>a.hrefLen&&(t=b.name.value,a=J)}if(t===null&&m.some(b=>b.routeData===void 0&&b.name.value===P.value)===!0){ie=!1;return}ee({name:t,setCurrent:!0})}function ze(t){if(B(),M.value!==!0&&w.value!==null&&t.target&&typeof t.target.closest=="function"){const a=t.target.closest(".q-tab");a&&w.value.contains(a)===!0&&(M.value=!0,R.value===!0&&te(a))}}function He(){l(()=>{M.value=!1},30)}function ne(){Be.avoidRouteWatcher===!1?q(Ke):x()}function $e(){if(i===void 0){const t=X(()=>s.$route.fullPath,ne);i=()=>{t(),i=void 0}}}function We(t){m.push(t),p.value++,z(),t.routeData===void 0||s.$route===void 0?q(()=>{if(R.value===!0){const a=P.value,d=a!=null&&a!==""?m.find(k=>k.name.value===a):null;d&&te(d.rootRef.value)}}):($e(),t.routeData.hasRouterLink.value===!0&&ne())}function Je(t){m.splice(m.indexOf(t),1),p.value--,z(),i!==void 0&&t.routeData!==void 0&&(m.every(a=>a.routeData===void 0)===!0&&i(),ne())}const Be={currentModel:P,tabProps:I,hasFocus:M,hasActiveTab:j,registerTab:We,unregisterTab:Je,verifyRouteModel:ne,updateModel:ee,onKbdNavigate:Oe,avoidRouteWatcher:!1};ht(Re,Be);function Ae(){V!==null&&clearTimeout(V),W(),i!==void 0&&i()}let Ve,ie;return _e(Ae),yt(()=>{Ve=i!==void 0,Ae()}),Ct(()=>{Ve===!0&&($e(),ie=!0,ne()),z()}),()=>$("div",{ref:w,class:O.value,role:"tablist",onFocusin:ze,onFocusout:He},[$(wt,{onResize:D}),$("div",{ref:g,class:f.value,onScroll:ae},xt(h.default)),$(ce,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(F.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||n.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:qe,onTouchstartPassive:qe,onMouseupPassive:W,onMouseleavePassive:W,onTouchendPassive:W}),$(ce,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(U.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||n.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Pe,onTouchstartPassive:Pe,onMouseupPassive:W,onMouseleavePassive:W,onTouchendPassive:W})])}}),zt=ve({__name:"CategorySelect",props:{selectedCategory:{type:String,required:!0},categories:{type:Array,required:!0},color:{type:String,required:!0},text:{type:String,required:!0}},emits:["update:selectedCategory"],setup(e,{emit:h}){const y=e,s=h,n=o({get:()=>y.selectedCategory,set:r=>{s("update:selectedCategory",r)}}),v=r=>r?r.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" "):"";return(r,u)=>(L(),Z("div",null,[N(Qe,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=l=>n.value=l),class:"q-mb-md gt-sm","active-color":e.color,"active-bg-color":e.color,"text-color":e.color,"inactive-color":e.color,align:"justify"},{default:oe(()=>[N(de,{name:"all",label:r.$t("products.categories.allProducts")},null,8,["label"]),(L(!0),Z(re,null,Se(e.categories,l=>(L(),Y(de,{key:l,name:l,label:v(l)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),N(kt,{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=l=>n.value=l),options:["all",...e.categories],class:"q-my-md lt-md",color:e.color,"text-color":e.text,label:r.$t("products.selectCategory"),outlined:"","option-label":l=>l==="all"?r.$t("products.categories.allProducts"):v(l)},null,8,["modelValue","options","color","text-color","label","option-label"])]))}}),Ht=ve({__name:"ProductTabs",props:{selectedCategory:{type:String,required:!0},scrollOffset:{type:Number,default:0},categories:{type:Array,required:!0}},emits:["update:selectedCategory"],setup(e,{emit:h}){const y=e,s=h,n=Fe(),v=T(!1),r=T(null),u=T(y.selectedCategory),l=o(()=>({stickyBgColor:n.dark.isActive?"dark":"light",activeBgColor:(n.dark.isActive,"white"),activeTextColor:n.dark.isActive?"dark":"black",backgroundColor:n.dark.isActive?"white":"black",textColor:n.dark.isActive?"black":"white"})),B=o(()=>n.screen.gt.xs?"50px":"70px");X(()=>y.scrollOffset,x=>{v.value=x>70,v.value&&r.value?r.value.style.top="70px":r.value&&(r.value.style.top="initial")},{immediate:!0}),X(()=>y.selectedCategory,x=>{x!==u.value&&(u.value=x)}),X(()=>u.value,x=>{s("update:selectedCategory",x)});const q=x=>x.split(" ").map(w=>w.charAt(0).toUpperCase()+w.slice(1)).join(" ");return(x,w)=>(L(),Z("div",{class:St(["sticky tw-transition-all tw-duration-300",v.value?`tw-fixed tw-left-0 tw-w-screen tw-z-50 tw-px-3 tw-shadow-md !tw-py-0 !tw-text-xs tw-bg-[var(--q-bg-${l.value.stickyBgColor})]`:""]),style:Tt({top:v.value?B.value:"initial"})},[N(Qe,{modelValue:u.value,"onUpdate:modelValue":w[0]||(w[0]=g=>u.value=g),"indicator-color":"transparent",class:"gt-sm !tw-max-w-screen-xl tw-mx-auto","active-color":l.value.activeTextColor,"active-bg-color":l.value.activeBgColor,"text-color":l.value.backgroundColor,"inactive-color":l.value.textColor,align:"justify"},{default:oe(()=>[N(de,{name:"all",label:x.$t("products.categories.allProducts")},null,8,["label"]),(L(!0),Z(re,null,Se(e.categories,g=>(L(),Y(de,{key:g,name:g,label:q(g)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),N(zt,{"selected-category":u.value,"onUpdate:selectedCategory":w[1]||(w[1]=g=>u.value=g),categories:e.categories,color:l.value.backgroundColor,text:l.value.textColor,class:"q-my-md lt-md"},null,8,["selected-category","categories","color","text"])],6))}}),Wt=qt(Ht,[["__scopeId","data-v-43cb75a4"]]),Jt={class:"q-my-md tw-font-serif"},Gt={class:"tw-container tw-mx-auto tw-mb-8 grid justify-center"},Xt={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 xl:tw-grid-cols-4 tw-gap-4"},ue=10,aa=ve({__name:"ProductsPage",props:{scrollOffset:{type:Number,required:!0}},setup(e){const h=e,y=Pt(),s=Fe(),n=pt(),v=Lt(),{t:r}=$t(),u="https://e-comm-backend-16bba1769344.herokuapp.com",l=T([]),B=T(1),q=T("all"),x=T([]),w=T(!0),g=o(()=>({activeTextColor:s.dark.isActive?"dark":"black",backgroundColor:s.dark.isActive?"white":"black",textColor:s.dark.isActive?"black":"white",paginationColor:s.dark.isActive?"light":"dark",paginationTextColor:s.dark.isActive?"white":"black",paginationActiveColor:s.dark.isActive?"white":"dark",paginationActiveTextColor:s.dark.isActive?"black":"white"})),P=o(()=>l.value.length?q.value==="all"?l.value:l.value.filter(i=>i.category===q.value):[]),R=o(()=>P.value.slice((B.value-1)*ue,B.value*ue)),F=o(()=>Math.ceil(l.value.length/ue)),U=o(()=>h.scrollOffset>300),_=()=>{const i=document.querySelector(".q-page-container");console.log("scrollArea",i.offsetHeight),i?i.scrollTo({top:0,behavior:"smooth"}):window.scrollTo({top:0,behavior:"smooth"})},m=i=>{y.addItem({...i,quantity:1}),s.notify({color:"positive",message:r("products.itemAdded"),icon:"check_circle"})},p=i=>{n.push(`/products/${i.id}`)},M=async i=>{q.value=i,B.value=1,await Q(i)},V=async()=>{try{if(w.value=!0,v.isCategoryCacheValid()){const I=v.getCategoryCache();if(I){x.value=I.categories;return}}const i=await fetch(`${u}/products/categories`);x.value=await i.json(),v.setCategoryCache(x.value)}catch(i){console.error("Error fetching categories:",i)}finally{w.value=!1}},Q=async(i="all")=>{s.loading.show();try{if(v.isCacheValid(i)){const j=v.getCache(i);if(j){l.value=j.products;return}}const I=await fetch(`${u}/products${i!=="all"?`/category/${i}`:""}`);l.value=await I.json(),v.setCache(l.value,i)}catch(I){console.error("Error fetching products:",I),l.value=[]}finally{s.loading.hide()}};return Ne(()=>{V(),Q()}),(i,I)=>(L(),Y(At,{padding:"",class:"tw-relative"},{default:oe(()=>[G("h5",Jt,le(i.$t("products.title")),1),N(Wt,{"selected-category":q.value,categories:x.value,"scroll-offset":e.scrollOffset,"onUpdate:selectedCategory":M},null,8,["selected-category","categories","scroll-offset"]),N(Bt,{class:"q-my-md"}),G("div",Gt,[G("div",Xt,[(L(!0),Z(re,null,Se(R.value,j=>(L(),Y(Ft,{key:j.id,product:j,color:g.value.backgroundColor,text:g.value.textColor,onAddToCart:m,onViewProduct:p},null,8,["product","color","text"]))),128))])]),l.value.length>ue?(L(),Y(It,{key:0,modelValue:B.value,"onUpdate:modelValue":[I[0]||(I[0]=j=>B.value=j),_],max:F.value,"boundary-numbers":"",class:"tw-py-8 tw-flex tw-justify-center tw-items-center !tw-gap-8",color:g.value.paginationColor,"text-color":g.value.paginationTextColor,"active-color":g.value.paginationActiveColor,"active-text-color":g.value.paginationActiveTextColor},null,8,["modelValue","max","color","text-color","active-color","active-text-color"])):Me("",!0),U.value?(L(),Y(ke,{key:1,class:"!tw-fixed !tw-bottom-12 !tw-right-4 !tw-p-2 tw-z-40",round:"",color:"white","text-color":"black",icon:"arrow_upward",onClick:_})):Me("",!0)]),_:1}))}});export{aa as default};
