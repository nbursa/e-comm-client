import{p as be,$ as st,aC as ut,a0 as ct,c as s,x,aD as dt,S as H,aE as Re,aF as vt,aG as Ne,v as I,ad as fe,A as he,k as ie,d as ce,o as F,a as te,w as X,ai as se,h as G,t as ae,e as A,Q as He,f as z,j as ft,F as ue,g as pe,ac as mt,ae as ke,l as Ke,X as Te,Y as xe,aH as ze,q as We,a7 as Ge,z as gt,R as bt,aI as ht,L as wt,y as me,a2 as yt,aJ as Ce,P as De,aK as pt,a1 as xt,a5 as Ct,a6 as Pt,aL as kt,V as St,aM as Tt,aN as qt,aO as $t,m as At,aP as Bt,r as qe,aQ as Se,ak as $e,n as Ee,_ as Vt,al as Ot,am as It,ab as Lt,aR as je,aS as Mt,ap as Ft,aT as Rt}from"./index-Bn6ZaoPT.js";import{Q as Dt}from"./QPage-HP0jSXaB.js";import{u as Et}from"./products-DmBeeij6.js";import{Q as jt}from"./QImg-CuHy4nAY.js";import{f as Pe}from"./currency-DNzvMaEW.js";import{api as Qe}from"./axios-UA7RLzDa.js";import"./rates-DZwe_GKp.js";function ve(e,$){return[!0,!1].includes(e)?e:$}const Qt=be({name:"QPagination",props:{...st,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||ut.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:$}){const{proxy:T}=he(),{$q:i}=T,n=ct(e,i),a=s(()=>parseInt(e.min,10)),o=s(()=>parseInt(e.max,10)),u=s(()=>parseInt(e.maxPages,10)),v=s(()=>S.value+" / "+o.value),p=s(()=>ve(e.boundaryLinks,e.input)),f=s(()=>ve(e.boundaryNumbers,!e.input)),C=s(()=>ve(e.directionLinks,e.input)),r=s(()=>ve(e.ellipses,!e.input)),g=x(null),S=s({get:()=>e.modelValue,set:c=>{if(c=parseInt(c,10),e.disable||isNaN(c))return;const d=dt(c,a.value,o.value);e.modelValue!==d&&$("update:modelValue",d)}});H(()=>`${a.value}|${o.value}`,()=>{S.value=e.modelValue});const y=s(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),P=s(()=>e.gutter in Re?`${Re[e.gutter]}px`:e.gutter||null),L=s(()=>P.value!==null?`--q-pagination-gutter-parent:-${P.value};--q-pagination-gutter-child:${P.value}`:null),q=s(()=>{const c=[e.iconFirst||i.iconSet.pagination.first,e.iconPrev||i.iconSet.pagination.prev,e.iconNext||i.iconSet.pagination.next,e.iconLast||i.iconSet.pagination.last];return i.lang.rtl===!0?c.reverse():c}),h=s(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),M=s(()=>vt(e,"flat")),U=s(()=>({[M.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),Q=s(()=>{const c={[M.value]:!1};return e.activeDesign!==""&&(c[e.activeDesign]=!0),c}),W=s(()=>({...Q.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),R=s(()=>{let c=Math.max(u.value,1+(r.value?2:0)+(f.value?2:0));const d={pgFrom:a.value,pgTo:o.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(o.value).length)}em`}};return u.value&&c<o.value-a.value+1&&(c=1+Math.floor(c/2)*2,d.pgFrom=Math.max(a.value,Math.min(o.value-c+1,e.modelValue-Math.floor(c/2))),d.pgTo=Math.min(o.value,d.pgFrom+c-1),f.value&&(d.boundaryStart=!0,d.pgFrom++),r.value&&d.pgFrom>a.value+(f.value?1:0)&&(d.ellipsesStart=!0,d.pgFrom++),f.value&&(d.boundaryEnd=!0,d.pgTo--),r.value&&d.pgTo<o.value-(f.value?1:0)&&(d.ellipsesEnd=!0,d.pgTo--)),d});function le(c){S.value=c}function J(c){S.value=S.value+c}const b=s(()=>{function c(){S.value=g.value,g.value=null}return{"onUpdate:modelValue":d=>{g.value=d},onKeyup:d=>{Ne(d,13)===!0&&c()},onBlur:c}});function B(c,d,D){const _={"aria-label":d,"aria-current":"false",...U.value,...c};return D===!0&&Object.assign(_,{"aria-current":"true",...W.value}),d!==void 0&&(e.toFn!==void 0?_.to=e.toFn(d):_.onClick=()=>{le(d)}),I(ie,_)}return Object.assign(T,{set:le,setByOffset:J}),()=>{const c=[],d=[];let D;if(p.value===!0&&(c.push(B({key:"bls",disable:e.disable||e.modelValue<=a.value,icon:q.value[0]},a.value)),d.unshift(B({key:"ble",disable:e.disable||e.modelValue>=o.value,icon:q.value[3]},o.value))),C.value===!0&&(c.push(B({key:"bdp",disable:e.disable||e.modelValue<=a.value,icon:q.value[1]},e.modelValue-1)),d.unshift(B({key:"bdn",disable:e.disable||e.modelValue>=o.value,icon:q.value[2]},e.modelValue+1))),e.input!==!0){D=[];const{pgFrom:_,pgTo:K,marginalStyle:E}=R.value;if(R.value.boundaryStart===!0){const N=a.value===e.modelValue;c.push(B({key:"bns",style:E,disable:e.disable,label:a.value},a.value,N))}if(R.value.boundaryEnd===!0){const N=o.value===e.modelValue;d.unshift(B({key:"bne",style:E,disable:e.disable,label:o.value},o.value,N))}R.value.ellipsesStart===!0&&c.push(B({key:"bes",style:E,disable:e.disable,label:"…",ripple:!1},_-1)),R.value.ellipsesEnd===!0&&d.unshift(B({key:"bee",style:E,disable:e.disable,label:"…",ripple:!1},K+1));for(let N=_;N<=K;N++)D.push(B({key:`bpg${N}`,style:E,disable:e.disable,label:N},N,N===e.modelValue))}return I("div",{class:y.value,...h.value},[I("div",{class:"q-pagination__content row no-wrap items-center",style:L.value},[...c,e.input===!0?I(fe,{class:"inline",style:{width:`${v.value.length/1.5}em`},type:"number",dense:!0,value:g.value,disable:e.disable,dark:n.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:v.value,min:a.value,max:o.value,...b.value}):I("div",{class:"q-pagination__middle row justify-center"},D),...d])])}}}),_t={class:"text-bold"},Ut={class:"text-caption"},Nt={class:"q-mt-sm text-bold price-text"},Ht={class:"text-grey"},Kt={class:"text-positive q-ml-sm"},zt=ce({__name:"ProductCard",props:{product:{type:Object,required:!0},color:{type:String,default:"primary"},text:{type:String,default:"white"}},emits:["add-to-cart","view-product"],setup(e,{emit:$}){const T="https://e-comm-api-8eba0f6c8782.herokuapp.com/api",i=e,n=$,a=x(null),o=x(null),u=r=>{n("add-to-cart",r)},v=r=>{n("view-product",r)},p=r=>`${T}${r}`,f=()=>{a.value&&o.value&&(o.value.style.height=`${a.value.clientHeight}px`)},C=r=>{const g=r.match(/[^.!?]*[.!?]/);return g?g[0]:r};return H(()=>i.product.image,()=>{f()}),(r,g)=>(F(),te(Ke,{bordered:"",class:"product tw-w-full tw-max-w-72 tw-mx-auto !tw-bg-primary sm:tw-mx-none tw-transition tw-duration-200 tw-ease-in-out hover:tw-cursor-pointer hover:tw-scale-105 tw-shadow-none",onClick:g[1]||(g[1]=S=>v(e.product))},{default:X(()=>[e.product.image?(F(),te(jt,{key:0,ref_key:"imageSection",ref:a,src:p(e.product.image),alt:e.product.name,fit:"contain",class:"sm:tw-h-2/3 tw-w-full tw-max-h-1.5"},null,8,["src","alt"])):se("",!0),e.product.image?se("",!0):(F(),G("div",{key:1,ref_key:"noImageSection",ref:o,class:"tw-p-1.5 tw-flex tw-items-center tw-justify-center tw-min-h-64 tw-w-full tw-max-h-1.5"},ae(r.$t("products.noImage")),513)),A(He,{class:"q-px-sm !tw-pb-0"},{default:X(()=>[z("div",_t,ae(e.product.name||e.product.title),1),z("div",Ut,ae(C(e.product.description)),1)]),_:1}),A(ft,{class:"row justify-between items-center !tw-pt-0"},{default:X(()=>[z("div",Nt,[e.product.discount?(F(),G(ue,{key:0},[z("span",Ht,ae(pe(Pe)(e.product.price)),1),z("span",Kt,ae(pe(Pe)(e.product.discountedPrice||e.product.price)),1)],64)):(F(),G(ue,{key:1},[mt(ae(pe(Pe)(e.product.price)),1)],64))]),A(ie,{color:e.color,"text-color":e.text,label:r.$t("products.addToCart"),class:"full-width q-mt-md !tw-py-4",onClick:g[0]||(g[0]=ke(S=>u(e.product),["stop"]))},null,8,["color","text-color","label"])]),_:1})]),_:1}))}});let Wt=0;const Gt=["click","keydown"],Yt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Wt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Xt(e,$,T,i){const n=Te(ze,xe);if(n===xe)return console.error("QTab/QRouteTab component needs to be child of QTabs"),xe;const{proxy:a}=he(),o=x(null),u=x(null),v=x(null),p=s(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),f=s(()=>n.currentModel.value===e.name),C=s(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(f.value===!0?" q-tab--active"+(n.tabProps.value.activeClass?" "+n.tabProps.value.activeClass:"")+(n.tabProps.value.activeColor?` text-${n.tabProps.value.activeColor}`:"")+(n.tabProps.value.activeBgColor?` bg-${n.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&n.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||n.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),r=s(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(n.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),g=s(()=>e.disable===!0||n.hasFocus.value===!0||f.value===!1&&n.hasActiveTab.value===!0?-1:e.tabindex||0);function S(h,M){if(M!==!0&&o.value!==null&&o.value.focus(),e.disable!==!0){n.updateModel({name:e.name}),T("click",h);return}}function y(h){Ne(h,[13,32])?S(h,!0):ht(h)!==!0&&h.keyCode>=35&&h.keyCode<=40&&h.altKey!==!0&&h.metaKey!==!0&&n.onKbdNavigate(h.keyCode,a.$el)===!0&&wt(h),T("keydown",h)}function P(){const h=n.tabProps.value.narrowIndicator,M=[],U=I("div",{ref:v,class:["q-tab__indicator",n.tabProps.value.indicatorClass]});e.icon!==void 0&&M.push(I(me,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&M.push(I("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&M.push(e.alertIcon!==void 0?I(me,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):I("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),h===!0&&M.push(U);const Q=[I("div",{class:"q-focus-helper",tabindex:-1,ref:o}),I("div",{class:r.value},yt($.default,M))];return h===!1&&Q.push(U),Q}const L={name:s(()=>e.name),rootRef:u,tabIndicatorRef:v,routeData:i};We(()=>{n.unregisterTab(L)}),Ge(()=>{n.registerTab(L)});function q(h,M){const U={ref:u,class:C.value,tabindex:g.value,role:"tab","aria-selected":f.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:S,onKeydown:y,...M};return gt(I(h,U,P()),[[bt,p.value]])}return{renderTab:q,$tabs:n}}const ge=be({name:"QTab",props:Yt,emits:Gt,setup(e,{slots:$,emit:T}){const{renderTab:i}=Xt(e,$,T);return()=>i("div")}});function Jt(e,$,T){const i=T===!0?["left","right"]:["top","bottom"];return`absolute-${$===!0?i[0]:i[1]}${e?` text-${e}`:""}`}const Zt=["left","center","right","justify"],Ye=be({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Zt.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:$,emit:T}){const{proxy:i}=he(),{$q:n}=i,{registerTick:a}=Ce(),{registerTick:o}=Ce(),{registerTick:u}=Ce(),{registerTimeout:v,removeTimeout:p}=De(),{registerTimeout:f,removeTimeout:C}=De(),r=x(null),g=x(null),S=x(e.modelValue),y=x(!1),P=x(!0),L=x(!1),q=x(!1),h=[],M=x(0),U=x(!1);let Q=null,W=null,R;const le=s(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Jt(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),J=s(()=>{const t=M.value,l=S.value;for(let m=0;m<t;m++)if(h[m].name.value===l)return!0;return!1}),b=s(()=>`q-tabs__content--align-${y.value===!0?"left":q.value===!0?"justify":e.align}`),B=s(()=>`q-tabs row no-wrap items-center q-tabs--${y.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),c=s(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+b.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),d=s(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),D=s(()=>e.vertical!==!0&&n.lang.rtl===!0),_=s(()=>pt===!1&&D.value===!0);H(D,ne),H(()=>e.modelValue,t=>{K({name:t,setCurrent:!0,skipEmit:!0})}),H(()=>e.outsideArrows,E);function K({name:t,setCurrent:l,skipEmit:m}){S.value!==t&&(m!==!0&&e["onUpdate:modelValue"]!==void 0&&T("update:modelValue",t),(l===!0||e["onUpdate:modelValue"]===void 0)&&(Xe(S.value,t),S.value=t))}function E(){a(()=>{r.value&&N({width:r.value.offsetWidth,height:r.value.offsetHeight})})}function N(t){if(d.value===void 0||g.value===null)return;const l=t[d.value.container],m=Math.min(g.value[d.value.scroll],Array.prototype.reduce.call(g.value.children,(O,k)=>O+(k[d.value.content]||0),0)),V=l>0&&m>l;y.value=V,V===!0&&o(ne),q.value=l<parseInt(e.breakpoint,10)}function Xe(t,l){const m=t!=null&&t!==""?h.find(O=>O.name.value===t):null,V=l!=null&&l!==""?h.find(O=>O.name.value===l):null;if(de===!0)de=!1;else if(m&&V){const O=m.tabIndicatorRef.value,k=V.tabIndicatorRef.value;Q!==null&&(clearTimeout(Q),Q=null),O.style.transition="none",O.style.transform="none",k.style.transition="none",k.style.transform="none";const w=O.getBoundingClientRect(),j=k.getBoundingClientRect();k.style.transform=e.vertical===!0?`translate3d(0,${w.top-j.top}px,0) scale3d(1,${j.height?w.height/j.height:1},1)`:`translate3d(${w.left-j.left}px,0,0) scale3d(${j.width?w.width/j.width:1},1,1)`,u(()=>{Q=setTimeout(()=>{Q=null,k.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",k.style.transform="none"},70)})}V&&y.value===!0&&oe(V.rootRef.value)}function oe(t){const{left:l,width:m,top:V,height:O}=g.value.getBoundingClientRect(),k=t.getBoundingClientRect();let w=e.vertical===!0?k.top-V:k.left-l;if(w<0){g.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(w),ne();return}w+=e.vertical===!0?k.height-O:k.width-m,w>0&&(g.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(w),ne())}function ne(){const t=g.value;if(t===null)return;const l=t.getBoundingClientRect(),m=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);D.value===!0?(P.value=Math.ceil(m+l.width)<t.scrollWidth-1,L.value=m>0):(P.value=m>0,L.value=e.vertical===!0?Math.ceil(m+l.height)<t.scrollHeight:Math.ceil(m+l.width)<t.scrollWidth)}function Ae(t){W!==null&&clearInterval(W),W=setInterval(()=>{et(t)===!0&&Z()},5)}function Be(){Ae(_.value===!0?Number.MAX_SAFE_INTEGER:0)}function Ve(){Ae(_.value===!0?0:Number.MAX_SAFE_INTEGER)}function Z(){W!==null&&(clearInterval(W),W=null)}function Je(t,l){const m=Array.prototype.filter.call(g.value.children,j=>j===l||j.matches&&j.matches(".q-tab.q-focusable")===!0),V=m.length;if(V===0)return;if(t===36)return oe(m[0]),m[0].focus(),!0;if(t===35)return oe(m[V-1]),m[V-1].focus(),!0;const O=t===(e.vertical===!0?38:37),k=t===(e.vertical===!0?40:39),w=O===!0?-1:k===!0?1:void 0;if(w!==void 0){const j=D.value===!0?-1:1,Y=m.indexOf(l)+w*j;return Y>=0&&Y<V&&(oe(m[Y]),m[Y].focus({preventScroll:!0})),!0}}const Ze=s(()=>_.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,l)=>{t.scrollLeft=-l}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,l)=>{t.scrollTop=l}}:{get:t=>t.scrollLeft,set:(t,l)=>{t.scrollLeft=l}});function et(t){const l=g.value,{get:m,set:V}=Ze.value;let O=!1,k=m(l);const w=t<k?-1:1;return k+=w*5,k<0?(O=!0,k=0):(w===-1&&k<=t||w===1&&k>=t)&&(O=!0,k=t),V(l,k),ne(),O}function Oe(t,l){for(const m in t)if(t[m]!==l[m])return!1;return!0}function tt(){let t=null,l={matchedLen:0,queryDiff:9999,hrefLen:0};const m=h.filter(w=>w.routeData!==void 0&&w.routeData.hasRouterLink.value===!0),{hash:V,query:O}=i.$route,k=Object.keys(O).length;for(const w of m){const j=w.routeData.exact.value===!0;if(w.routeData[j===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:Y,query:we,matched:rt,href:it}=w.routeData.resolvedLink.value,ye=Object.keys(we).length;if(j===!0){if(Y!==V||ye!==k||Oe(O,we)===!1)continue;t=w.name.value;break}if(Y!==""&&Y!==V||ye!==0&&Oe(we,O)===!1)continue;const ee={matchedLen:rt.length,queryDiff:k-ye,hrefLen:it.length-Y.length};if(ee.matchedLen>l.matchedLen){t=w.name.value,l=ee;continue}else if(ee.matchedLen!==l.matchedLen)continue;if(ee.queryDiff<l.queryDiff)t=w.name.value,l=ee;else if(ee.queryDiff!==l.queryDiff)continue;ee.hrefLen>l.hrefLen&&(t=w.name.value,l=ee)}if(t===null&&h.some(w=>w.routeData===void 0&&w.name.value===S.value)===!0){de=!1;return}K({name:t,setCurrent:!0})}function at(t){if(p(),U.value!==!0&&r.value!==null&&t.target&&typeof t.target.closest=="function"){const l=t.target.closest(".q-tab");l&&r.value.contains(l)===!0&&(U.value=!0,y.value===!0&&oe(l))}}function lt(){v(()=>{U.value=!1},30)}function re(){Le.avoidRouteWatcher===!1?f(tt):C()}function Ie(){if(R===void 0){const t=H(()=>i.$route.fullPath,re);R=()=>{t(),R=void 0}}}function ot(t){h.push(t),M.value++,E(),t.routeData===void 0||i.$route===void 0?f(()=>{if(y.value===!0){const l=S.value,m=l!=null&&l!==""?h.find(V=>V.name.value===l):null;m&&oe(m.rootRef.value)}}):(Ie(),t.routeData.hasRouterLink.value===!0&&re())}function nt(t){h.splice(h.indexOf(t),1),M.value--,E(),R!==void 0&&t.routeData!==void 0&&(h.every(l=>l.routeData===void 0)===!0&&R(),re())}const Le={currentModel:S,tabProps:le,hasFocus:U,hasActiveTab:J,registerTab:ot,unregisterTab:nt,verifyRouteModel:re,updateModel:K,onKbdNavigate:Je,avoidRouteWatcher:!1};xt(ze,Le);function Me(){Q!==null&&clearTimeout(Q),Z(),R!==void 0&&R()}let Fe,de;return We(Me),Ct(()=>{Fe=R!==void 0,Me()}),Pt(()=>{Fe===!0&&(Ie(),de=!0,re()),E()}),()=>I("div",{ref:r,class:B.value,role:"tablist",onFocusin:at,onFocusout:lt},[I(kt,{onResize:N}),I("div",{ref:g,class:c.value,onScroll:ne},St($.default)),I(me,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(P.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||n.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Be,onTouchstartPassive:Be,onMouseupPassive:Z,onMouseleavePassive:Z,onTouchendPassive:Z}),I(me,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(L.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||n.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Ve,onTouchstartPassive:Ve,onMouseupPassive:Z,onMouseleavePassive:Z,onTouchendPassive:Z})])}}),ea=be({name:"QPopupProxy",props:{...Tt,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:$,emit:T,attrs:i}){const{proxy:n}=he(),{$q:a}=n,o=x(!1),u=x(null),v=s(()=>parseInt(e.breakpoint,10)),{canShow:p}=qt({showing:o});function f(){return a.screen.width<v.value||a.screen.height<v.value?"dialog":"menu"}const C=x(f()),r=s(()=>C.value==="menu"?{maxHeight:"99vh"}:{});H(()=>f(),y=>{o.value!==!0&&(C.value=y)});function g(y){o.value=!0,T("show",y)}function S(y){o.value=!1,C.value=f(),T("hide",y)}return Object.assign(n,{show(y){p(y)===!0&&u.value.show(y)},hide(y){u.value.hide(y)},toggle(y){u.value.toggle(y)}}),$t(n,"currentComponent",()=>({type:C.value,ref:u.value})),()=>{const y={ref:u,...r.value,...i,onShow:g,onHide:S};let P;return C.value==="dialog"?P=At:(P=Bt,Object.assign(y,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),I(P,y,$.default)}}}),ta=ce({__name:"CategorySelect",props:{selectedCategory:{type:String,required:!0},categories:{type:Array,required:!0},color:{type:String,required:!0},text:{type:String,required:!0}},emits:["update:selectedCategory"],setup(e,{emit:$}){const T=e,i=$,n=s({get:()=>T.selectedCategory,set:o=>{i("update:selectedCategory",o)}}),a=o=>o?o.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" "):"";return(o,u)=>(F(),G("div",null,[A(Ye,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=v=>n.value=v),class:"q-mb-md gt-sm","active-color":e.color,"active-bg-color":e.color,"text-color":e.color,"inactive-color":e.color,align:"justify"},{default:X(()=>[A(ge,{name:"all",label:o.$t("products.categories.allProducts")},null,8,["label"]),(F(!0),G(ue,null,qe(e.categories,v=>(F(),te(ge,{key:v,name:v,label:a(v)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),A(Se,{modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=v=>n.value=v),options:["all",...e.categories],class:"q-my-md lt-md",color:e.color,"text-color":e.text,label:o.$t("products.selectCategory"),outlined:"","option-label":v=>v==="all"?o.$t("products.categories.allProducts"):a(v)},null,8,["modelValue","options","color","text-color","label","option-label"])]))}}),aa={class:"tw-flex tw-flex-col tw-gap-3 tw-w-full tw-mx-auto md:!tw-flex-row tw-rounded md:tw-px-1 md:tw-max-w-screen-2xl"},la={class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-2 md:tw-grid-cols-4 tw-gap-3 md:tw-flex md:tw-flex-grow md:tw-flex-row lg:tw-gap-4"},_e=ce({__name:"FiltersForm",props:{filters:{type:Object,required:!0},sortOptions:{type:Array,required:!0},sortOrderOptions:{type:Array,required:!0},color:{type:String,default:""},text:{type:String,default:""}},emits:["update:filters","apply-filters"],setup(e,{emit:$}){const T=e,i=$,n=$e(),a=x({...T.filters}),o=n.screen.lt.md,u=()=>{o||i("update:filters",a.value)},v=()=>{i("apply-filters")};return H(a,u,{deep:!0}),(p,f)=>(F(),G("div",aa,[A(fe,{modelValue:a.value.search,"onUpdate:modelValue":f[0]||(f[0]=C=>a.value.search=C),placeholder:"Search products",label:"Search",clearable:"",dense:"",class:"tw-w-full md:tw-max-w-md tw-mb-3 sm:tw-mr-3",onInput:u},null,8,["modelValue"]),z("div",la,[A(fe,{modelValue:a.value.minPrice,"onUpdate:modelValue":f[1]||(f[1]=C=>a.value.minPrice=C),modelModifiers:{number:!0},type:"number",label:"Min Price",placeholder:"Min Price",clearable:"",dense:"",class:"tw-w-full md:tw-w-1/4 md:tw-min-w-20 lg:tw-flex-1",onInput:u},null,8,["modelValue"]),A(fe,{modelValue:a.value.maxPrice,"onUpdate:modelValue":f[2]||(f[2]=C=>a.value.maxPrice=C),modelModifiers:{number:!0},type:"number",label:"Max Price",placeholder:"Max Price",clearable:"",dense:"",class:"tw-w-full md:tw-w-1/4 md:tw-min-w-20 lg:tw-flex-1",onInput:u},null,8,["modelValue"]),A(Se,{modelValue:a.value.sortBy,"onUpdate:modelValue":f[3]||(f[3]=C=>a.value.sortBy=C),options:e.sortOptions,label:"Sort By",dense:"",class:"tw-w-full md:tw-w-1/4 md:tw-min-w-20 lg:tw-flex-1",onInput:u},null,8,["modelValue","options"]),A(Se,{modelValue:a.value.sortOrder,"onUpdate:modelValue":f[4]||(f[4]=C=>a.value.sortOrder=C),options:e.sortOrderOptions,label:"Sort Order",dense:"",class:"tw-w-full md:tw-w-1/4 md:tw-min-w-20 lg:tw-flex-1",onInput:u},null,8,["modelValue","options"])]),A(ie,{type:"button",label:"Apply",color:e.color,"text-color":e.text,class:"lt-md tw-mt-3 md:tw-hidden",onClick:v},null,8,["color","text-color"])]))}}),oa={class:"gt-sm tw-w-full tw-flex tw-items-center tw-flex-grow tw-gap-3 tw-py-2 tw-px-1 !tw-max-w-screen-2xl tw-mx-auto !tw-text-[13px]"},na={class:"lt-md tw-flex tw-items-center tw-justify-between tw-px-0"},ra={key:0,class:"tw-px-4"},ia=ce({__name:"ProductTabs",props:{selectedCategory:{type:String,required:!0},scrollOffset:{type:Number,default:0},categories:{type:Array,required:!0},filters:{type:Object,required:!0},sortOptions:{type:Array,required:!0},sortOrderOptions:{type:Array,required:!0}},emits:["update:selectedCategory","update:filters"],setup(e,{emit:$}){const T=Te("scrollToTop"),i=e,n=$,a=$e(),o=x(!1),u=x(i.selectedCategory),v=x(!1),p=s(()=>({stickyBgColor:a.dark.isActive?"q-dark":"q-light-lighter",activeBgColor:(a.dark.isActive,"white"),activeTextColor:a.dark.isActive?"dark":"black",backgroundColor:a.dark.isActive?"white":"black",textColor:a.dark.isActive?"black":"white"})),f=s(()=>a.screen.lt.md),C=s(()=>a.dark.isActive),r=()=>{v.value=!v.value},g=()=>{console.log("Applying filters"),v.value=!1};H(()=>i.scrollOffset,P=>{o.value=P>0},{immediate:!0}),H(()=>i.selectedCategory,P=>{P!==u.value&&(u.value=P)}),H(()=>u.value,P=>{n("update:selectedCategory",P),T()});const S=P=>{n("update:filters",P)},y=P=>P.split(" ").map(L=>L.charAt(0).toUpperCase()+L.slice(1)).join(" ");return(P,L)=>(F(),G("div",{class:Ee(["sticky",{"is-sticky":o.value},o.value&&`tw-bg-${p.value.stickyBgColor}`])},[z("div",oa,[A(Ye,{modelValue:u.value,"onUpdate:modelValue":L[0]||(L[0]=q=>u.value=q),"indicator-color":"transparent",class:"tw-w-full","active-color":p.value.activeTextColor,"active-bg-color":p.value.activeBgColor,"text-color":p.value.backgroundColor,"inactive-color":p.value.textColor,align:"justify"},{default:X(()=>[A(ge,{name:"all",label:P.$t("products.categories.allProducts")},null,8,["label"]),(F(!0),G(ue,null,qe(e.categories,q=>(F(),te(ge,{key:q,name:q,label:y(q),class:"!tw-text-[13px]"},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),A(ie,{"text-color":p.value.activeTextColor,color:p.value.activeBgColor,icon:"tune",onClick:ke(r,["prevent"])},null,8,["text-color","color"])]),z("div",na,[A(ta,{"selected-category":u.value,"onUpdate:selectedCategory":L[1]||(L[1]=q=>u.value=q),categories:e.categories,color:p.value.backgroundColor,text:p.value.textColor,class:"tw-w-full tw-mr-3"},null,8,["selected-category","categories","color","text"]),A(ie,{"text-color":p.value.activeBgColor,color:p.value.activeTextColor,icon:"tune",class:"!tw-py-3",onClick:ke(r,["prevent"])},null,8,["text-color","color"])]),!f.value&&v.value?(F(),G("div",ra,[A(_e,{filters:e.filters,"sort-options":e.sortOptions,"sort-order-options":e.sortOrderOptions,"onUpdate:filters":S},null,8,["filters","sort-options","sort-order-options"])])):se("",!0),f.value&&v.value?(F(),te(ea,{key:1,"transition-show":"scale","transition-hide":"scale",class:Ee(["!tw-w-full tw-mr-3",C.value?"bg-dark text-light":"bg-light text-dark"])},{default:X(()=>[A(Ke,{class:"!tw-w-full !tw-mx-auto"},{default:X(()=>[A(He,null,{default:X(()=>[A(_e,{filters:e.filters,"sort-options":e.sortOptions,"sort-order-options":e.sortOrderOptions,text:p.value.activeBgColor,color:p.value.activeTextColor,"onUpdate:filters":S,onApplyFilters:g},null,8,["filters","sort-options","sort-order-options","text","color"])]),_:1})]),_:1})]),_:1},8,["class"])):se("",!0)],2))}}),sa=Vt(ia,[["__scopeId","data-v-762e5f46"]]),ua={class:"tw-text-3xl tw-font-serif tw-mx-auto tw-my-4 2xl:tw-text-center 2xl:tw-mt-0"},ca={class:"tw-container tw-mx-auto tw-mb-8 tw-mt-4 grid justify-center"},da={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 xl:tw-grid-cols-4 tw-gap-4"},va="products_categories",Ue=10,pa=ce({__name:"ProductsPage",props:{scrollOffset:{type:Number,required:!0}},setup(e){const $=Te("scrollToTop"),T=Ot(),i=$e(),n=It(),a=Et(),{t:o}=Lt(),u=x([]),v=x(1),p=x("all"),f=x([]),C=x(!0),r=x({search:"",minPrice:null,maxPrice:null,sortBy:"id",sortOrder:"asc"}),g=x({total:0,page:1,limit:10,lastPage:1}),S=[{label:"ID",value:"id"},{label:"Name",value:"name"},{label:"Price",value:"price"}],y=[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],P=s(()=>Math.ceil(g.value.total/g.value.limit)),L=s(()=>u.value),q=s(()=>({activeTextColor:i.dark.isActive?"dark":"black",backgroundColor:i.dark.isActive?"white":"black",textColor:i.dark.isActive?"black":"white",paginationColor:i.dark.isActive?"light":"dark",paginationTextColor:i.dark.isActive?"white":"black",paginationActiveColor:i.dark.isActive?"white":"dark",paginationActiveTextColor:i.dark.isActive?"black":"white"}));H(r,()=>{v.value=1,J(p.value)},{deep:!0});const h=b=>{T.addItem({...b,quantity:1}),i.notify({color:"positive",position:"top",timeout:1e3,message:o("products.itemAdded"),icon:"check_circle"})},M=b=>{n.push(`${je}/${b.id}`)},U=b=>{v.value=b,$(),J(p.value)},Q=async b=>{p.value=b,v.value=1,await J(b)},W=b=>{r.value=b},R=async()=>{try{if(C.value=!0,a.isCacheValid(va)){const B=a.getCategoryCache();if(B){f.value=B.categories;return}}const b=await Qe.get(`https://e-comm-api-8eba0f6c8782.herokuapp.com/api${Rt}`);if(b.status!==200)throw new Error("Failed to fetch categories");f.value=b.data,a.setCategoryCache(f.value)}catch(b){console.error("Error fetching categories:",b)}finally{C.value=!1}},le=b=>`products_${b.category}_${b.page}_${b.limit}_${b.search}_${b.minPrice}_${b.maxPrice}_${b.sortBy}_${b.sortOrder}`,J=async(b="all")=>{i.loading.show();try{const B={category:b,page:v.value,limit:Ue,search:r.value.search,minPrice:r.value.minPrice,maxPrice:r.value.maxPrice,sortBy:r.value.sortBy,sortOrder:r.value.sortOrder},c=le(B),d=a.getCache(c);if(d?.meta&&d?.data){console.log("Using cached products"),u.value=d.data,g.value=d.meta,i.loading.hide();return}const D=new URLSearchParams({page:v.value.toString(),limit:Ue.toString(),search:r.value.search,sortBy:r.value.sortBy,sortOrder:r.value.sortOrder});r.value.minPrice!==null&&D.append("minPrice",r.value.minPrice.toString()),r.value.maxPrice!==null&&D.append("maxPrice",r.value.maxPrice.toString());const _=`https://e-comm-api-8eba0f6c8782.herokuapp.com/api${je}${b!=="all"?`${Mt}/${b}`:""}?${D}`;console.log("Fetching products from URL:",_),console.log("Fetching products with params:",B,D);const K=await Qe.get(_);if(K.status!==200)throw new Error("Failed to fetch products");if(K&&K.data){const E=K.data;console.log("Fetched products:",E),u.value=E.data,g.value=E.meta,a.setCache(E,c)}}catch(B){console.error("Error fetching products:",B),i.notify({color:"negative",message:o("errors.fetchProducts"),timeout:1e3,icon:"error",position:"top"})}finally{i.loading.hide()}};return Ge(async()=>{await Promise.all([R(),J()])}),(b,B)=>(F(),te(Dt,{padding:"",class:"!tw-pb-16 !tw-pt-4 !tw-px-3"},{default:X(()=>[z("h4",ua,ae(b.$t("products.title")),1),A(sa,{"selected-category":p.value,categories:f.value,"scroll-offset":e.scrollOffset,filters:r.value,"sort-options":S,"sort-order-options":y,"onUpdate:selectedCategory":Q,"onUpdate:filters":W},null,8,["selected-category","categories","scroll-offset","filters"]),A(Ft),z("div",ca,[z("div",da,[(F(!0),G(ue,null,qe(L.value,c=>(F(),te(zt,{key:c.id,product:c,color:q.value.backgroundColor,text:q.value.textColor,onAddToCart:h,onViewProduct:M},null,8,["product","color","text"]))),128))])]),g.value.total>0?(F(),te(Qt,{key:0,modelValue:v.value,"onUpdate:modelValue":[B[0]||(B[0]=c=>v.value=c),U],max:P.value,"boundary-numbers":"",class:"tw-py-8 tw-flex tw-justify-center tw-items-center !tw-gap-8",color:q.value.paginationColor,"text-color":q.value.paginationTextColor,"active-color":q.value.paginationActiveColor,"active-text-color":q.value.paginationActiveTextColor},null,8,["modelValue","max","color","text-color","active-color","active-text-color"])):se("",!0)]),_:1}))}});export{pa as default};
