import{p as pe,$ as lt,aC as ot,a0 as nt,c as d,x as C,aD as rt,S as K,aE as Oe,aF as it,aG as De,v as B,ad as de,A as Pe,k as Ee,d as ue,o as L,a as te,w as ne,ai as Ce,h as Y,t as ee,e as A,Q as ut,f as W,j as st,F as ie,g as be,ac as ct,ae as dt,l as vt,X as ke,Y as he,aH as je,q as Ne,a7 as Qe,z as ft,R as mt,aI as gt,L as bt,y as ve,a2 as ht,aJ as we,P as Me,aK as wt,a1 as yt,a5 as Ct,a6 as xt,aL as pt,V as Pt,r as Se,aM as xe,ak as Ue,n as kt,_ as St,al as Tt,am as qt,ab as $t,aN as Re,aO as Bt,ap as At,aP as Vt}from"./index-DfxAW1dS.js";import{Q as It}from"./QPage-Dku7Jvto.js";import{u as Lt}from"./products-4fsMwggY.js";import{Q as Ot}from"./QImg-B51yunjy.js";import{f as ye}from"./currency-Bk7J4wcc.js";import{api as _e}from"./axios-eTy1plTX.js";import"./rates-73YNyK4P.js";function ce(e,P){return[!0,!1].includes(e)?e:P}const Mt=pe({name:"QPagination",props:{...lt,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||ot.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:P}){const{proxy:x}=Pe(),{$q:v}=x,a=nt(e,v),r=d(()=>parseInt(e.min,10)),i=d(()=>parseInt(e.max,10)),c=d(()=>parseInt(e.maxPages,10)),o=d(()=>k.value+" / "+i.value),M=d(()=>ce(e.boundaryLinks,e.input)),w=d(()=>ce(e.boundaryNumbers,!e.input)),q=d(()=>ce(e.directionLinks,e.input)),n=d(()=>ce(e.ellipses,!e.input)),b=C(null),k=d({get:()=>e.modelValue,set:u=>{if(u=parseInt(u,10),e.disable||isNaN(u))return;const s=rt(u,r.value,i.value);e.modelValue!==s&&P("update:modelValue",s)}});K(()=>`${r.value}|${i.value}`,()=>{k.value=e.modelValue});const j=d(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),Q=d(()=>e.gutter in Oe?`${Oe[e.gutter]}px`:e.gutter||null),H=d(()=>Q.value!==null?`--q-pagination-gutter-parent:-${Q.value};--q-pagination-gutter-child:${Q.value}`:null),V=d(()=>{const u=[e.iconFirst||v.iconSet.pagination.first,e.iconPrev||v.iconSet.pagination.prev,e.iconNext||v.iconSet.pagination.next,e.iconLast||v.iconSet.pagination.last];return v.lang.rtl===!0?u.reverse():u}),g=d(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),$=d(()=>it(e,"flat")),F=d(()=>({[$.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),R=d(()=>{const u={[$.value]:!1};return e.activeDesign!==""&&(u[e.activeDesign]=!0),u}),z=d(()=>({...R.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),I=d(()=>{let u=Math.max(c.value,1+(n.value?2:0)+(w.value?2:0));const s={pgFrom:r.value,pgTo:i.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(i.value).length)}em`}};return c.value&&u<i.value-r.value+1&&(u=1+Math.floor(u/2)*2,s.pgFrom=Math.max(r.value,Math.min(i.value-u+1,e.modelValue-Math.floor(u/2))),s.pgTo=Math.min(i.value,s.pgFrom+u-1),w.value&&(s.boundaryStart=!0,s.pgFrom++),n.value&&s.pgFrom>r.value+(w.value?1:0)&&(s.ellipsesStart=!0,s.pgFrom++),w.value&&(s.boundaryEnd=!0,s.pgTo--),n.value&&s.pgTo<i.value-(w.value?1:0)&&(s.ellipsesEnd=!0,s.pgTo--)),s});function ae(u){k.value=u}function X(u){k.value=k.value+u}const m=d(()=>{function u(){k.value=b.value,b.value=null}return{"onUpdate:modelValue":s=>{b.value=s},onKeyup:s=>{De(s,13)===!0&&u()},onBlur:u}});function p(u,s,N){const D={"aria-label":s,"aria-current":"false",...F.value,...u};return N===!0&&Object.assign(D,{"aria-current":"true",...z.value}),s!==void 0&&(e.toFn!==void 0?D.to=e.toFn(s):D.onClick=()=>{ae(s)}),B(Ee,D)}return Object.assign(x,{set:ae,setByOffset:X}),()=>{const u=[],s=[];let N;if(M.value===!0&&(u.push(p({key:"bls",disable:e.disable||e.modelValue<=r.value,icon:V.value[0]},r.value)),s.unshift(p({key:"ble",disable:e.disable||e.modelValue>=i.value,icon:V.value[3]},i.value))),q.value===!0&&(u.push(p({key:"bdp",disable:e.disable||e.modelValue<=r.value,icon:V.value[1]},e.modelValue-1)),s.unshift(p({key:"bdn",disable:e.disable||e.modelValue>=i.value,icon:V.value[2]},e.modelValue+1))),e.input!==!0){N=[];const{pgFrom:D,pgTo:U,marginalStyle:_}=I.value;if(I.value.boundaryStart===!0){const E=r.value===e.modelValue;u.push(p({key:"bns",style:_,disable:e.disable,label:r.value},r.value,E))}if(I.value.boundaryEnd===!0){const E=i.value===e.modelValue;s.unshift(p({key:"bne",style:_,disable:e.disable,label:i.value},i.value,E))}I.value.ellipsesStart===!0&&u.push(p({key:"bes",style:_,disable:e.disable,label:"…",ripple:!1},D-1)),I.value.ellipsesEnd===!0&&s.unshift(p({key:"bee",style:_,disable:e.disable,label:"…",ripple:!1},U+1));for(let E=D;E<=U;E++)N.push(p({key:`bpg${E}`,style:_,disable:e.disable,label:E},E,E===e.modelValue))}return B("div",{class:j.value,...g.value},[B("div",{class:"q-pagination__content row no-wrap items-center",style:H.value},[...u,e.input===!0?B(de,{class:"inline",style:{width:`${o.value.length/1.5}em`},type:"number",dense:!0,value:b.value,disable:e.disable,dark:a.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:o.value,min:r.value,max:i.value,...m.value}):B("div",{class:"q-pagination__middle row justify-center"},N),...s])])}}}),Rt={class:"text-bold"},_t={class:"text-caption"},Ft={class:"q-mt-sm text-bold price-text"},Dt={class:"text-grey"},Et={class:"text-positive q-ml-sm"},jt=ue({__name:"ProductCard",props:{product:{type:Object,required:!0},color:{type:String,default:"primary"},text:{type:String,default:"white"}},emits:["add-to-cart","view-product"],setup(e,{emit:P}){const x="https://e-comm-api-8eba0f6c8782.herokuapp.com/api",v=e,a=P,r=C(null),i=C(null),c=n=>{a("add-to-cart",n)},o=n=>{a("view-product",n)},M=n=>`${x}${n}`,w=()=>{r.value&&i.value&&(i.value.style.height=`${r.value.clientHeight}px`)},q=n=>{const b=n.match(/[^.!?]*[.!?]/);return b?b[0]:n};return K(()=>v.product.image,()=>{w()}),(n,b)=>(L(),te(vt,{bordered:"",class:"product tw-w-full tw-max-w-72 tw-mx-auto !tw-bg-primary sm:tw-mx-none tw-transition tw-duration-200 tw-ease-in-out hover:tw-cursor-pointer hover:tw-scale-105 tw-shadow-none",onClick:b[1]||(b[1]=k=>o(e.product))},{default:ne(()=>[e.product.image?(L(),te(Ot,{key:0,ref_key:"imageSection",ref:r,src:M(e.product.image),alt:e.product.name,fit:"contain",class:"sm:tw-h-2/3 tw-w-full tw-max-h-1.5"},null,8,["src","alt"])):Ce("",!0),e.product.image?Ce("",!0):(L(),Y("div",{key:1,ref_key:"noImageSection",ref:i,class:"tw-p-1.5 tw-flex tw-items-center tw-justify-center tw-min-h-64 tw-w-full tw-max-h-1.5"},ee(n.$t("products.noImage")),513)),A(ut,{class:"q-px-sm !tw-pb-0"},{default:ne(()=>[W("div",Rt,ee(e.product.name||e.product.title),1),W("div",_t,ee(q(e.product.description)),1)]),_:1}),A(st,{class:"row justify-between items-center !tw-pt-0"},{default:ne(()=>[W("div",Ft,[e.product.discount?(L(),Y(ie,{key:0},[W("span",Dt,ee(be(ye)(e.product.price)),1),W("span",Et,ee(be(ye)(e.product.discountedPrice||e.product.price)),1)],64)):(L(),Y(ie,{key:1},[ct(ee(be(ye)(e.product.price)),1)],64))]),A(Ee,{color:e.color,"text-color":e.text,label:n.$t("products.addToCart"),class:"full-width q-mt-md !tw-py-4",onClick:b[0]||(b[0]=dt(k=>c(e.product),["stop"]))},null,8,["color","text-color","label"])]),_:1})]),_:1}))}});let Nt=0;const Qt=["click","keydown"],Ut={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Nt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Kt(e,P,x,v){const a=ke(je,he);if(a===he)return console.error("QTab/QRouteTab component needs to be child of QTabs"),he;const{proxy:r}=Pe(),i=C(null),c=C(null),o=C(null),M=d(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),w=d(()=>a.currentModel.value===e.name),q=d(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(w.value===!0?" q-tab--active"+(a.tabProps.value.activeClass?" "+a.tabProps.value.activeClass:"")+(a.tabProps.value.activeColor?` text-${a.tabProps.value.activeColor}`:"")+(a.tabProps.value.activeBgColor?` bg-${a.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&a.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||a.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),n=d(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(a.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),b=d(()=>e.disable===!0||a.hasFocus.value===!0||w.value===!1&&a.hasActiveTab.value===!0?-1:e.tabindex||0);function k(g,$){if($!==!0&&i.value!==null&&i.value.focus(),e.disable!==!0){a.updateModel({name:e.name}),x("click",g);return}}function j(g){De(g,[13,32])?k(g,!0):gt(g)!==!0&&g.keyCode>=35&&g.keyCode<=40&&g.altKey!==!0&&g.metaKey!==!0&&a.onKbdNavigate(g.keyCode,r.$el)===!0&&bt(g),x("keydown",g)}function Q(){const g=a.tabProps.value.narrowIndicator,$=[],F=B("div",{ref:o,class:["q-tab__indicator",a.tabProps.value.indicatorClass]});e.icon!==void 0&&$.push(B(ve,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&$.push(B("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&$.push(e.alertIcon!==void 0?B(ve,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):B("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),g===!0&&$.push(F);const R=[B("div",{class:"q-focus-helper",tabindex:-1,ref:i}),B("div",{class:n.value},ht(P.default,$))];return g===!1&&R.push(F),R}const H={name:d(()=>e.name),rootRef:c,tabIndicatorRef:o,routeData:v};Ne(()=>{a.unregisterTab(H)}),Qe(()=>{a.registerTab(H)});function V(g,$){const F={ref:c,class:q.value,tabindex:b.value,role:"tab","aria-selected":w.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:k,onKeydown:j,...$};return ft(B(g,F,Q()),[[mt,M.value]])}return{renderTab:V,$tabs:a}}const fe=pe({name:"QTab",props:Ut,emits:Qt,setup(e,{slots:P,emit:x}){const{renderTab:v}=Kt(e,P,x);return()=>v("div")}});function Ht(e,P,x){const v=x===!0?["left","right"]:["top","bottom"];return`absolute-${P===!0?v[0]:v[1]}${e?` text-${e}`:""}`}const zt=["left","center","right","justify"],Ke=pe({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>zt.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:P,emit:x}){const{proxy:v}=Pe(),{$q:a}=v,{registerTick:r}=we(),{registerTick:i}=we(),{registerTick:c}=we(),{registerTimeout:o,removeTimeout:M}=Me(),{registerTimeout:w,removeTimeout:q}=Me(),n=C(null),b=C(null),k=C(e.modelValue),j=C(!1),Q=C(!0),H=C(!1),V=C(!1),g=[],$=C(0),F=C(!1);let R=null,z=null,I;const ae=d(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Ht(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),X=d(()=>{const t=$.value,l=k.value;for(let f=0;f<t;f++)if(g[f].name.value===l)return!0;return!1}),m=d(()=>`q-tabs__content--align-${j.value===!0?"left":V.value===!0?"justify":e.align}`),p=d(()=>`q-tabs row no-wrap items-center q-tabs--${j.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),u=d(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+m.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),s=d(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),N=d(()=>e.vertical!==!0&&a.lang.rtl===!0),D=d(()=>wt===!1&&N.value===!0);K(N,oe),K(()=>e.modelValue,t=>{U({name:t,setCurrent:!0,skipEmit:!0})}),K(()=>e.outsideArrows,_);function U({name:t,setCurrent:l,skipEmit:f}){k.value!==t&&(f!==!0&&e["onUpdate:modelValue"]!==void 0&&x("update:modelValue",t),(l===!0||e["onUpdate:modelValue"]===void 0)&&(He(k.value,t),k.value=t))}function _(){r(()=>{n.value&&E({width:n.value.offsetWidth,height:n.value.offsetHeight})})}function E(t){if(s.value===void 0||b.value===null)return;const l=t[s.value.container],f=Math.min(b.value[s.value.scroll],Array.prototype.reduce.call(b.value.children,(T,y)=>T+(y[s.value.content]||0),0)),S=l>0&&f>l;j.value=S,S===!0&&i(oe),V.value=l<parseInt(e.breakpoint,10)}function He(t,l){const f=t!=null&&t!==""?g.find(T=>T.name.value===t):null,S=l!=null&&l!==""?g.find(T=>T.name.value===l):null;if(se===!0)se=!1;else if(f&&S){const T=f.tabIndicatorRef.value,y=S.tabIndicatorRef.value;R!==null&&(clearTimeout(R),R=null),T.style.transition="none",T.style.transform="none",y.style.transition="none",y.style.transform="none";const h=T.getBoundingClientRect(),O=y.getBoundingClientRect();y.style.transform=e.vertical===!0?`translate3d(0,${h.top-O.top}px,0) scale3d(1,${O.height?h.height/O.height:1},1)`:`translate3d(${h.left-O.left}px,0,0) scale3d(${O.width?h.width/O.width:1},1,1)`,c(()=>{R=setTimeout(()=>{R=null,y.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",y.style.transform="none"},70)})}S&&j.value===!0&&le(S.rootRef.value)}function le(t){const{left:l,width:f,top:S,height:T}=b.value.getBoundingClientRect(),y=t.getBoundingClientRect();let h=e.vertical===!0?y.top-S:y.left-l;if(h<0){b.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(h),oe();return}h+=e.vertical===!0?y.height-T:y.width-f,h>0&&(b.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(h),oe())}function oe(){const t=b.value;if(t===null)return;const l=t.getBoundingClientRect(),f=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);N.value===!0?(Q.value=Math.ceil(f+l.width)<t.scrollWidth-1,H.value=f>0):(Q.value=f>0,H.value=e.vertical===!0?Math.ceil(f+l.height)<t.scrollHeight:Math.ceil(f+l.width)<t.scrollWidth)}function Te(t){z!==null&&clearInterval(z),z=setInterval(()=>{Ge(t)===!0&&J()},5)}function qe(){Te(D.value===!0?Number.MAX_SAFE_INTEGER:0)}function $e(){Te(D.value===!0?0:Number.MAX_SAFE_INTEGER)}function J(){z!==null&&(clearInterval(z),z=null)}function ze(t,l){const f=Array.prototype.filter.call(b.value.children,O=>O===l||O.matches&&O.matches(".q-tab.q-focusable")===!0),S=f.length;if(S===0)return;if(t===36)return le(f[0]),f[0].focus(),!0;if(t===35)return le(f[S-1]),f[S-1].focus(),!0;const T=t===(e.vertical===!0?38:37),y=t===(e.vertical===!0?40:39),h=T===!0?-1:y===!0?1:void 0;if(h!==void 0){const O=N.value===!0?-1:1,G=f.indexOf(l)+h*O;return G>=0&&G<S&&(le(f[G]),f[G].focus({preventScroll:!0})),!0}}const We=d(()=>D.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,l)=>{t.scrollLeft=-l}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,l)=>{t.scrollTop=l}}:{get:t=>t.scrollLeft,set:(t,l)=>{t.scrollLeft=l}});function Ge(t){const l=b.value,{get:f,set:S}=We.value;let T=!1,y=f(l);const h=t<y?-1:1;return y+=h*5,y<0?(T=!0,y=0):(h===-1&&y<=t||h===1&&y>=t)&&(T=!0,y=t),S(l,y),oe(),T}function Be(t,l){for(const f in t)if(t[f]!==l[f])return!1;return!0}function Ye(){let t=null,l={matchedLen:0,queryDiff:9999,hrefLen:0};const f=g.filter(h=>h.routeData!==void 0&&h.routeData.hasRouterLink.value===!0),{hash:S,query:T}=v.$route,y=Object.keys(T).length;for(const h of f){const O=h.routeData.exact.value===!0;if(h.routeData[O===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:G,query:me,matched:tt,href:at}=h.routeData.resolvedLink.value,ge=Object.keys(me).length;if(O===!0){if(G!==S||ge!==y||Be(T,me)===!1)continue;t=h.name.value;break}if(G!==""&&G!==S||ge!==0&&Be(me,T)===!1)continue;const Z={matchedLen:tt.length,queryDiff:y-ge,hrefLen:at.length-G.length};if(Z.matchedLen>l.matchedLen){t=h.name.value,l=Z;continue}else if(Z.matchedLen!==l.matchedLen)continue;if(Z.queryDiff<l.queryDiff)t=h.name.value,l=Z;else if(Z.queryDiff!==l.queryDiff)continue;Z.hrefLen>l.hrefLen&&(t=h.name.value,l=Z)}if(t===null&&g.some(h=>h.routeData===void 0&&h.name.value===k.value)===!0){se=!1;return}U({name:t,setCurrent:!0})}function Xe(t){if(M(),F.value!==!0&&n.value!==null&&t.target&&typeof t.target.closest=="function"){const l=t.target.closest(".q-tab");l&&n.value.contains(l)===!0&&(F.value=!0,j.value===!0&&le(l))}}function Je(){o(()=>{F.value=!1},30)}function re(){Ve.avoidRouteWatcher===!1?w(Ye):q()}function Ae(){if(I===void 0){const t=K(()=>v.$route.fullPath,re);I=()=>{t(),I=void 0}}}function Ze(t){g.push(t),$.value++,_(),t.routeData===void 0||v.$route===void 0?w(()=>{if(j.value===!0){const l=k.value,f=l!=null&&l!==""?g.find(S=>S.name.value===l):null;f&&le(f.rootRef.value)}}):(Ae(),t.routeData.hasRouterLink.value===!0&&re())}function et(t){g.splice(g.indexOf(t),1),$.value--,_(),I!==void 0&&t.routeData!==void 0&&(g.every(l=>l.routeData===void 0)===!0&&I(),re())}const Ve={currentModel:k,tabProps:ae,hasFocus:F,hasActiveTab:X,registerTab:Ze,unregisterTab:et,verifyRouteModel:re,updateModel:U,onKbdNavigate:ze,avoidRouteWatcher:!1};yt(je,Ve);function Ie(){R!==null&&clearTimeout(R),J(),I!==void 0&&I()}let Le,se;return Ne(Ie),Ct(()=>{Le=I!==void 0,Ie()}),xt(()=>{Le===!0&&(Ae(),se=!0,re()),_()}),()=>B("div",{ref:n,class:p.value,role:"tablist",onFocusin:Xe,onFocusout:Je},[B(pt,{onResize:E}),B("div",{ref:b,class:u.value,onScroll:oe},Pt(P.default)),B(ve,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(Q.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||a.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:qe,onTouchstartPassive:qe,onMouseupPassive:J,onMouseleavePassive:J,onTouchendPassive:J}),B(ve,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(H.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||a.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:$e,onTouchstartPassive:$e,onMouseupPassive:J,onMouseleavePassive:J,onTouchendPassive:J})])}}),Wt=ue({__name:"CategorySelect",props:{selectedCategory:{type:String,required:!0},categories:{type:Array,required:!0},color:{type:String,required:!0},text:{type:String,required:!0}},emits:["update:selectedCategory"],setup(e,{emit:P}){const x=e,v=P,a=d({get:()=>x.selectedCategory,set:i=>{v("update:selectedCategory",i)}}),r=i=>i?i.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" "):"";return(i,c)=>(L(),Y("div",null,[A(Ke,{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=o=>a.value=o),class:"q-mb-md gt-sm","active-color":e.color,"active-bg-color":e.color,"text-color":e.color,"inactive-color":e.color,align:"justify"},{default:ne(()=>[A(fe,{name:"all",label:i.$t("products.categories.allProducts")},null,8,["label"]),(L(!0),Y(ie,null,Se(e.categories,o=>(L(),te(fe,{key:o,name:o,label:r(o)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),A(xe,{modelValue:a.value,"onUpdate:modelValue":c[1]||(c[1]=o=>a.value=o),options:["all",...e.categories],class:"q-my-md lt-md",color:e.color,"text-color":e.text,label:i.$t("products.selectCategory"),outlined:"","option-label":o=>o==="all"?i.$t("products.categories.allProducts"):r(o)},null,8,["modelValue","options","color","text-color","label","option-label"])]))}}),Gt=ue({__name:"ProductTabs",props:{selectedCategory:{type:String,required:!0},scrollOffset:{type:Number,default:0},categories:{type:Array,required:!0}},emits:["update:selectedCategory"],setup(e,{emit:P}){const x=e,v=ke("scrollToTop"),a=P,r=Ue(),i=C(!1),c=C(x.selectedCategory),o=d(()=>({stickyBgColor:r.dark.isActive?"q-dark":"q-light-lighter",activeBgColor:(r.dark.isActive,"white"),activeTextColor:r.dark.isActive?"dark":"black",backgroundColor:r.dark.isActive?"white":"black",textColor:r.dark.isActive?"black":"white"}));K(()=>x.scrollOffset,w=>{i.value=w>0},{immediate:!0}),K(()=>x.selectedCategory,w=>{w!==c.value&&(c.value=w)}),K(()=>c.value,w=>{a("update:selectedCategory",w),v()});const M=w=>w.split(" ").map(q=>q.charAt(0).toUpperCase()+q.slice(1)).join(" ");return(w,q)=>(L(),Y("div",{class:kt(["sticky",{"is-sticky":i.value},i.value&&`tw-bg-${o.value.stickyBgColor}`])},[A(Ke,{modelValue:c.value,"onUpdate:modelValue":q[0]||(q[0]=n=>c.value=n),"indicator-color":"transparent",class:"gt-sm !tw-max-w-screen-xl tw-mx-auto","active-color":o.value.activeTextColor,"active-bg-color":o.value.activeBgColor,"text-color":o.value.backgroundColor,"inactive-color":o.value.textColor,align:"justify"},{default:ne(()=>[A(fe,{name:"all",label:w.$t("products.categories.allProducts")},null,8,["label"]),(L(!0),Y(ie,null,Se(e.categories,n=>(L(),te(fe,{key:n,name:n,label:M(n)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),A(Wt,{"selected-category":c.value,"onUpdate:selectedCategory":q[1]||(q[1]=n=>c.value=n),categories:e.categories,color:o.value.backgroundColor,text:o.value.textColor,class:"q-my-md lt-md"},null,8,["selected-category","categories","color","text"])],2))}}),Yt=St(Gt,[["__scopeId","data-v-8ab3e7da"]]),Xt={class:"tw-container !tw-shadow-none tw-mx-0 md:tw-mx-auto tw-mb-4"},Jt={class:"tw-flex tw-flex-col tw-gap-3 md:!tw-flex-row tw-rounded tw-mb-4"},Zt={class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-2 md:tw-grid-cols-4 tw-gap-3 md:tw-flex md:tw-flex-grow md:tw-flex-row lg:tw-gap-4"},ea=ue({__name:"ProductFilters",props:{initialFilters:{type:Object,required:!0},sortOptions:{type:Array,required:!0},sortOrderOptions:{type:Array,required:!0}},emits:["update:filters"],setup(e,{emit:P}){const x=e,v=P,a=C({...x.initialFilters}),r=()=>{v("update:filters",{...a.value,sortBy:a.value.sortBy.value,sortOrder:a.value.sortOrder.value})};return K(a,r,{deep:!0}),(i,c)=>(L(),Y("div",Xt,[W("div",Jt,[A(de,{modelValue:a.value.search,"onUpdate:modelValue":c[0]||(c[0]=o=>a.value.search=o),placeholder:"Search products",label:"Search",class:"tw-w-full md:tw-max-w-md tw-mb-3 sm:tw-mr-3",onInput:r},null,8,["modelValue"]),W("div",Zt,[A(de,{modelValue:a.value.minPrice,"onUpdate:modelValue":c[1]||(c[1]=o=>a.value.minPrice=o),modelModifiers:{number:!0},type:"number",label:"Min Price",placeholder:"Min Price",class:"tw-w-full md:tw-w-1/4 md:tw-min-w-20 lg:tw-flex-1",onInput:r},null,8,["modelValue"]),A(de,{modelValue:a.value.maxPrice,"onUpdate:modelValue":c[2]||(c[2]=o=>a.value.maxPrice=o),modelModifiers:{number:!0},type:"number",label:"Max Price",placeholder:"Max Price",class:"tw-w-full md:tw-w-1/4 md:tw-min-w-20 lg:tw-flex-1",onInput:r},null,8,["modelValue"]),A(xe,{modelValue:a.value.sortBy,"onUpdate:modelValue":c[3]||(c[3]=o=>a.value.sortBy=o),options:e.sortOptions,label:"Sort By",class:"tw-w-full md:tw-w-1/4 md:tw-min-w-20 lg:tw-flex-1",onInput:r},null,8,["modelValue","options"]),A(xe,{modelValue:a.value.sortOrder,"onUpdate:modelValue":c[4]||(c[4]=o=>a.value.sortOrder=o),options:e.sortOrderOptions,label:"Sort Order",class:"tw-w-full md:tw-w-1/4 md:tw-min-w-20 lg:tw-flex-1",onInput:r},null,8,["modelValue","options"])])])]))}}),ta={class:"tw-font-serif tw-my-4"},aa={class:"tw-container tw-mx-auto tw-mb-8 grid justify-center"},la={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 xl:tw-grid-cols-4 tw-gap-4"},oa="products_categories",Fe=10,va=ue({__name:"ProductsPage",props:{scrollOffset:{type:Number,required:!0}},setup(e){const P=ke("scrollToTop"),x=Tt(),v=Ue(),a=qt(),r=Lt(),{t:i}=$t(),c=C([]),o=C(1),M=C("all"),w=C([]),q=C(!0),n=C({search:"",minPrice:0,maxPrice:999999,sortBy:"id",sortOrder:"asc"}),b=C({total:0,page:1,limit:10,lastPage:1}),k=[{label:"ID",value:"id"},{label:"Name",value:"name"},{label:"Price",value:"price"}],j=[{label:"Ascending",value:"asc"},{label:"Descending",value:"desc"}],Q=d(()=>Math.ceil(b.value.total/b.value.limit)),H=d(()=>c.value),V=d(()=>({activeTextColor:v.dark.isActive?"dark":"black",backgroundColor:v.dark.isActive?"white":"black",textColor:v.dark.isActive?"black":"white",paginationColor:v.dark.isActive?"light":"dark",paginationTextColor:v.dark.isActive?"white":"black",paginationActiveColor:v.dark.isActive?"white":"dark",paginationActiveTextColor:v.dark.isActive?"black":"white"}));K(n,()=>{o.value=1,X(M.value)},{deep:!0});const g=m=>{x.addItem({...m,quantity:1}),v.notify({color:"positive",position:"top",timeout:1e3,message:i("products.itemAdded"),icon:"check_circle"})},$=m=>{a.push(`${Re}/${m.id}`)},F=m=>{o.value=m,P(),X(M.value)},R=async m=>{M.value=m,o.value=1,await X(m)},z=m=>{n.value=m},I=async()=>{try{if(q.value=!0,r.isCacheValid(oa)){const p=r.getCategoryCache();if(p){w.value=p.categories;return}}const m=await _e.get(`https://e-comm-api-8eba0f6c8782.herokuapp.com/api${Vt}`);if(m.status!==200)throw new Error("Failed to fetch categories");w.value=m.data,r.setCategoryCache(w.value)}catch(m){console.error("Error fetching categories:",m)}finally{q.value=!1}},ae=m=>`products_${m.category}_${m.page}_${m.limit}_${m.search}_${m.minPrice}_${m.maxPrice}_${m.sortBy}_${m.sortOrder}`,X=async(m="all")=>{v.loading.show();try{const p={category:m,page:o.value,limit:Fe,search:n.value.search,minPrice:n.value.minPrice,maxPrice:n.value.maxPrice,sortBy:n.value.sortBy,sortOrder:n.value.sortOrder},u=ae(p),s=r.getCache(u);if(s?.meta&&s?.data){c.value=s.data,b.value=s.meta,v.loading.hide();return}const N=new URLSearchParams({page:o.value.toString(),limit:Fe.toString(),search:n.value.search,minPrice:n.value.minPrice.toString(),maxPrice:n.value.maxPrice.toString(),sortBy:n.value.sortBy,sortOrder:n.value.sortOrder}),D=`https://e-comm-api-8eba0f6c8782.herokuapp.com/api${Re}${m!=="all"?`${Bt}/${m}`:""}?${N}`,U=await _e.get(D,{params:p});if(U.status!==200)throw new Error("Failed to fetch products");if(U&&U.data){const _=U.data;c.value=_.data,b.value=_.meta,r.setCache(_,u)}}catch(p){console.error("Error fetching products:",p),v.notify({color:"negative",message:i("errors.fetchProducts"),timeout:1e3,icon:"error",position:"top"})}finally{v.loading.hide()}};return Qe(async()=>{await Promise.all([I(),X()])}),(m,p)=>(L(),te(It,{padding:"",class:"!tw-pb-16 !tw-pt-4 !tw-px-3"},{default:ne(()=>[W("h5",ta,ee(m.$t("products.title")),1),A(Yt,{"selected-category":M.value,categories:w.value,"scroll-offset":e.scrollOffset,"onUpdate:selectedCategory":R},null,8,["selected-category","categories","scroll-offset"]),A(At,{class:"q-my-md"}),A(ea,{"initial-filters":n.value,"sort-options":k,"sort-order-options":j,"onUpdate:filters":z},null,8,["initial-filters"]),W("div",aa,[W("div",la,[(L(!0),Y(ie,null,Se(H.value,u=>(L(),te(jt,{key:u.id,product:u,color:V.value.backgroundColor,text:V.value.textColor,onAddToCart:g,onViewProduct:$},null,8,["product","color","text"]))),128))])]),b.value.total>0?(L(),te(Mt,{key:0,modelValue:o.value,"onUpdate:modelValue":[p[0]||(p[0]=u=>o.value=u),F],max:Q.value,"boundary-numbers":"",class:"tw-py-8 tw-flex tw-justify-center tw-items-center !tw-gap-8",color:V.value.paginationColor,"text-color":V.value.paginationTextColor,"active-color":V.value.paginationActiveColor,"active-text-color":V.value.paginationActiveTextColor},null,8,["modelValue","max","color","text-color","active-color","active-text-color"])):Ce("",!0)]),_:1}))}});export{va as default};
