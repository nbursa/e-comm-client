import{d as b,r,a as V,e as R,f as P,j as Q,k as _,w as u,l as f,m as l,p as C,q as z,x as n,Q as c,n as A,au as B,A as E,aw as S}from"./index-C0JJa2YO.js";import{Q as U}from"./QForm-CKSKV2hQ.js";import{Q as h}from"./QPage-BAchSC7v.js";const k={class:"tw-w-full sm:tw-max-w-72 tw-mx-auto"},q={class:"tw-flex tw-flex-col tw-gap-2"},j=b({__name:"RegisterPage",setup(H){const w=r(""),a=r(""),d=r(""),i=r(""),p=V(),{t:m}=R(),v=P(),g=async()=>{if(console.log("Registering user..."),a.value!==i.value){console.error("Passwords do not match");return}try{await p.register(d.value,w.value,a.value),console.log("Registration successful"),v.push(S)}catch(s){console.error("Registration failed:",s)}},o=s=>!!s||m("errors.validation.required"),x=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)?!0:m("errors.validation.invalidEmail"),y=s=>s===a.value||m("errors.validation.passwordMismatch");return(s,e)=>(Q(),_(h,{padding:"",class:"!tw-pb-16 !tw-px-3 tw-flex tw-justify-center tw-items-center"},{default:u(()=>[f("div",k,[l(E,{flat:"",bordered:"",class:"!tw-w-full !tw-max-w-54 tw-p-4 !tw-bg-transparent"},{default:u(()=>[e[4]||(e[4]=f("h4",{class:"tw-text-3xl tw-text-center tw-mb-8 tw-font-semibold tw-font-serif"},"Register",-1)),l(U,{class:"!tw-w-full",onSubmit:C(g,["prevent"])},{default:u(()=>[l(z,{class:"tw-flex tw-flex-col tw-gap-4 tw-w-full !tw-p-0 tw-mb-4"},{default:u(()=>[l(n,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=t=>d.value=t),label:"Name",type:"text",dense:"","lazy-rules":"",rules:[o],class:"tw-w-full"},null,8,["modelValue","rules"]),l(n,{modelValue:w.value,"onUpdate:modelValue":e[1]||(e[1]=t=>w.value=t),label:"Email",type:"email",dense:"","lazy-rules":"",rules:[o,x],class:"tw-w-full"},null,8,["modelValue","rules"]),l(n,{modelValue:a.value,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value=t),label:"Password",type:"password",dense:"","lazy-rules":"",rules:[o],class:"tw-w-full"},null,8,["modelValue","rules"]),l(n,{modelValue:i.value,"onUpdate:modelValue":e[3]||(e[3]=t=>i.value=t),label:"Confirm Password",type:"password",dense:"","lazy-rules":"",rules:[o,y],class:"tw-w-full"},null,8,["modelValue","rules"])]),_:1}),f("div",q,[l(c,{type:"submit",label:"Register",class:"!tw-w-full !tw-py-2.5"}),l(c,{secondary:"",to:A(B),label:"Cancel",class:"!tw-w-full !tw-py-2.5"},null,8,["to"])])]),_:1})]),_:1})])]),_:1}))}});export{j as default};
