import{d as O,u as P,e as Q,c as q,A as i,j as B,k as U,w as c,l as t,t as n,m as l,an as D,b3 as T,b4 as L,b5 as N,p as b,D as w,E as k,G as y,ai as C,z as x,b2 as $}from"./index-eqiBq1KU.js";import{Q as z}from"./QPage-Cf_ORzAX.js";const j={class:"tw-text-3xl tw-mt-4 tw-font-semibold tw-font-serif tw-my-4 tw-text-center tw-mb-8"},E={class:"row q-col-gutter-md q-mb-lg"},G={class:"col-12"},I={class:"text-subtitle1 text-weight-regular"},M={class:"col-12 col-sm-6"},F={class:"col-12 col-sm-6"},H={class:"row q-col-gutter-md q-mb-lg"},J={class:"col-12"},K={class:"text-subtitle1 text-weight-regular"},R={class:"col-12"},W={class:"row q-col-gutter-md"},X={class:"col-12"},Y={class:"text-subtitle1 text-weight-regular"},Z={class:"col-12 col-sm-6"},ee={class:"text-subtitle2"},te={class:"text-caption"},se={class:"col-12 col-sm-6"},ae={class:"text-subtitle2"},le={class:"text-caption"},ie=O({__name:"SettingsPage",setup(oe){const a=P(),{t:s}=Q(),o=q(),h=i(()=>a.settings.theme==="dark"),d=i(()=>a.languageOptions.map(e=>({...e,label:s(`common.language.${e.value}`)}))),m=i(()=>a.themeOptions.map(e=>({...e,label:s(`common.theme.${e.value}`)}))),g=i(()=>a.currencyOptions.map(e=>({...e,label:s(`common.currencyLabel.${e.value}`)}))),v=i({get:()=>d.value.find(e=>e.value===a.settings.language)||d.value[0],set:e=>a.setLanguage(e.value)}),f=i({get:()=>g.value.find(e=>e.value===a.settings.currency)||g.value[0],set:e=>a.setCurrency(e.value)}),_=i({get:()=>m.value.find(e=>e.value===a.settings.theme)||m.value[0],set:e=>a.setTheme(e.value)}),p=i({get:()=>a.settings.useSystemPreference,set:e=>a.setSystemPreference(e)}),S=e=>{p.value=e},V=()=>{o.dialog({title:s("settings.clearCacheTitle"),message:s("settings.clearCacheConfirm"),ok:{label:s("common.yes"),flat:!0,color:o.dark.isActive?"bg-white":"bg-dark",textColor:o.dark.isActive?"text-black":"text-white"},cancel:{label:s("common.no"),flat:!0,color:"transparent",textColor:o.dark.isActive?"white":"black"}}).onOk(()=>{$.clearProductsCache(),o.notify({type:"positive",message:s("settings.clearCacheSuccess"),position:"top",timeout:1e3})})},A=()=>{o.dialog({title:s("settings.resetTitle"),message:s("settings.resetConfirm"),ok:{label:s("common.yes"),flat:!0,color:o.dark.isActive?"bg-white":"bg-dark",textColor:o.dark.isActive?"text-black":"text-white"},cancel:{label:s("common.no"),flat:!0,color:"transparent",textColor:o.dark.isActive?"white":"black"}}).onOk(()=>{$.clearUserSettings(),o.notify({type:"positive",message:s("settings.resetSuccess"),position:"top",timeout:1e3}),window.location.reload()})};return(e,r)=>(B(),U(z,{padding:"",class:"tw-max-w-screen-md tw-mx-auto tw-pb-16 tw-pt-4 tw-px-3"},{default:c(()=>[t("h5",j,n(e.$t("settings.title")),1),l(D,{class:"q-my-md"}),t("div",E,[t("div",G,[t("h6",I,n(e.$t("settings.preferences")),1)]),t("div",M,[l(T,{modelValue:v.value,"onUpdate:modelValue":r[0]||(r[0]=u=>v.value=u),"language-options":d.value},null,8,["modelValue","language-options"])]),t("div",F,[l(L,{modelValue:f.value,"onUpdate:modelValue":r[1]||(r[1]=u=>f.value=u),"use-system-preference":p.value,"currency-options":g.value},null,8,["modelValue","use-system-preference","currency-options"])])]),t("div",H,[t("div",J,[t("h6",K,n(e.$t("settings.appearance")),1)]),t("div",R,[l(N,{modelValue:_.value,"onUpdate:modelValue":r[2]||(r[2]=u=>_.value=u),"theme-options":m.value,"use-system-preference":p.value,"onUpdate:useSystemPreference":S},null,8,["modelValue","theme-options","use-system-preference"])])]),t("div",W,[t("div",X,[t("h6",Y,n(e.$t("settings.dataManagement")),1)]),t("div",Z,[l(x,{flat:"",class:"!tw-bg-transparent"},{default:c(()=>[l(b,null,{default:c(()=>[t("div",ee,n(e.$t("settings.clearCache")),1),t("div",te,n(e.$t("settings.clearCacheDescription")),1)]),_:1}),l(w,{align:"right"},{default:c(()=>[l(k,{flat:"",class:y(h.value?"bg-white text-black":"bg-dark text-white"),onClick:V},{default:c(()=>[C(n(e.$t("settings.clearCacheButton")),1)]),_:1},8,["class"])]),_:1})]),_:1})]),t("div",se,[l(x,{flat:"",class:"!tw-bg-transparent"},{default:c(()=>[l(b,null,{default:c(()=>[t("div",ae,n(e.$t("settings.clearSettingsTitle")),1),t("div",le,n(e.$t("settings.resetDescription")),1)]),_:1}),l(w,{align:"right"},{default:c(()=>[l(k,{flat:"",class:y(h.value?"bg-white text-black":"bg-dark text-white"),onClick:A},{default:c(()=>[C(n(e.$t("settings.resetButton")),1)]),_:1},8,["class"])]),_:1})]),_:1})])])]),_:1}))}});export{ie as default};
