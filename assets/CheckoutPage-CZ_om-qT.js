import{c as L,r as E,p as ce,f as Se,o as _e,a as Ce,e as qe,h as q,g as B,i as U,v as xe,s as F,n as we,j as Pe,k as ke,T as de,l as C,Q as $e,w as Ve,R as Ne,m as Ie,q as D,t as Z,x as Te,y as ee,z as Ae,A as R,B as K,C as te,D as Ee,E as Y,F as Be,G as Qe,H as De,K as ve,I as Oe,J as z,L as pe,M as Fe,N as Le,O as Ue,P as je,S as Re,U as Me,V as Ke,W as Ye,X as ze,Y as He,Z as H,_ as ae,$ as P,a0 as N,a1 as g,a2 as W,a3 as X,a4 as ne,a5 as T,a6 as A,a7 as We,a8 as Xe,a9 as Je,aa as Ge,ab as Ze,ac as et,ad as oe,ae as M,af as O,ag as tt,ah as at,ai as re,aj as nt}from"./index-BO7IoYAf.js";import{Q as ot}from"./QPage-Dczxe0I2.js";const le=L({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:n,emit:v}){const h=U(),s=E(null);let t=0;const a=[];function r(l){const x=typeof l=="boolean"?l:e.noErrorFocus!==!0,i=++t,o=(w,V)=>{v(`validation${w===!0?"Success":"Error"}`,V)},c=w=>{const V=w.validate();return typeof V.then=="function"?V.then(d=>({valid:d,comp:w}),d=>({valid:!1,comp:w,err:d})):Promise.resolve({valid:V,comp:w})};return(e.greedy===!0?Promise.all(a.map(c)).then(w=>w.filter(V=>V.valid!==!0)):a.reduce((w,V)=>w.then(()=>c(V).then(d=>{if(d.valid===!1)return Promise.reject(d)})),Promise.resolve()).catch(w=>[w])).then(w=>{if(w===void 0||w.length===0)return i===t&&o(!0),!0;if(i===t){const{comp:V,err:d}=w[0];if(d!==void 0&&console.error(d),o(!1,V),x===!0){const _=w.find(({comp:y})=>typeof y.focus=="function"&&xe(y.$)===!1);_!==void 0&&_.comp.focus()}}return!1})}function u(){t++,a.forEach(l=>{typeof l.resetValidation=="function"&&l.resetValidation()})}function b(l){l!==void 0&&F(l);const x=t+1;r().then(i=>{x===t&&i===!0&&(e.onSubmit!==void 0?v("submit",l):l!==void 0&&l.target!==void 0&&typeof l.target.submit=="function"&&l.target.submit())})}function f(l){l!==void 0&&F(l),v("reset"),we(()=>{u(),e.autofocus===!0&&e.noResetFocus!==!0&&S()})}function S(){Pe(()=>{if(s.value===null)return;const l=s.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||s.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||s.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(s.value.querySelectorAll("[tabindex]"),x=>x.tabIndex!==-1);l?.focus({preventScroll:!0})})}ce(Se,{bindComponent(l){a.push(l)},unbindComponent(l){const x=a.indexOf(l);x!==-1&&a.splice(x,1)}});let p=!1;return _e(()=>{p=!0}),Ce(()=>{p===!0&&e.autofocus===!0&&S()}),qe(()=>{e.autofocus===!0&&S()}),Object.assign(h.proxy,{validate:r,resetValidation:u,submit:b,reset:f,focus:S,getValidationComponents:()=>a}),()=>q("form",{class:"q-form",ref:s,onSubmit:b,onReset:f},B(n.default))}}),rt=L({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:n,emit:v}){let h=!1,s,t,a=null,r=null,u,b;function f(){s&&s(),s=null,h=!1,a!==null&&(clearTimeout(a),a=null),r!==null&&(clearTimeout(r),r=null),t!==void 0&&t.removeEventListener("transitionend",u),u=null}function S(i,o,c){o!==void 0&&(i.style.height=`${o}px`),i.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,h=!0,s=c}function p(i,o){i.style.overflowY=null,i.style.height=null,i.style.transition=null,f(),o!==b&&v(o)}function l(i,o){let c=0;t=i,h===!0?(f(),c=i.offsetHeight===i.scrollHeight?0:void 0):(b="hide",i.style.overflowY="hidden"),S(i,c,o),a=setTimeout(()=>{a=null,i.style.height=`${i.scrollHeight}px`,u=$=>{r=null,(Object($)!==$||$.target===i)&&p(i,"show")},i.addEventListener("transitionend",u),r=setTimeout(u,e.duration*1.1)},100)}function x(i,o){let c;t=i,h===!0?f():(b="show",i.style.overflowY="hidden",c=i.scrollHeight),S(i,c,o),a=setTimeout(()=>{a=null,i.style.height=0,u=$=>{r=null,(Object($)!==$||$.target===i)&&p(i,"hide")},i.addEventListener("transitionend",u),r=setTimeout(u,e.duration*1.1)},100)}return ke(()=>{h===!0&&f()}),()=>q(de,{css:!1,appear:e.appear,onEnter:l,onLeave:x},n.default)}}),fe=L({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:n}){const{proxy:{$q:v}}=U(),h=E(null),s=C(()=>e.stepper.modelValue===e.step.name),t=C(()=>{const o=e.step.disable;return o===!0||o===""}),a=C(()=>{const o=e.step.error;return o===!0||o===""}),r=C(()=>{const o=e.step.done;return t.value===!1&&(o===!0||o==="")}),u=C(()=>{const o=e.step.headerNav,c=o===!0||o===""||o===void 0;return t.value===!1&&e.stepper.headerNav&&c}),b=C(()=>e.step.prefix&&(s.value===!1||e.stepper.activeIcon==="none")&&(a.value===!1||e.stepper.errorIcon==="none")&&(r.value===!1||e.stepper.doneIcon==="none")),f=C(()=>{const o=e.step.icon||e.stepper.inactiveIcon;if(s.value===!0){const c=e.step.activeIcon||e.stepper.activeIcon;return c==="none"?o:c||v.iconSet.stepper.active}if(a.value===!0){const c=e.step.errorIcon||e.stepper.errorIcon;return c==="none"?o:c||v.iconSet.stepper.error}if(t.value===!1&&r.value===!0){const c=e.step.doneIcon||e.stepper.doneIcon;return c==="none"?o:c||v.iconSet.stepper.done}return o}),S=C(()=>{const o=a.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(s.value===!0){const c=e.step.activeColor||e.stepper.activeColor||e.step.color;return c!==void 0?c:o}return o!==void 0?o:t.value===!1&&r.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),p=C(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(S.value!==void 0?` text-${S.value}`:"")+(a.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(b.value===!0?"prefix":"icon"):"")+(s.value===!0?" q-stepper__tab--active":"")+(r.value===!0?" q-stepper__tab--done":"")+(u.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(t.value===!0?" q-stepper__tab--disabled":"")),l=C(()=>e.stepper.headerNav!==!0?!1:u.value);function x(){h.value!==null&&h.value.focus(),s.value===!1&&e.goToPanel(e.step.name)}function i(o){o.keyCode===13&&s.value===!1&&e.goToPanel(e.step.name)}return()=>{const o={class:p.value};u.value===!0&&(o.onClick=x,o.onKeyup=i,Object.assign(o,t.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:n.tabindex||0}));const c=[q("div",{class:"q-focus-helper",tabindex:-1,ref:h}),q("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[q("span",{class:"row flex-center"},[b.value===!0?e.step.prefix:q($e,{name:f.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const $=[q("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&$.push(q("div",{class:"q-stepper__caption"},e.step.caption)),c.push(q("div",{class:"q-stepper__label q-stepper__line relative-position"},$))}return Ve(q("div",o,c),[[Ne,l.value]])}}});function lt(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((v,h)=>{const s=parseFloat(v);s&&(n[h]=s)}),n}const st=Ie({name:"touch-swipe",beforeMount(e,{value:n,arg:v,modifiers:h}){if(h.mouse!==!0&&D.has.touch!==!0)return;const s=h.mouseCapture===!0?"Capture":"",t={handler:n,sensitivity:lt(v),direction:Z(h),noop:Te,mouseStart(a){ee(a,t)&&Ae(a)&&(R(t,"temp",[[document,"mousemove","move",`notPassive${s}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(a,!0))},touchStart(a){if(ee(a,t)){const r=a.target;R(t,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","notPassiveCapture"],[r,"touchend","end","notPassiveCapture"]]),t.start(a)}},start(a,r){D.is.firefox===!0&&K(e,!0);const u=te(a);t.event={x:u.left,y:u.top,time:Date.now(),mouse:r===!0,dir:!1}},move(a){if(t.event===void 0)return;if(t.event.dir!==!1){F(a);return}const r=Date.now()-t.event.time;if(r===0)return;const u=te(a),b=u.left-t.event.x,f=Math.abs(b),S=u.top-t.event.y,p=Math.abs(S);if(t.event.mouse!==!0){if(f<t.sensitivity[1]&&p<t.sensitivity[1]){t.end(a);return}}else if(window.getSelection().toString()!==""){t.end(a);return}else if(f<t.sensitivity[2]&&p<t.sensitivity[2])return;const l=f/r,x=p/r;t.direction.vertical===!0&&f<p&&f<100&&x>t.sensitivity[0]&&(t.event.dir=S<0?"up":"down"),t.direction.horizontal===!0&&f>p&&p<100&&l>t.sensitivity[0]&&(t.event.dir=b<0?"left":"right"),t.direction.up===!0&&f<p&&S<0&&f<100&&x>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&f<p&&S>0&&f<100&&x>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&f>p&&b<0&&p<100&&l>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&f>p&&b>0&&p<100&&l>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(F(a),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ee(),t.styleCleanup=i=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const o=()=>{document.body.classList.remove("no-pointer-events--children")};i===!0?setTimeout(o,50):o()}),t.handler({evt:a,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:r,distance:{x:f,y:p}})):t.end(a)},end(a){t.event!==void 0&&(Y(t,"temp"),D.is.firefox===!0&&K(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),a!==void 0&&t.event.dir!==!1&&F(a),t.event=void 0)}};if(e.__qtouchswipe=t,h.mouse===!0){const a=h.mouseCapture===!0||h.mousecapture===!0?"Capture":"";R(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}D.has.touch===!0&&R(t,"main",[[e,"touchstart","touchStart",`passive${h.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const v=e.__qtouchswipe;v!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&v.end(),v.handler=n.value),v.direction=Z(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&(Y(n,"main"),Y(n,"temp"),D.is.firefox===!0&&K(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete e.__qtouchswipe)}});function me(){let e=Object.create(null);return{getCache:(n,v)=>e[n]===void 0?e[n]=typeof v=="function"?v():v:e[n],setCache(n,v){e[n]=v},hasCache(n){return Object.hasOwnProperty.call(e,n)},clearCache(n){n!==void 0?delete e[n]:e=Object.create(null)}}}const it={name:{required:!0},disable:Boolean},se={setup(e,{slots:n}){return()=>q("div",{class:"q-panel scroll",role:"tabpanel"},B(n.default))}},ut={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ct=["update:modelValue","beforeTransition","transition"];function dt(){const{props:e,emit:n,proxy:v}=U(),{getCache:h}=me(),{registerTimeout:s}=Be();let t,a;const r=E(null),u={value:null};function b(m){const k=e.vertical===!0?"up":"left";Q((v.$q.lang.rtl===!0?-1:1)*(m.direction===k?1:-1))}const f=C(()=>[[st,b,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),S=C(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),p=C(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),l=C(()=>`--q-transition-duration: ${e.transitionDuration}ms`),x=C(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),i=C(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),o=C(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);Qe(()=>e.modelValue,(m,k)=>{const I=V(m)===!0?d(m):-1;a!==!0&&y(I===-1?0:I<d(k)?-1:1),u.value!==I&&(u.value=I,n("beforeTransition",m,k),s(()=>{n("transition",m,k)},e.transitionDuration))});function c(){Q(1)}function $(){Q(-1)}function w(m){n("update:modelValue",m)}function V(m){return m!=null&&m!==""}function d(m){return t.findIndex(k=>k.props.name===m&&k.props.disable!==""&&k.props.disable!==!0)}function _(){return t.filter(m=>m.props.disable!==""&&m.props.disable!==!0)}function y(m){const k=m!==0&&e.animated===!0&&u.value!==-1?"q-transition--"+(m===-1?S.value:p.value):null;r.value!==k&&(r.value=k)}function Q(m,k=u.value){let I=k+m;for(;I!==-1&&I<t.length;){const j=t[I];if(j!==void 0&&j.props.disable!==""&&j.props.disable!==!0){y(m),a=!0,n("update:modelValue",j.props.name),setTimeout(()=>{a=!1});return}I+=m}e.infinite===!0&&t.length!==0&&k!==-1&&k!==t.length&&Q(m,m===-1?t.length:-1)}function J(){const m=d(e.modelValue);return u.value!==m&&(u.value=m),!0}function G(){const m=V(e.modelValue)===!0&&J()&&t[u.value];return e.keepAlive===!0?[q(ve,i.value,[q(o.value===!0?h(x.value,()=>({...se,name:x.value})):se,{key:x.value,style:l.value},()=>m)])]:[q("div",{class:"q-panel scroll",style:l.value,key:x.value,role:"tabpanel"},[m])]}function ge(){if(t.length!==0)return e.animated===!0?[q(de,{name:r.value},G)]:G()}function be(m){return t=De(B(m.default,[])).filter(k=>k.props!==null&&k.props.slot===void 0&&V(k.props.name)===!0),t.length}function ye(){return t}return Object.assign(v,{next:c,previous:$,goTo:w}),{panelIndex:u,panelDirectives:f,updatePanelsList:be,updatePanelIndex:J,getPanelContent:ge,getEnabledPanels:_,getPanels:ye,isValidPanelName:V,keepAliveProps:i,needsUniqueKeepAliveWrapper:o,goToPanelByOffset:Q,goToPanel:w,nextPanel:c,previousPanel:$}}function he(e){return q("div",{class:"q-stepper__step-content"},[q("div",{class:"q-stepper__step-inner"},B(e.default))])}const ie={setup(e,{slots:n}){return()=>he(n)}},ue=L({name:"QStep",props:{...it,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:n,emit:v}){const{proxy:{$q:h}}=U(),s=Oe(pe,z);if(s===z)return console.error("QStep needs to be a child of QStepper"),z;const{getCache:t}=me(),a=E(null),r=C(()=>s.value.modelValue===e.name),u=C(()=>h.platform.is.ios!==!0&&h.platform.is.chrome===!0||r.value!==!0||s.value.vertical!==!0?{}:{onScroll(S){const{target:p}=S;p.scrollTop>0&&(p.scrollTop=0),e.onScroll!==void 0&&v("scroll",S)}}),b=C(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function f(){const S=s.value.vertical;return S===!0&&s.value.keepAlive===!0?q(ve,s.value.keepAliveProps.value,r.value===!0?[q(s.value.needsUniqueKeepAliveWrapper.value===!0?t(b.value,()=>({...ie,name:b.value})):ie,{key:b.value},n.default)]:void 0):S!==!0||r.value===!0?he(n):void 0}return()=>q("div",{ref:a,class:"q-stepper__step",role:"tabpanel",...u.value},s.value.vertical===!0?[q(fe,{stepper:s.value,step:e,goToPanel:s.value.goToPanel}),s.value.animated===!0?q(rt,f):f()]:[f()])}}),vt=/(-\w)/g;function pt(e){const n={};for(const v in e){const h=v.replace(vt,s=>s[1].toUpperCase());n[h]=e[v]}return n}const ft=L({name:"QStepper",props:{...Fe,...ut,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:ct,setup(e,{slots:n}){const v=U(),h=Le(e,v.proxy.$q),{updatePanelsList:s,isValidPanelName:t,updatePanelIndex:a,getPanelContent:r,getPanels:u,panelDirectives:b,goToPanel:f,keepAliveProps:S,needsUniqueKeepAliveWrapper:p}=dt();ce(pe,C(()=>({goToPanel:f,keepAliveProps:S,needsUniqueKeepAliveWrapper:p,...e})));const l=C(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(h.value===!0?" q-stepper--dark q-dark":"")),x=C(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function i(){const o=B(n.message,[]);if(e.vertical===!0){t(e.modelValue)&&a();const c=q("div",{class:"q-stepper__content"},B(n.default));return o===void 0?[c]:o.concat(c)}return[q("div",{class:x.value},u().map(c=>{const $=pt(c.props);return q(fe,{key:$.name,stepper:e,step:$,goToPanel:f})})),o,je("div",{class:"q-stepper__content q-panel-parent"},r(),"cont",e.swipeable,()=>b.value)]}return()=>(s(n),q("div",{class:l.value},Ue(n.navigation,i())))}}),mt={class:"row q-col-gutter-md"},ht={class:"col-12 col-md-8"},gt={class:"col-12 col-sm-6"},bt={class:"col-12 col-sm-6"},yt={class:"col-12"},St={class:"col-12"},_t={class:"col-12"},Ct={class:"col-6"},qt={class:"col-6"},xt={class:"col-12 col-md-4"},wt={class:"text-h6"},Pt=Re({__name:"CheckoutPage",setup(e){Me(d=>({"60fe1686":u.value,"27c16c93":b.value}));const n=Ke(),v=Ye(),h=ze(),{t:s}=He(),t=E(1),a=E({firstName:"",lastName:"",email:"",address:""}),r=E({cardNumber:"",expiry:"",cvv:""}),u=C(()=>n.dark.isActive?"white":"black"),b=C(()=>n.dark.isActive?"black":"white"),f=C(()=>v.items.reduce((d,_)=>d+_.price*_.quantity,0)),S="mailer@nenadbursac.com",p={id:Math.floor(Math.random()*1e3),items:v.items,total:f.value,firstName:a.value.firstName,lastName:a.value.lastName,email:a.value.email,address:a.value.address,cardNumber:r.value.cardNumber,cvv:r.value.cvv,expiry:r.value.expiry},l=d=>!!d||"Field is required",x=d=>/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(d)||"Invalid email",i=()=>{t.value++},o=()=>{t.value++},c=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),$=()=>{n.dialog({title:"Order Confirmation",message:`
      <div class="q-pa-md">
        <h6 class="q-my-none">Order Summary</h6>
        <p class="text-h6 q-mb-md">Total: ${c(p.total)}</p>

        <div class="q-mb-md">
          <strong>Shipping Details:</strong>
          <p class="q-mb-none">${p.firstName} ${p.lastName}</p>
          <p class="q-mb-none">${p.email}</p>
          <p class="q-mb-none">${p.address}</p>
        </div>

        <div class="q-mb-md">
          <strong>Payment Information:</strong>
          <p class="q-mb-none">Card: **** **** **** ${p.cardNumber.slice(-4)}</p>
          <p class="q-mb-none">Expiry: ${p.expiry}</p>
        </div>

        <div class="q-mt-sm">
          <strong>Items:</strong>
          ${p.items.map(d=>`
            <div class="q-py-sm">
              <span>${d.title}</span>
              <span class="float-right">
                ${d.quantity}x ${c(d.price)}
              </span>
            </div>
          `).join("")}
        </div>
      </div>
    `,html:!0,persistent:!0,class:"q-dialog-plugin",ok:{label:"Confirm Order",flat:!0,style:"opacity: 1 !important;",class:`bg-${u.value} text-${b.value} lt-sm:full-width gt-sm:!tw-w-auto !tw-py-2 gt-sm:tw-py-4 lt-sm:q-mt-sm`},cancel:{label:"Cancel",flat:!0,style:"opacity: 1 !important; box-shadow: inset 0 0 0 2px currentColor;",class:`bg-${b.value} text-${u.value} lt-sm:full-width gt-sm:!tw-w-auto !tw-py-2 gt-sm:tw-py-4`}}).onOk(()=>{w()})},w=async()=>{n.loading.show();try{if(!(await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:S,orderDetails:p})})).ok)throw new Error("Failed to send email");v.clearCart(),h.push("/thankyou")}catch{n.notify({color:"negative",message:s("checkout.orderFailed"),icon:"error"})}finally{n.loading.hide()}},V=()=>{t.value++};return(d,_)=>(H(),ae(ot,{padding:""},{default:P(()=>[N("div",mt,[N("div",ht,[g(ft,{modelValue:t.value,"onUpdate:modelValue":_[7]||(_[7]=y=>t.value=y),vertical:"",class:"checkout-stepper",color:u.value,"text-color":b.value,"header-nav":""},{default:P(()=>[g(ue,{name:1,title:d.$t("checkout.shipping"),icon:"local_shipping",done:t.value>1,class:"checkout-step","header-nav":!0},{default:P(()=>[g(W,{flat:"",bordered:""},{default:P(()=>[g(X,null,{default:P(()=>[g(le,{class:"row q-col-gutter-md",onSubmit:ne(i,["prevent"])},{default:P(()=>[N("div",gt,[g(T,{modelValue:a.value.firstName,"onUpdate:modelValue":_[0]||(_[0]=y=>a.value.firstName=y),label:d.$t("checkout.firstName"),rules:[l]},null,8,["modelValue","label","rules"])]),N("div",bt,[g(T,{modelValue:a.value.lastName,"onUpdate:modelValue":_[1]||(_[1]=y=>a.value.lastName=y),label:d.$t("checkout.lastName"),rules:[l]},null,8,["modelValue","label","rules"])]),N("div",yt,[g(T,{modelValue:a.value.email,"onUpdate:modelValue":_[2]||(_[2]=y=>a.value.email=y),label:d.$t("checkout.email"),type:"email",rules:[l,x]},null,8,["modelValue","label","rules"])]),N("div",St,[g(T,{modelValue:a.value.address,"onUpdate:modelValue":_[3]||(_[3]=y=>a.value.address=y),label:d.$t("checkout.address"),rules:[l]},null,8,["modelValue","label","rules"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["title","done"]),g(ue,{name:2,title:d.$t("checkout.payment"),icon:"payment",done:t.value>2,"header-nav":!0},{default:P(()=>[g(W,{flat:"",bordered:""},{default:P(()=>[g(X,null,{default:P(()=>[g(le,{class:"row q-col-gutter-md",onSubmit:ne(o,["prevent"])},{default:P(()=>[N("div",_t,[g(T,{modelValue:r.value.cardNumber,"onUpdate:modelValue":_[4]||(_[4]=y=>r.value.cardNumber=y),label:d.$t("checkout.cardNumber"),mask:"#### #### #### ####",rules:[l]},null,8,["modelValue","label","rules"])]),N("div",Ct,[g(T,{modelValue:r.value.expiry,"onUpdate:modelValue":_[5]||(_[5]=y=>r.value.expiry=y),label:"MM/YY",mask:"##/##",rules:[l]},null,8,["modelValue","rules"])]),N("div",qt,[g(T,{modelValue:r.value.cvv,"onUpdate:modelValue":_[6]||(_[6]=y=>r.value.cvv=y),label:"CVV",mask:"###",rules:[l]},null,8,["modelValue","rules"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["title","done"])]),_:1},8,["modelValue","color","text-color"])]),N("div",xt,[g(W,{class:"order-summary"},{default:P(()=>[g(X,null,{default:P(()=>[N("div",wt,A(d.$t("checkout.orderSummary")),1),g(We,null,{default:P(()=>[(H(!0),Xe(Ze,null,Je(Ge(v).items,y=>(H(),ae(oe,{key:y.id},{default:P(()=>[g(M,null,{default:P(()=>[g(re,null,{default:P(()=>[O(A(y.name),1)]),_:2},1024),g(re,{caption:""},{default:P(()=>[O(A(d.$t("checkout.qty"))+": "+A(y.quantity),1)]),_:2},1024)]),_:2},1024),g(M,{side:""},{default:P(()=>[O(A(c(y.price*y.quantity)),1)]),_:2},1024)]),_:2},1024))),128)),g(et),g(oe,null,{default:P(()=>[g(M,null,{default:P(()=>[O(A(d.$t("checkout.total")),1)]),_:1}),g(M,{side:""},{default:P(()=>[O(A(c(f.value)),1)]),_:1})]),_:1})]),_:1})]),_:1}),g(tt,{align:"center"},{default:P(()=>[g(at,{color:u.value,"text-color":b.value,label:t.value===2?d.$t("checkout.placeOrder"):d.$t("checkout.continue"),class:"full-width",onClick:_[8]||(_[8]=y=>t.value===2?$():V())},null,8,["color","text-color","label"])]),_:1})]),_:1})])])]),_:1}))}}),Vt=nt(Pt,[["__scopeId","data-v-03a5b8ad"]]);export{Vt as default};
