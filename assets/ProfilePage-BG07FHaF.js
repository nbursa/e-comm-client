import{u as I,d as B,a as N,f as R,A as x,j as s,k as i,w as t,m as e,n as U,D as V,l as g,q as P,af as k,ag as d,am as y,an as o,ai as r,t as n,Q as C,z as _,F as A,C as O,B as S,au as j,aZ as F,a_ as W,aW as q,a$ as z}from"./index-Cw1-6oTs.js";import{Q as G}from"./QPage-crSimVfK.js";import{u as M}from"./products-WnF0YImY.js";import{f as Q}from"./currency-CNDhzamw.js";import{u as Z}from"./order-ENlKiR0i.js";import"./rates-BvmdyCoH.js";const J=(f,w)=>{const l=I().settings.language||"en-US",p=typeof f=="string"?new Date(f):f,m={year:"numeric",month:"long",day:"numeric"};return p.toLocaleDateString(l,w||m)},K={key:1,class:"tw-text-center tw-text-gray-500"},X={key:1,class:"tw-text-center tw-text-gray-500"},ot=B({__name:"ProfilePage",setup(f){const w=N(),b=M(),l=R(),p=Z(),m=x(()=>w.user),h=x(()=>b.getViewedCache()?.products||[]),v=x(()=>p.orderHistory),D=()=>{try{w.logout(),l.push(j)}catch(u){console.error("Logout failed:",u)}},H=()=>{l.push(`${F}`)},T=()=>{l.push(`${W}`)},L=u=>{l.push(`${q}/${u}`)},$=u=>{l.push(`${z.replace(":id",u.toString())}`)};return(u,c)=>(s(),i(G,{class:"tw-p-4"},{default:t(()=>[e(U,{flat:"",class:"!tw-bg-transparent tw-max-w-screen-sm tw-mx-auto"},{default:t(()=>[e(V,{class:"tw-w-full tw-flex !tw-justify-between tw-items-center tw-mb-8"},{default:t(()=>c[0]||(c[0]=[g("h5",{class:"tw-text-3xl tw-font-semibold tw-font-serif"},"User Profile",-1)])),_:1}),e(P,null,{default:t(()=>[e(k,{class:"tw-flex tw-flex-col tw-justify-between tw-gap-4 !tw-p-0"},{default:t(()=>[e(d,null,{default:t(()=>[e(y,null,{default:t(()=>[e(o,{class:"tw-text-base"},{default:t(()=>[r(n(m.value?.name),1)]),_:1}),e(o,{class:"tw-text-xs"},{default:t(()=>[r(n(m.value?.email),1)]),_:1})]),_:1})]),_:1}),e(d,{class:"!tw-flex !tw-flex-row tw-gap-4 !tw-p-0 tw-items-center !tw-m-0"},{default:t(()=>[e(C,{label:"Update Profile",class:"!tw-px-4",onClick:T}),e(C,{label:"Change Password",class:"!tw-px-4",onClick:H}),e(C,{label:"Logout",class:"!tw-px-4",onClick:D})]),_:1})]),_:1})]),_:1}),e(P,null,{default:t(()=>[c[1]||(c[1]=g("h5",{class:"tw-text-2xl tw-font-semibold tw-font-serif tw-mb-4"},"Viewed Items",-1)),h.value?.length?(s(),i(y,{key:0},{default:t(()=>[(s(!0),_(A,null,O(h.value,a=>(s(),i(k,{key:a.id,clickable:"",onClick:E=>L(a.id)},{default:t(()=>[e(d,null,{default:t(()=>[e(o,null,{default:t(()=>[r(n(a.name||a.title),1)]),_:2},1024),e(o,{caption:""},{default:t(()=>[r(n(S(Q)(a.price)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):(s(),_("div",K,"No viewed items"))]),_:1}),e(P,null,{default:t(()=>[c[2]||(c[2]=g("h5",{class:"tw-text-2xl tw-font-semibold tw-font-serif tw-mb-4"},"Order History",-1)),v.value?.length?(s(),i(y,{key:0},{default:t(()=>[(s(!0),_(A,null,O(v.value,a=>(s(),i(k,{key:a.id,clickable:"",onClick:E=>$(a.id)},{default:t(()=>[e(d,null,{default:t(()=>[e(o,null,{default:t(()=>[r("Order #"+n(a.id),1)]),_:2},1024),e(o,{caption:""},{default:t(()=>[r(n(S(J)(a.date)),1)]),_:2},1024)]),_:2},1024),e(d,{side:""},{default:t(()=>[e(o,null,{default:t(()=>[r(n(S(Q)(a.total)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):(s(),_("div",X,"No order history"))]),_:1})]),_:1})]),_:1}))}});export{ot as default};
