import{c as xe,M as Ze,aq as et,N as tt,l as n,r as S,ar as at,G as J,as as Le,at as lt,au as Me,h as $,ae as ot,i as ke,a4 as Te,av as nt,aw as le,S as fe,U as L,V as Y,W as ne,X as E,Y as rt,Z as G,_ as oe,a3 as it,a0 as Z,a2 as ie,$ as he,ai as st,aj as ut,a6 as ct,I as dt,J as ye,ax as _e,k as Ee,e as Fe,w as vt,R as ft,ay as gt,s as bt,Q as de,O as mt,az as Ce,F as Re,aA as ht,p as yt,o as Ct,a as wt,aB as xt,g as kt,a1 as Se,aC as Tt,aa as Ne,a5 as St,a8 as Pt,ab as qt,ac as pt,ad as At,am as $t,ak as De}from"./index-QjTLx6b9.js";import{Q as Bt}from"./QPage-DcGGsXwj.js";import{Q as Vt,f as we}from"./currencyUtils-Dm8kAUpF.js";import"./rates-D5bRcDFj.js";function ue(e,C){return[!0,!1].includes(e)?e:C}const It=xe({name:"QPagination",props:{...Ze,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||et.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:C}){const{proxy:w}=ke(),{$q:d}=w,o=tt(e,d),v=n(()=>parseInt(e.min,10)),r=n(()=>parseInt(e.max,10)),s=n(()=>parseInt(e.maxPages,10)),a=n(()=>p.value+" / "+r.value),P=n(()=>ue(e.boundaryLinks,e.input)),m=n(()=>ue(e.boundaryNumbers,!e.input)),q=n(()=>ue(e.directionLinks,e.input)),x=n(()=>ue(e.ellipses,!e.input)),y=S(null),p=n({get:()=>e.modelValue,set:f=>{if(f=parseInt(f,10),e.disable||isNaN(f))return;const u=at(f,v.value,r.value);e.modelValue!==u&&C("update:modelValue",u)}});J(()=>`${v.value}|${r.value}`,()=>{p.value=e.modelValue});const M=n(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),F=n(()=>e.gutter in Le?`${Le[e.gutter]}px`:e.gutter||null),U=n(()=>F.value!==null?`--q-pagination-gutter-parent:-${F.value};--q-pagination-gutter-child:${F.value}`:null),_=n(()=>{const f=[e.iconFirst||d.iconSet.pagination.first,e.iconPrev||d.iconSet.pagination.prev,e.iconNext||d.iconSet.pagination.next,e.iconLast||d.iconSet.pagination.last];return d.lang.rtl===!0?f.reverse():f}),g=n(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),A=n(()=>lt(e,"flat")),R=n(()=>({[A.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),V=n(()=>{const f={[A.value]:!1};return e.activeDesign!==""&&(f[e.activeDesign]=!0),f}),N=n(()=>({...V.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),i=n(()=>{let f=Math.max(s.value,1+(x.value?2:0)+(m.value?2:0));const u={pgFrom:v.value,pgTo:r.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(r.value).length)}em`}};return s.value&&f<r.value-v.value+1&&(f=1+Math.floor(f/2)*2,u.pgFrom=Math.max(v.value,Math.min(r.value-f+1,e.modelValue-Math.floor(f/2))),u.pgTo=Math.min(r.value,u.pgFrom+f-1),m.value&&(u.boundaryStart=!0,u.pgFrom++),x.value&&u.pgFrom>v.value+(m.value?1:0)&&(u.ellipsesStart=!0,u.pgFrom++),m.value&&(u.boundaryEnd=!0,u.pgTo--),x.value&&u.pgTo<r.value-(m.value?1:0)&&(u.ellipsesEnd=!0,u.pgTo--)),u});function I(f){p.value=f}function O(f){p.value=p.value+f}const ge=n(()=>{function f(){p.value=y.value,y.value=null}return{"onUpdate:modelValue":u=>{y.value=u},onKeyup:u=>{Me(u,13)===!0&&f()},onBlur:f}});function Q(f,u,z){const j={"aria-label":u,"aria-current":"false",...R.value,...f};return z===!0&&Object.assign(j,{"aria-current":"true",...N.value}),u!==void 0&&(e.toFn!==void 0?j.to=e.toFn(u):j.onClick=()=>{I(u)}),$(Te,j)}return Object.assign(w,{set:I,setByOffset:O}),()=>{const f=[],u=[];let z;if(P.value===!0&&(f.push(Q({key:"bls",disable:e.disable||e.modelValue<=v.value,icon:_.value[0]},v.value)),u.unshift(Q({key:"ble",disable:e.disable||e.modelValue>=r.value,icon:_.value[3]},r.value))),q.value===!0&&(f.push(Q({key:"bdp",disable:e.disable||e.modelValue<=v.value,icon:_.value[1]},e.modelValue-1)),u.unshift(Q({key:"bdn",disable:e.disable||e.modelValue>=r.value,icon:_.value[2]},e.modelValue+1))),e.input!==!0){z=[];const{pgFrom:j,pgTo:ee,marginalStyle:H}=i.value;if(i.value.boundaryStart===!0){const D=v.value===e.modelValue;f.push(Q({key:"bns",style:H,disable:e.disable,label:v.value},v.value,D))}if(i.value.boundaryEnd===!0){const D=r.value===e.modelValue;u.unshift(Q({key:"bne",style:H,disable:e.disable,label:r.value},r.value,D))}i.value.ellipsesStart===!0&&f.push(Q({key:"bes",style:H,disable:e.disable,label:"…",ripple:!1},j-1)),i.value.ellipsesEnd===!0&&u.unshift(Q({key:"bee",style:H,disable:e.disable,label:"…",ripple:!1},ee+1));for(let D=j;D<=ee;D++)z.push(Q({key:`bpg${D}`,style:H,disable:e.disable,label:D},D,D===e.modelValue))}return $("div",{class:M.value,...g.value},[$("div",{class:"q-pagination__content row no-wrap items-center",style:U.value},[...f,e.input===!0?$(ot,{class:"inline",style:{width:`${a.value.length/1.5}em`},type:"number",dense:!0,value:y.value,disable:e.disable,dark:o.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:a.value,min:v.value,max:r.value,...ge.value}):$("div",{class:"q-pagination__middle row justify-center"},z),...u])])}}}),Lt=nt("products",()=>{const C=(a="all")=>`products_${a}`;return{setCache:(a,P="all")=>{const m={products:a,timestamp:Date.now(),category:P};le.set(C(P),m,{expiration:3e5,version:"1.0"})},getCache:(a="all")=>le.get(C(a)),isCacheValid:(a="all")=>!le.isExpired(C(a)),setCategoryCache:a=>{const P={categories:a,timestamp:Date.now()};le.set("categories",P,{expiration:3e5,version:"1.0"})},getCategoryCache:()=>le.get("categories"),isCategoryCacheValid:()=>!le.isExpired("categories")}}),Rt={class:"text-bold"},Dt={class:"text-caption"},Mt={class:"q-mt-sm text-bold price-text"},_t={class:"text-grey"},Et={class:"text-positive q-ml-sm"},Ft=fe({__name:"ProductCard",props:{product:{type:Object,required:!0},color:{type:String,default:"primary"},text:{type:String,default:"white"}},emits:["add-to-cart","view-product"],setup(e,{emit:C}){const w=C,d=s=>{w("add-to-cart",s)},o=s=>{w("view-product",s)},v=s=>s,r=s=>{const a=s.match(/[^.!?]*[.!?]/);return a?a[0]:s};return(s,a)=>(L(),Y(ct,{class:"product tw-w-full tw-max-w-72 tw-mx-auto !tw-bg-primary sm:tw-mx-none tw-transition tw-duration-200 tw-ease-in-out hover:tw-cursor-pointer hover:tw-scale-105",onClick:a[1]||(a[1]=P=>o(e.product))},{default:ne(()=>[E(Vt,{src:v(e.product.image),alt:e.product.name,fit:"contain",class:"sm:tw-h-2/3 tw-w-full tw-max-h-1.5"},null,8,["src","alt"]),E(rt,{class:"tw-flex-grow q-px-sm !tw-pb-0"},{default:ne(()=>[G("div",Rt,oe(e.product.name||e.product.title),1),G("div",Dt,oe(r(e.product.description)),1)]),_:1}),E(it,{class:"row justify-between items-center !tw-pt-0"},{default:ne(()=>[G("div",Mt,[e.product.discount?(L(),Z(ie,{key:0},[G("span",_t,oe(he(we)(e.product.price)),1),G("span",Et,oe(he(we)(e.product.discountedPrice||e.product.price)),1)],64)):(L(),Z(ie,{key:1},[st(oe(he(we)(e.product.price)),1)],64))]),E(Te,{color:e.color,"text-color":e.text,label:s.$t("products.addToCart"),class:"full-width q-mt-md !tw-py-4",onClick:a[0]||(a[0]=ut(P=>d(e.product),["stop"]))},null,8,["color","text-color","label"])]),_:1})]),_:1}))}});let Nt=0;const Ot=["click","keydown"],Qt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Nt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function jt(e,C,w,d){const o=dt(_e,ye);if(o===ye)return console.error("QTab/QRouteTab component needs to be child of QTabs"),ye;const{proxy:v}=ke(),r=S(null),s=S(null),a=S(null),P=n(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),m=n(()=>o.currentModel.value===e.name),q=n(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(m.value===!0?" q-tab--active"+(o.tabProps.value.activeClass?" "+o.tabProps.value.activeClass:"")+(o.tabProps.value.activeColor?` text-${o.tabProps.value.activeColor}`:"")+(o.tabProps.value.activeBgColor?` bg-${o.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&o.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||o.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),x=n(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(o.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),y=n(()=>e.disable===!0||o.hasFocus.value===!0||m.value===!1&&o.hasActiveTab.value===!0?-1:e.tabindex||0);function p(g,A){if(A!==!0&&r.value!==null&&r.value.focus(),e.disable!==!0){o.updateModel({name:e.name}),w("click",g);return}}function M(g){Me(g,[13,32])?p(g,!0):gt(g)!==!0&&g.keyCode>=35&&g.keyCode<=40&&g.altKey!==!0&&g.metaKey!==!0&&o.onKbdNavigate(g.keyCode,v.$el)===!0&&bt(g),w("keydown",g)}function F(){const g=o.tabProps.value.narrowIndicator,A=[],R=$("div",{ref:a,class:["q-tab__indicator",o.tabProps.value.indicatorClass]});e.icon!==void 0&&A.push($(de,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&A.push($("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&A.push(e.alertIcon!==void 0?$(de,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):$("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),g===!0&&A.push(R);const V=[$("div",{class:"q-focus-helper",tabindex:-1,ref:r}),$("div",{class:x.value},mt(C.default,A))];return g===!1&&V.push(R),V}const U={name:n(()=>e.name),rootRef:s,tabIndicatorRef:a,routeData:d};Ee(()=>{o.unregisterTab(U)}),Fe(()=>{o.registerTab(U)});function _(g,A){const R={ref:s,class:q.value,tabindex:y.value,role:"tab","aria-selected":m.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:p,onKeydown:M,...A};return vt($(g,R,F()),[[ft,P.value]])}return{renderTab:_,$tabs:o}}const ve=xe({name:"QTab",props:Qt,emits:Ot,setup(e,{slots:C,emit:w}){const{renderTab:d}=jt(e,C,w);return()=>d("div")}});function Ut(e,C,w){const d=w===!0?["left","right"]:["top","bottom"];return`absolute-${C===!0?d[0]:d[1]}${e?` text-${e}`:""}`}const zt=["left","center","right","justify"],Oe=xe({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>zt.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:C,emit:w}){const{proxy:d}=ke(),{$q:o}=d,{registerTick:v}=Ce(),{registerTick:r}=Ce(),{registerTick:s}=Ce(),{registerTimeout:a,removeTimeout:P}=Re(),{registerTimeout:m,removeTimeout:q}=Re(),x=S(null),y=S(null),p=S(e.modelValue),M=S(!1),F=S(!0),U=S(!1),_=S(!1),g=[],A=S(0),R=S(!1);let V=null,N=null,i;const I=n(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Ut(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),O=n(()=>{const t=A.value,l=p.value;for(let c=0;c<t;c++)if(g[c].name.value===l)return!0;return!1}),ge=n(()=>`q-tabs__content--align-${M.value===!0?"left":_.value===!0?"justify":e.align}`),Q=n(()=>`q-tabs row no-wrap items-center q-tabs--${M.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),f=n(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+ge.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),u=n(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),z=n(()=>e.vertical!==!0&&o.lang.rtl===!0),j=n(()=>ht===!1&&z.value===!0);J(z,ae),J(()=>e.modelValue,t=>{ee({name:t,setCurrent:!0,skipEmit:!0})}),J(()=>e.outsideArrows,H);function ee({name:t,setCurrent:l,skipEmit:c}){p.value!==t&&(c!==!0&&e["onUpdate:modelValue"]!==void 0&&w("update:modelValue",t),(l===!0||e["onUpdate:modelValue"]===void 0)&&(Qe(p.value,t),p.value=t))}function H(){v(()=>{x.value&&D({width:x.value.offsetWidth,height:x.value.offsetHeight})})}function D(t){if(u.value===void 0||y.value===null)return;const l=t[u.value.container],c=Math.min(y.value[u.value.scroll],Array.prototype.reduce.call(y.value.children,(T,h)=>T+(h[u.value.content]||0),0)),k=l>0&&c>l;M.value=k,k===!0&&r(ae),_.value=l<parseInt(e.breakpoint,10)}function Qe(t,l){const c=t!=null&&t!==""?g.find(T=>T.name.value===t):null,k=l!=null&&l!==""?g.find(T=>T.name.value===l):null;if(se===!0)se=!1;else if(c&&k){const T=c.tabIndicatorRef.value,h=k.tabIndicatorRef.value;V!==null&&(clearTimeout(V),V=null),T.style.transition="none",T.style.transform="none",h.style.transition="none",h.style.transform="none";const b=T.getBoundingClientRect(),B=h.getBoundingClientRect();h.style.transform=e.vertical===!0?`translate3d(0,${b.top-B.top}px,0) scale3d(1,${B.height?b.height/B.height:1},1)`:`translate3d(${b.left-B.left}px,0,0) scale3d(${B.width?b.width/B.width:1},1,1)`,s(()=>{V=setTimeout(()=>{V=null,h.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",h.style.transform="none"},70)})}k&&M.value===!0&&te(k.rootRef.value)}function te(t){const{left:l,width:c,top:k,height:T}=y.value.getBoundingClientRect(),h=t.getBoundingClientRect();let b=e.vertical===!0?h.top-k:h.left-l;if(b<0){y.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(b),ae();return}b+=e.vertical===!0?h.height-T:h.width-c,b>0&&(y.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(b),ae())}function ae(){const t=y.value;if(t===null)return;const l=t.getBoundingClientRect(),c=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);z.value===!0?(F.value=Math.ceil(c+l.width)<t.scrollWidth-1,U.value=c>0):(F.value=c>0,U.value=e.vertical===!0?Math.ceil(c+l.height)<t.scrollHeight:Math.ceil(c+l.width)<t.scrollWidth)}function Pe(t){N!==null&&clearInterval(N),N=setInterval(()=>{ze(t)===!0&&W()},5)}function qe(){Pe(j.value===!0?Number.MAX_SAFE_INTEGER:0)}function pe(){Pe(j.value===!0?0:Number.MAX_SAFE_INTEGER)}function W(){N!==null&&(clearInterval(N),N=null)}function je(t,l){const c=Array.prototype.filter.call(y.value.children,B=>B===l||B.matches&&B.matches(".q-tab.q-focusable")===!0),k=c.length;if(k===0)return;if(t===36)return te(c[0]),c[0].focus(),!0;if(t===35)return te(c[k-1]),c[k-1].focus(),!0;const T=t===(e.vertical===!0?38:37),h=t===(e.vertical===!0?40:39),b=T===!0?-1:h===!0?1:void 0;if(b!==void 0){const B=z.value===!0?-1:1,K=c.indexOf(l)+b*B;return K>=0&&K<k&&(te(c[K]),c[K].focus({preventScroll:!0})),!0}}const Ue=n(()=>j.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,l)=>{t.scrollLeft=-l}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,l)=>{t.scrollTop=l}}:{get:t=>t.scrollLeft,set:(t,l)=>{t.scrollLeft=l}});function ze(t){const l=y.value,{get:c,set:k}=Ue.value;let T=!1,h=c(l);const b=t<h?-1:1;return h+=b*5,h<0?(T=!0,h=0):(b===-1&&h<=t||b===1&&h>=t)&&(T=!0,h=t),k(l,h),ae(),T}function Ae(t,l){for(const c in t)if(t[c]!==l[c])return!1;return!0}function He(){let t=null,l={matchedLen:0,queryDiff:9999,hrefLen:0};const c=g.filter(b=>b.routeData!==void 0&&b.routeData.hasRouterLink.value===!0),{hash:k,query:T}=d.$route,h=Object.keys(T).length;for(const b of c){const B=b.routeData.exact.value===!0;if(b.routeData[B===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:K,query:be,matched:Je,href:Ye}=b.routeData.resolvedLink.value,me=Object.keys(be).length;if(B===!0){if(K!==k||me!==h||Ae(T,be)===!1)continue;t=b.name.value;break}if(K!==""&&K!==k||me!==0&&Ae(be,T)===!1)continue;const X={matchedLen:Je.length,queryDiff:h-me,hrefLen:Ye.length-K.length};if(X.matchedLen>l.matchedLen){t=b.name.value,l=X;continue}else if(X.matchedLen!==l.matchedLen)continue;if(X.queryDiff<l.queryDiff)t=b.name.value,l=X;else if(X.queryDiff!==l.queryDiff)continue;X.hrefLen>l.hrefLen&&(t=b.name.value,l=X)}if(t===null&&g.some(b=>b.routeData===void 0&&b.name.value===p.value)===!0){se=!1;return}ee({name:t,setCurrent:!0})}function Ke(t){if(P(),R.value!==!0&&x.value!==null&&t.target&&typeof t.target.closest=="function"){const l=t.target.closest(".q-tab");l&&x.value.contains(l)===!0&&(R.value=!0,M.value===!0&&te(l))}}function We(){a(()=>{R.value=!1},30)}function re(){Be.avoidRouteWatcher===!1?m(He):q()}function $e(){if(i===void 0){const t=J(()=>d.$route.fullPath,re);i=()=>{t(),i=void 0}}}function Xe(t){g.push(t),A.value++,H(),t.routeData===void 0||d.$route===void 0?m(()=>{if(M.value===!0){const l=p.value,c=l!=null&&l!==""?g.find(k=>k.name.value===l):null;c&&te(c.rootRef.value)}}):($e(),t.routeData.hasRouterLink.value===!0&&re())}function Ge(t){g.splice(g.indexOf(t),1),A.value--,H(),i!==void 0&&t.routeData!==void 0&&(g.every(l=>l.routeData===void 0)===!0&&i(),re())}const Be={currentModel:p,tabProps:I,hasFocus:R,hasActiveTab:O,registerTab:Xe,unregisterTab:Ge,verifyRouteModel:re,updateModel:ee,onKbdNavigate:je,avoidRouteWatcher:!1};yt(_e,Be);function Ve(){V!==null&&clearTimeout(V),W(),i!==void 0&&i()}let Ie,se;return Ee(Ve),Ct(()=>{Ie=i!==void 0,Ve()}),wt(()=>{Ie===!0&&($e(),se=!0,re()),H()}),()=>$("div",{ref:x,class:Q.value,role:"tablist",onFocusin:Ke,onFocusout:We},[$(xt,{onResize:D}),$("div",{ref:y,class:f.value,onScroll:ae},kt(C.default)),$(de,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(F.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||o.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:qe,onTouchstartPassive:qe,onMouseupPassive:W,onMouseleavePassive:W,onTouchendPassive:W}),$(de,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(U.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||o.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:pe,onTouchstartPassive:pe,onMouseupPassive:W,onMouseleavePassive:W,onTouchendPassive:W})])}}),Ht=fe({__name:"CategorySelect",props:{selectedCategory:{type:String,required:!0},categories:{type:Array,required:!0},color:{type:String,required:!0},text:{type:String,required:!0}},emits:["update:selectedCategory"],setup(e,{emit:C}){const w=e,d=C,o=n({get:()=>w.selectedCategory,set:r=>{d("update:selectedCategory",r)}}),v=r=>r?r.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" "):"";return(r,s)=>(L(),Z("div",null,[E(Oe,{modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=a=>o.value=a),class:"q-mb-md gt-sm","active-color":e.color,"active-bg-color":e.color,"text-color":e.color,"inactive-color":e.color,align:"justify"},{default:ne(()=>[E(ve,{name:"all",label:r.$t("products.categories.allProducts")},null,8,["label"]),(L(!0),Z(ie,null,Se(e.categories,a=>(L(),Y(ve,{key:a,name:a,label:v(a)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),E(Tt,{modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=a=>o.value=a),options:["all",...e.categories],class:"q-my-md lt-md",color:e.color,"text-color":e.text,label:r.$t("products.selectCategory"),outlined:"","option-label":a=>a==="all"?r.$t("products.categories.allProducts"):v(a)},null,8,["modelValue","options","color","text-color","label","option-label"])]))}}),Kt=fe({__name:"ProductTabs",props:{selectedCategory:{type:String,required:!0},scrollOffset:{type:Number,default:0},categories:{type:Array,required:!0}},emits:["update:selectedCategory"],setup(e,{emit:C}){const w=e,d=C,o=Ne(),v=S(!1),r=S(null),s=S(w.selectedCategory),a=n(()=>({stickyBgColor:o.dark.isActive?"dark":"light",activeBgColor:(o.dark.isActive,"white"),activeTextColor:o.dark.isActive?"dark":"black",backgroundColor:o.dark.isActive?"white":"black",textColor:o.dark.isActive?"black":"white"}));J(()=>w.scrollOffset,m=>{v.value=m>70,v.value&&r.value?r.value.style.top="70px":r.value&&(r.value.style.top="initial")},{immediate:!0}),J(()=>w.selectedCategory,m=>{m!==s.value&&(s.value=m)}),J(()=>s.value,m=>{d("update:selectedCategory",m)});const P=m=>m.split(" ").map(q=>q.charAt(0).toUpperCase()+q.slice(1)).join(" ");return(m,q)=>(L(),Z("div",{class:St(["sticky tw-transition-all tw-duration-300",v.value?`tw-fixed tw-left-0 tw-w-screen tw-z-50 tw-px-3 tw-shadow-md !tw-py-0 !tw-text-xs tw-bg-[var(--q-bg-${a.value.stickyBgColor})] sticky-top`:""])},[E(Oe,{modelValue:s.value,"onUpdate:modelValue":q[0]||(q[0]=x=>s.value=x),"indicator-color":"transparent",class:"gt-sm !tw-max-w-screen-xl tw-mx-auto","active-color":a.value.activeTextColor,"active-bg-color":a.value.activeBgColor,"text-color":a.value.backgroundColor,"inactive-color":a.value.textColor,align:"justify"},{default:ne(()=>[E(ve,{name:"all",label:m.$t("products.categories.allProducts")},null,8,["label"]),(L(!0),Z(ie,null,Se(e.categories,x=>(L(),Y(ve,{key:x,name:x,label:P(x)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),E(Ht,{"selected-category":s.value,"onUpdate:selectedCategory":q[1]||(q[1]=x=>s.value=x),categories:e.categories,color:a.value.backgroundColor,text:a.value.textColor,class:"q-my-md lt-md"},null,8,["selected-category","categories","color","text"])],2))}}),Wt=Pt(Kt,[["__scopeId","data-v-5fc1c41f"]]),Xt={class:"q-my-md tw-font-serif"},Gt={class:"tw-container tw-mx-auto tw-mb-8 grid justify-center"},Jt={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 xl:tw-grid-cols-4 tw-gap-4"},ce=10,aa=fe({__name:"ProductsPage",props:{scrollOffset:{type:Number,required:!0}},setup(e){const C=e,w=qt(),d=Ne(),o=pt(),v=Lt(),{t:r}=At(),s="https://e-comm-backend-16bba1769344.herokuapp.com",a=S([]),P=S(1),m=S("all"),q=S([]),x=S(!0),y=n(()=>({activeTextColor:d.dark.isActive?"dark":"black",backgroundColor:d.dark.isActive?"white":"black",textColor:d.dark.isActive?"black":"white",paginationColor:d.dark.isActive?"light":"dark",paginationTextColor:d.dark.isActive?"white":"black",paginationActiveColor:d.dark.isActive?"white":"dark",paginationActiveTextColor:d.dark.isActive?"black":"white"})),p=n(()=>a.value.length?m.value==="all"?a.value:a.value.filter(i=>i.category===m.value):[]),M=n(()=>p.value.slice((P.value-1)*ce,P.value*ce)),F=n(()=>Math.ceil(a.value.length/ce)),U=n(()=>C.scrollOffset>300),_=()=>{const i=document.querySelector(".q-page-container");console.log("scrollArea",i.offsetHeight),i?i.scrollTo({top:0,behavior:"smooth"}):window.scrollTo({top:0,behavior:"smooth"})},g=i=>{w.addItem({...i,quantity:1}),d.notify({color:"positive",message:r("products.itemAdded"),icon:"check_circle"})},A=i=>{o.push(`/products/${i.id}`)},R=async i=>{m.value=i,P.value=1,await N(i)},V=async()=>{try{if(x.value=!0,v.isCategoryCacheValid()){const I=v.getCategoryCache();if(I){q.value=I.categories;return}}const i=await fetch(`${s}/products/categories`);q.value=await i.json(),v.setCategoryCache(q.value)}catch(i){console.error("Error fetching categories:",i)}finally{x.value=!1}},N=async(i="all")=>{d.loading.show();try{if(v.isCacheValid(i)){const O=v.getCache(i);if(O){a.value=O.products;return}}const I=await fetch(`${s}/products${i!=="all"?`/category/${i}`:""}`);a.value=await I.json(),v.setCache(a.value,i)}catch(I){console.error("Error fetching products:",I),a.value=[]}finally{d.loading.hide()}};return Fe(()=>{V(),N()}),(i,I)=>(L(),Y(Bt,{padding:"",class:"tw-relative"},{default:ne(()=>[G("h5",Xt,oe(i.$t("products.title")),1),E(Wt,{"selected-category":m.value,categories:q.value,"scroll-offset":e.scrollOffset,"onUpdate:selectedCategory":R},null,8,["selected-category","categories","scroll-offset"]),E($t,{class:"q-my-md"}),G("div",Gt,[G("div",Jt,[(L(!0),Z(ie,null,Se(M.value,O=>(L(),Y(Ft,{key:O.id,product:O,color:y.value.backgroundColor,text:y.value.textColor,onAddToCart:g,onViewProduct:A},null,8,["product","color","text"]))),128))])]),a.value.length>ce?(L(),Y(It,{key:0,modelValue:P.value,"onUpdate:modelValue":[I[0]||(I[0]=O=>P.value=O),_],max:F.value,"boundary-numbers":"",class:"tw-py-8 tw-flex tw-justify-center tw-items-center !tw-gap-8",color:y.value.paginationColor,"text-color":y.value.paginationTextColor,"active-color":y.value.paginationActiveColor,"active-text-color":y.value.paginationActiveTextColor},null,8,["modelValue","max","color","text-color","active-color","active-text-color"])):De("",!0),U.value?(L(),Y(Te,{key:1,class:"!tw-fixed !tw-bottom-12 !tw-right-4 !tw-p-2 tw-z-40",round:"",color:"white","text-color":"black",icon:"arrow_upward",onClick:_})):De("",!0)]),_:1}))}});export{aa as default};
