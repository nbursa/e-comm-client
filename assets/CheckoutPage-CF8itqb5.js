import{c as se,r as $,p as Vt,f as tn,o as nn,a as rn,e as Lt,h as L,g as te,i as le,v as on,s as oe,n as an,j as sn,k as ln,T as xt,l as D,Q as un,w as cn,R as dn,m as fn,q as ne,t as Ze,x as hn,y as et,z as gn,A as ce,B as Ce,C as tt,D as mn,E as be,F as pn,G as vn,H as wn,K as $t,I as yn,J as Ee,L as Ut,M as Cn,N as bn,O as En,P as Sn,S as Ft,U as F,V as ge,W as M,X as _,Y as He,Z as k,_ as V,$ as K,a0 as ee,a1 as Qt,a2 as Ot,a3 as zt,a4 as me,a5 as ie,a6 as Ye,a7 as Pn,a8 as Kt,a9 as Bn,aa as qn,ab as An,ac as In,ad as Nn,ae as j,af as de,ag as W,ah as nt,ai as X,aj as _n,ak as fe,al as Rn,am as Tn,an as rt}from"./index-D3B1opgj.js";import{f as ae,Q as kn}from"./currencyUtils-CP1uyHRf.js";import{Q as Mn}from"./QPage-JGqB_yYB.js";import"./rates-BShLlSQf.js";const ot=se({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:o,emit:a}){const r=le(),n=$(null);let t=0;const i=[];function l(d){const b=typeof d=="boolean"?d:e.noErrorFocus!==!0,g=++t,y=(C,E)=>{a(`validation${C===!0?"Success":"Error"}`,E)},v=C=>{const E=C.validate();return typeof E.then=="function"?E.then(R=>({valid:R,comp:C}),R=>({valid:!1,comp:C,err:R})):Promise.resolve({valid:E,comp:C})};return(e.greedy===!0?Promise.all(i.map(v)).then(C=>C.filter(E=>E.valid!==!0)):i.reduce((C,E)=>C.then(()=>v(E).then(R=>{if(R.valid===!1)return Promise.reject(R)})),Promise.resolve()).catch(C=>[C])).then(C=>{if(C===void 0||C.length===0)return g===t&&y(!0),!0;if(g===t){const{comp:E,err:R}=C[0];if(R!==void 0&&console.error(R),y(!1,E),b===!0){const S=C.find(({comp:A})=>typeof A.focus=="function"&&on(A.$)===!1);S!==void 0&&S.comp.focus()}}return!1})}function s(){t++,i.forEach(d=>{typeof d.resetValidation=="function"&&d.resetValidation()})}function c(d){d!==void 0&&oe(d);const b=t+1;l().then(g=>{b===t&&g===!0&&(e.onSubmit!==void 0?a("submit",d):d!==void 0&&d.target!==void 0&&typeof d.target.submit=="function"&&d.target.submit())})}function f(d){d!==void 0&&oe(d),a("reset"),an(()=>{s(),e.autofocus===!0&&e.noResetFocus!==!0&&w()})}function w(){sn(()=>{if(n.value===null)return;const d=n.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||n.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||n.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(n.value.querySelectorAll("[tabindex]"),b=>b.tabIndex!==-1);d?.focus({preventScroll:!0})})}Vt(tn,{bindComponent(d){i.push(d)},unbindComponent(d){const b=i.indexOf(d);b!==-1&&i.splice(b,1)}});let h=!1;return nn(()=>{h=!0}),rn(()=>{h===!0&&e.autofocus===!0&&w()}),Lt(()=>{e.autofocus===!0&&w()}),Object.assign(r.proxy,{validate:l,resetValidation:s,submit:c,reset:f,focus:w,getValidationComponents:()=>i}),()=>L("form",{class:"q-form",ref:n,onSubmit:c,onReset:f},te(o.default))}}),Dn=se({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:o,emit:a}){let r=!1,n,t,i=null,l=null,s,c;function f(){n&&n(),n=null,r=!1,i!==null&&(clearTimeout(i),i=null),l!==null&&(clearTimeout(l),l=null),t!==void 0&&t.removeEventListener("transitionend",s),s=null}function w(g,y,v){y!==void 0&&(g.style.height=`${y}px`),g.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,r=!0,n=v}function h(g,y){g.style.overflowY=null,g.style.height=null,g.style.transition=null,f(),y!==c&&a(y)}function d(g,y){let v=0;t=g,r===!0?(f(),v=g.offsetHeight===g.scrollHeight?0:void 0):(c="hide",g.style.overflowY="hidden"),w(g,v,y),i=setTimeout(()=>{i=null,g.style.height=`${g.scrollHeight}px`,s=q=>{l=null,(Object(q)!==q||q.target===g)&&h(g,"show")},g.addEventListener("transitionend",s),l=setTimeout(s,e.duration*1.1)},100)}function b(g,y){let v;t=g,r===!0?f():(c="show",g.style.overflowY="hidden",v=g.scrollHeight),w(g,v,y),i=setTimeout(()=>{i=null,g.style.height=0,s=q=>{l=null,(Object(q)!==q||q.target===g)&&h(g,"hide")},g.addEventListener("transitionend",s),l=setTimeout(s,e.duration*1.1)},100)}return ln(()=>{r===!0&&f()}),()=>L(xt,{css:!1,appear:e.appear,onEnter:d,onLeave:b},o.default)}}),jt=se({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:o}){const{proxy:{$q:a}}=le(),r=$(null),n=D(()=>e.stepper.modelValue===e.step.name),t=D(()=>{const y=e.step.disable;return y===!0||y===""}),i=D(()=>{const y=e.step.error;return y===!0||y===""}),l=D(()=>{const y=e.step.done;return t.value===!1&&(y===!0||y==="")}),s=D(()=>{const y=e.step.headerNav,v=y===!0||y===""||y===void 0;return t.value===!1&&e.stepper.headerNav&&v}),c=D(()=>e.step.prefix&&(n.value===!1||e.stepper.activeIcon==="none")&&(i.value===!1||e.stepper.errorIcon==="none")&&(l.value===!1||e.stepper.doneIcon==="none")),f=D(()=>{const y=e.step.icon||e.stepper.inactiveIcon;if(n.value===!0){const v=e.step.activeIcon||e.stepper.activeIcon;return v==="none"?y:v||a.iconSet.stepper.active}if(i.value===!0){const v=e.step.errorIcon||e.stepper.errorIcon;return v==="none"?y:v||a.iconSet.stepper.error}if(t.value===!1&&l.value===!0){const v=e.step.doneIcon||e.stepper.doneIcon;return v==="none"?y:v||a.iconSet.stepper.done}return y}),w=D(()=>{const y=i.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(n.value===!0){const v=e.step.activeColor||e.stepper.activeColor||e.step.color;return v!==void 0?v:y}return y!==void 0?y:t.value===!1&&l.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),h=D(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(w.value!==void 0?` text-${w.value}`:"")+(i.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(c.value===!0?"prefix":"icon"):"")+(n.value===!0?" q-stepper__tab--active":"")+(l.value===!0?" q-stepper__tab--done":"")+(s.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(t.value===!0?" q-stepper__tab--disabled":"")),d=D(()=>e.stepper.headerNav!==!0?!1:s.value);function b(){r.value!==null&&r.value.focus(),n.value===!1&&e.goToPanel(e.step.name)}function g(y){y.keyCode===13&&n.value===!1&&e.goToPanel(e.step.name)}return()=>{const y={class:h.value};s.value===!0&&(y.onClick=b,y.onKeyup=g,Object.assign(y,t.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:o.tabindex||0}));const v=[L("div",{class:"q-focus-helper",tabindex:-1,ref:r}),L("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[L("span",{class:"row flex-center"},[c.value===!0?e.step.prefix:L(un,{name:f.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const q=[L("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&q.push(L("div",{class:"q-stepper__caption"},e.step.caption)),v.push(L("div",{class:"q-stepper__label q-stepper__line relative-position"},q))}return cn(L("div",y,v),[[dn,d.value]])}}});function Vn(e){const o=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((a,r)=>{const n=parseFloat(a);n&&(o[r]=n)}),o}const Ln=fn({name:"touch-swipe",beforeMount(e,{value:o,arg:a,modifiers:r}){if(r.mouse!==!0&&ne.has.touch!==!0)return;const n=r.mouseCapture===!0?"Capture":"",t={handler:o,sensitivity:Vn(a),direction:Ze(r),noop:hn,mouseStart(i){et(i,t)&&gn(i)&&(ce(t,"temp",[[document,"mousemove","move",`notPassive${n}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(i,!0))},touchStart(i){if(et(i,t)){const l=i.target;ce(t,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","notPassiveCapture"],[l,"touchend","end","notPassiveCapture"]]),t.start(i)}},start(i,l){ne.is.firefox===!0&&Ce(e,!0);const s=tt(i);t.event={x:s.left,y:s.top,time:Date.now(),mouse:l===!0,dir:!1}},move(i){if(t.event===void 0)return;if(t.event.dir!==!1){oe(i);return}const l=Date.now()-t.event.time;if(l===0)return;const s=tt(i),c=s.left-t.event.x,f=Math.abs(c),w=s.top-t.event.y,h=Math.abs(w);if(t.event.mouse!==!0){if(f<t.sensitivity[1]&&h<t.sensitivity[1]){t.end(i);return}}else if(window.getSelection().toString()!==""){t.end(i);return}else if(f<t.sensitivity[2]&&h<t.sensitivity[2])return;const d=f/l,b=h/l;t.direction.vertical===!0&&f<h&&f<100&&b>t.sensitivity[0]&&(t.event.dir=w<0?"up":"down"),t.direction.horizontal===!0&&f>h&&h<100&&d>t.sensitivity[0]&&(t.event.dir=c<0?"left":"right"),t.direction.up===!0&&f<h&&w<0&&f<100&&b>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&f<h&&w>0&&f<100&&b>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&f>h&&c<0&&h<100&&d>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&f>h&&c>0&&h<100&&d>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(oe(i),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),mn(),t.styleCleanup=g=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const y=()=>{document.body.classList.remove("no-pointer-events--children")};g===!0?setTimeout(y,50):y()}),t.handler({evt:i,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:l,distance:{x:f,y:h}})):t.end(i)},end(i){t.event!==void 0&&(be(t,"temp"),ne.is.firefox===!0&&Ce(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),i!==void 0&&t.event.dir!==!1&&oe(i),t.event=void 0)}};if(e.__qtouchswipe=t,r.mouse===!0){const i=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";ce(t,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}ne.has.touch===!0&&ce(t,"main",[[e,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,o){const a=e.__qtouchswipe;a!==void 0&&(o.oldValue!==o.value&&(typeof o.value!="function"&&a.end(),a.handler=o.value),a.direction=Ze(o.modifiers))},beforeUnmount(e){const o=e.__qtouchswipe;o!==void 0&&(be(o,"main"),be(o,"temp"),ne.is.firefox===!0&&Ce(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(),delete e.__qtouchswipe)}});function Ht(){let e=Object.create(null);return{getCache:(o,a)=>e[o]===void 0?e[o]=typeof a=="function"?a():a:e[o],setCache(o,a){e[o]=a},hasCache(o){return Object.hasOwnProperty.call(e,o)},clearCache(o){o!==void 0?delete e[o]:e=Object.create(null)}}}const xn={name:{required:!0},disable:Boolean},it={setup(e,{slots:o}){return()=>L("div",{class:"q-panel scroll",role:"tabpanel"},te(o.default))}},$n={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Un=["update:modelValue","beforeTransition","transition"];function Fn(){const{props:e,emit:o,proxy:a}=le(),{getCache:r}=Ht(),{registerTimeout:n}=pn();let t,i;const l=$(null),s={value:null};function c(u){const T=e.vertical===!0?"up":"left";B((a.$q.lang.rtl===!0?-1:1)*(u.direction===T?1:-1))}const f=D(()=>[[Ln,c,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),w=D(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),h=D(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),d=D(()=>`--q-transition-duration: ${e.transitionDuration}ms`),b=D(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),g=D(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),y=D(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);vn(()=>e.modelValue,(u,T)=>{const x=E(u)===!0?R(u):-1;i!==!0&&A(x===-1?0:x<R(T)?-1:1),s.value!==x&&(s.value=x,o("beforeTransition",u,T),n(()=>{o("transition",u,T)},e.transitionDuration))});function v(){B(1)}function q(){B(-1)}function C(u){o("update:modelValue",u)}function E(u){return u!=null&&u!==""}function R(u){return t.findIndex(T=>T.props.name===u&&T.props.disable!==""&&T.props.disable!==!0)}function S(){return t.filter(u=>u.props.disable!==""&&u.props.disable!==!0)}function A(u){const T=u!==0&&e.animated===!0&&s.value!==-1?"q-transition--"+(u===-1?w.value:h.value):null;l.value!==T&&(l.value=T)}function B(u,T=s.value){let x=T+u;for(;x!==-1&&x<t.length;){const J=t[x];if(J!==void 0&&J.props.disable!==""&&J.props.disable!==!0){A(u),i=!0,o("update:modelValue",J.props.name),setTimeout(()=>{i=!1});return}x+=u}e.infinite===!0&&t.length!==0&&T!==-1&&T!==t.length&&B(u,u===-1?t.length:-1)}function P(){const u=R(e.modelValue);return s.value!==u&&(s.value=u),!0}function N(){const u=E(e.modelValue)===!0&&P()&&t[s.value];return e.keepAlive===!0?[L($t,g.value,[L(y.value===!0?r(b.value,()=>({...it,name:b.value})):it,{key:b.value,style:d.value},()=>u)])]:[L("div",{class:"q-panel scroll",style:d.value,key:b.value,role:"tabpanel"},[u])]}function I(){if(t.length!==0)return e.animated===!0?[L(xt,{name:l.value},N)]:N()}function p(u){return t=wn(te(u.default,[])).filter(T=>T.props!==null&&T.props.slot===void 0&&E(T.props.name)===!0),t.length}function m(){return t}return Object.assign(a,{next:v,previous:q,goTo:C}),{panelIndex:s,panelDirectives:f,updatePanelsList:p,updatePanelIndex:P,getPanelContent:I,getEnabledPanels:S,getPanels:m,isValidPanelName:E,keepAliveProps:g,needsUniqueKeepAliveWrapper:y,goToPanelByOffset:B,goToPanel:C,nextPanel:v,previousPanel:q}}function Yt(e){return L("div",{class:"q-stepper__step-content"},[L("div",{class:"q-stepper__step-inner"},te(e.default))])}const at={setup(e,{slots:o}){return()=>Yt(o)}},st=se({name:"QStep",props:{...xn,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:o,emit:a}){const{proxy:{$q:r}}=le(),n=yn(Ut,Ee);if(n===Ee)return console.error("QStep needs to be a child of QStepper"),Ee;const{getCache:t}=Ht(),i=$(null),l=D(()=>n.value.modelValue===e.name),s=D(()=>r.platform.is.ios!==!0&&r.platform.is.chrome===!0||l.value!==!0||n.value.vertical!==!0?{}:{onScroll(w){const{target:h}=w;h.scrollTop>0&&(h.scrollTop=0),e.onScroll!==void 0&&a("scroll",w)}}),c=D(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function f(){const w=n.value.vertical;return w===!0&&n.value.keepAlive===!0?L($t,n.value.keepAliveProps.value,l.value===!0?[L(n.value.needsUniqueKeepAliveWrapper.value===!0?t(c.value,()=>({...at,name:c.value})):at,{key:c.value},o.default)]:void 0):w!==!0||l.value===!0?Yt(o):void 0}return()=>L("div",{ref:i,class:"q-stepper__step",role:"tabpanel",...s.value},n.value.vertical===!0?[L(jt,{stepper:n.value,step:e,goToPanel:n.value.goToPanel}),n.value.animated===!0?L(Dn,f):f()]:[f()])}}),Qn=/(-\w)/g;function On(e){const o={};for(const a in e){const r=a.replace(Qn,n=>n[1].toUpperCase());o[r]=e[a]}return o}const zn=se({name:"QStepper",props:{...Cn,...$n,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:Un,setup(e,{slots:o}){const a=le(),r=bn(e,a.proxy.$q),{updatePanelsList:n,isValidPanelName:t,updatePanelIndex:i,getPanelContent:l,getPanels:s,panelDirectives:c,goToPanel:f,keepAliveProps:w,needsUniqueKeepAliveWrapper:h}=Fn();Vt(Ut,D(()=>({goToPanel:f,keepAliveProps:w,needsUniqueKeepAliveWrapper:h,...e})));const d=D(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(r.value===!0?" q-stepper--dark q-dark":"")),b=D(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function g(){const y=te(o.message,[]);if(e.vertical===!0){t(e.modelValue)&&i();const v=L("div",{class:"q-stepper__content"},te(o.default));return y===void 0?[v]:y.concat(v)}return[L("div",{class:b.value},s().map(v=>{const q=On(v.props);return L(jt,{key:q.name,stepper:e,step:q,goToPanel:f})})),y,Sn("div",{class:"q-stepper__content q-panel-parent"},l(),"cont",e.swipeable,()=>c.value)]}return()=>(n(o),L("div",{class:d.value},En(o.navigation,g())))}});function Kn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Z={},Se,lt;function jn(){return lt||(lt=1,Se=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Se}var Pe={},z={},ut;function H(){if(ut)return z;ut=1;let e;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return z.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},z.getSymbolTotalCodewords=function(r){return o[r]},z.getBCHDigit=function(a){let r=0;for(;a!==0;)r++,a>>>=1;return r},z.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},z.isKanjiModeEnabled=function(){return typeof e<"u"},z.toSJIS=function(r){return e(r)},z}var Be={},ct;function Je(){return ct||(ct=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function o(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+a)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,n){if(e.isValid(r))return r;try{return o(r)}catch{return n}}}(Be)),Be}var qe,dt;function Hn(){if(dt)return qe;dt=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(o){const a=Math.floor(o/8);return(this.buffer[a]>>>7-o%8&1)===1},put:function(o,a){for(let r=0;r<a;r++)this.putBit((o>>>a-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){const a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),o&&(this.buffer[a]|=128>>>this.length%8),this.length++}},qe=e,qe}var Ae,ft;function Yn(){if(ft)return Ae;ft=1;function e(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}return e.prototype.set=function(o,a,r,n){const t=o*this.size+a;this.data[t]=r,n&&(this.reservedBit[t]=!0)},e.prototype.get=function(o,a){return this.data[o*this.size+a]},e.prototype.xor=function(o,a,r){this.data[o*this.size+a]^=r},e.prototype.isReserved=function(o,a){return this.reservedBit[o*this.size+a]},Ae=e,Ae}var Ie={},ht;function Jn(){return ht||(ht=1,function(e){const o=H().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const n=Math.floor(r/7)+2,t=o(r),i=t===145?26:Math.ceil((t-13)/(2*n-2))*2,l=[t-7];for(let s=1;s<n-1;s++)l[s]=l[s-1]-i;return l.push(6),l.reverse()},e.getPositions=function(r){const n=[],t=e.getRowColCoords(r),i=t.length;for(let l=0;l<i;l++)for(let s=0;s<i;s++)l===0&&s===0||l===0&&s===i-1||l===i-1&&s===0||n.push([t[l],t[s]]);return n}}(Ie)),Ie}var Ne={},gt;function Gn(){if(gt)return Ne;gt=1;const e=H().getSymbolSize,o=7;return Ne.getPositions=function(r){const n=e(r);return[[0,0],[n-o,0],[0,n-o]]},Ne}var _e={},mt;function Wn(){return mt||(mt=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const o={N1:3,N2:3,N3:40,N4:10};e.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},e.from=function(n){return e.isValid(n)?parseInt(n,10):void 0},e.getPenaltyN1=function(n){const t=n.size;let i=0,l=0,s=0,c=null,f=null;for(let w=0;w<t;w++){l=s=0,c=f=null;for(let h=0;h<t;h++){let d=n.get(w,h);d===c?l++:(l>=5&&(i+=o.N1+(l-5)),c=d,l=1),d=n.get(h,w),d===f?s++:(s>=5&&(i+=o.N1+(s-5)),f=d,s=1)}l>=5&&(i+=o.N1+(l-5)),s>=5&&(i+=o.N1+(s-5))}return i},e.getPenaltyN2=function(n){const t=n.size;let i=0;for(let l=0;l<t-1;l++)for(let s=0;s<t-1;s++){const c=n.get(l,s)+n.get(l,s+1)+n.get(l+1,s)+n.get(l+1,s+1);(c===4||c===0)&&i++}return i*o.N2},e.getPenaltyN3=function(n){const t=n.size;let i=0,l=0,s=0;for(let c=0;c<t;c++){l=s=0;for(let f=0;f<t;f++)l=l<<1&2047|n.get(c,f),f>=10&&(l===1488||l===93)&&i++,s=s<<1&2047|n.get(f,c),f>=10&&(s===1488||s===93)&&i++}return i*o.N3},e.getPenaltyN4=function(n){let t=0;const i=n.data.length;for(let s=0;s<i;s++)t+=n.data[s];return Math.abs(Math.ceil(t*100/i/5)-10)*o.N4};function a(r,n,t){switch(r){case e.Patterns.PATTERN000:return(n+t)%2===0;case e.Patterns.PATTERN001:return n%2===0;case e.Patterns.PATTERN010:return t%3===0;case e.Patterns.PATTERN011:return(n+t)%3===0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(t/3))%2===0;case e.Patterns.PATTERN101:return n*t%2+n*t%3===0;case e.Patterns.PATTERN110:return(n*t%2+n*t%3)%2===0;case e.Patterns.PATTERN111:return(n*t%3+(n+t)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(n,t){const i=t.size;for(let l=0;l<i;l++)for(let s=0;s<i;s++)t.isReserved(s,l)||t.xor(s,l,a(n,s,l))},e.getBestMask=function(n,t){const i=Object.keys(e.Patterns).length;let l=0,s=1/0;for(let c=0;c<i;c++){t(c),e.applyMask(c,n);const f=e.getPenaltyN1(n)+e.getPenaltyN2(n)+e.getPenaltyN3(n)+e.getPenaltyN4(n);e.applyMask(c,n),f<s&&(s=f,l=c)}return l}}(_e)),_e}var he={},pt;function Jt(){if(pt)return he;pt=1;const e=Je(),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return he.getBlocksCount=function(n,t){switch(t){case e.L:return o[(n-1)*4+0];case e.M:return o[(n-1)*4+1];case e.Q:return o[(n-1)*4+2];case e.H:return o[(n-1)*4+3];default:return}},he.getTotalCodewordsCount=function(n,t){switch(t){case e.L:return a[(n-1)*4+0];case e.M:return a[(n-1)*4+1];case e.Q:return a[(n-1)*4+2];case e.H:return a[(n-1)*4+3];default:return}},he}var Re={},re={},vt;function Xn(){if(vt)return re;vt=1;const e=new Uint8Array(512),o=new Uint8Array(256);return function(){let r=1;for(let n=0;n<255;n++)e[n]=r,o[r]=n,r<<=1,r&256&&(r^=285);for(let n=255;n<512;n++)e[n]=e[n-255]}(),re.log=function(r){if(r<1)throw new Error("log("+r+")");return o[r]},re.exp=function(r){return e[r]},re.mul=function(r,n){return r===0||n===0?0:e[o[r]+o[n]]},re}var wt;function Zn(){return wt||(wt=1,function(e){const o=Xn();e.mul=function(r,n){const t=new Uint8Array(r.length+n.length-1);for(let i=0;i<r.length;i++)for(let l=0;l<n.length;l++)t[i+l]^=o.mul(r[i],n[l]);return t},e.mod=function(r,n){let t=new Uint8Array(r);for(;t.length-n.length>=0;){const i=t[0];for(let s=0;s<n.length;s++)t[s]^=o.mul(n[s],i);let l=0;for(;l<t.length&&t[l]===0;)l++;t=t.slice(l)}return t},e.generateECPolynomial=function(r){let n=new Uint8Array([1]);for(let t=0;t<r;t++)n=e.mul(n,new Uint8Array([1,o.exp(t)]));return n}}(Re)),Re}var Te,yt;function er(){if(yt)return Te;yt=1;const e=Zn();function o(a){this.genPoly=void 0,this.degree=a,this.degree&&this.initialize(this.degree)}return o.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},o.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(r.length+this.degree);n.set(r);const t=e.mod(n,this.genPoly),i=this.degree-t.length;if(i>0){const l=new Uint8Array(this.degree);return l.set(t,i),l}return t},Te=o,Te}var ke={},Me={},De={},Ct;function Gt(){return Ct||(Ct=1,De.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}),De}var U={},bt;function Wt(){if(bt)return U;bt=1;const e="[0-9]+",o="[A-Z $%*+\\-./:]+";let a="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";a=a.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+a+`)(?:.|[\r
]))+`;U.KANJI=new RegExp(a,"g"),U.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),U.BYTE=new RegExp(r,"g"),U.NUMERIC=new RegExp(e,"g"),U.ALPHANUMERIC=new RegExp(o,"g");const n=new RegExp("^"+a+"$"),t=new RegExp("^"+e+"$"),i=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return U.testKanji=function(s){return n.test(s)},U.testNumeric=function(s){return t.test(s)},U.testAlphanumeric=function(s){return i.test(s)},U}var Et;function Y(){return Et||(Et=1,function(e){const o=Gt(),a=Wt();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,i){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!o.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?t.ccBits[0]:i<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return a.testNumeric(t)?e.NUMERIC:a.testAlphanumeric(t)?e.ALPHANUMERIC:a.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits};function r(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+n)}}e.from=function(t,i){if(e.isValid(t))return t;try{return r(t)}catch{return i}}}(Me)),Me}var St;function tr(){return St||(St=1,function(e){const o=H(),a=Jt(),r=Je(),n=Y(),t=Gt(),i=7973,l=o.getBCHDigit(i);function s(h,d,b){for(let g=1;g<=40;g++)if(d<=e.getCapacity(g,b,h))return g}function c(h,d){return n.getCharCountIndicator(h,d)+4}function f(h,d){let b=0;return h.forEach(function(g){const y=c(g.mode,d);b+=y+g.getBitsLength()}),b}function w(h,d){for(let b=1;b<=40;b++)if(f(h,b)<=e.getCapacity(b,d,n.MIXED))return b}e.from=function(d,b){return t.isValid(d)?parseInt(d,10):b},e.getCapacity=function(d,b,g){if(!t.isValid(d))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=n.BYTE);const y=o.getSymbolTotalCodewords(d),v=a.getTotalCodewordsCount(d,b),q=(y-v)*8;if(g===n.MIXED)return q;const C=q-c(g,d);switch(g){case n.NUMERIC:return Math.floor(C/10*3);case n.ALPHANUMERIC:return Math.floor(C/11*2);case n.KANJI:return Math.floor(C/13);case n.BYTE:default:return Math.floor(C/8)}},e.getBestVersionForData=function(d,b){let g;const y=r.from(b,r.M);if(Array.isArray(d)){if(d.length>1)return w(d,y);if(d.length===0)return 1;g=d[0]}else g=d;return s(g.mode,g.getLength(),y)},e.getEncodedBits=function(d){if(!t.isValid(d)||d<7)throw new Error("Invalid QR Code version");let b=d<<12;for(;o.getBCHDigit(b)-l>=0;)b^=i<<o.getBCHDigit(b)-l;return d<<12|b}}(ke)),ke}var Ve={},Pt;function nr(){if(Pt)return Ve;Pt=1;const e=H(),o=1335,a=21522,r=e.getBCHDigit(o);return Ve.getEncodedBits=function(t,i){const l=t.bit<<3|i;let s=l<<10;for(;e.getBCHDigit(s)-r>=0;)s^=o<<e.getBCHDigit(s)-r;return(l<<10|s)^a},Ve}var Le={},xe,Bt;function rr(){if(Bt)return xe;Bt=1;const e=Y();function o(a){this.mode=e.NUMERIC,this.data=a.toString()}return o.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(r){let n,t,i;for(n=0;n+3<=this.data.length;n+=3)t=this.data.substr(n,3),i=parseInt(t,10),r.put(i,10);const l=this.data.length-n;l>0&&(t=this.data.substr(n),i=parseInt(t,10),r.put(i,l*3+1))},xe=o,xe}var $e,qt;function or(){if(qt)return $e;qt=1;const e=Y(),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(r){this.mode=e.ALPHANUMERIC,this.data=r}return a.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(n){let t;for(t=0;t+2<=this.data.length;t+=2){let i=o.indexOf(this.data[t])*45;i+=o.indexOf(this.data[t+1]),n.put(i,11)}this.data.length%2&&n.put(o.indexOf(this.data[t]),6)},$e=a,$e}var Ue,At;function ir(){if(At)return Ue;At=1;const e=Y();function o(a){this.mode=e.BYTE,typeof a=="string"?this.data=new TextEncoder().encode(a):this.data=new Uint8Array(a)}return o.getBitsLength=function(r){return r*8},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(a){for(let r=0,n=this.data.length;r<n;r++)a.put(this.data[r],8)},Ue=o,Ue}var Fe,It;function ar(){if(It)return Fe;It=1;const e=Y(),o=H();function a(r){this.mode=e.KANJI,this.data=r}return a.getBitsLength=function(n){return n*13},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(r){let n;for(n=0;n<this.data.length;n++){let t=o.toSJIS(this.data[n]);if(t>=33088&&t<=40956)t-=33088;else if(t>=57408&&t<=60351)t-=49472;else throw new Error("Invalid SJIS character: "+this.data[n]+`
Make sure your charset is UTF-8`);t=(t>>>8&255)*192+(t&255),r.put(t,13)}},Fe=a,Fe}var Qe={exports:{}},Nt;function sr(){return Nt||(Nt=1,function(e){var o={single_source_shortest_paths:function(a,r,n){var t={},i={};i[r]=0;var l=o.PriorityQueue.make();l.push(r,0);for(var s,c,f,w,h,d,b,g,y;!l.empty();){s=l.pop(),c=s.value,w=s.cost,h=a[c]||{};for(f in h)h.hasOwnProperty(f)&&(d=h[f],b=w+d,g=i[f],y=typeof i[f]>"u",(y||g>b)&&(i[f]=b,l.push(f,b),t[f]=c))}if(typeof n<"u"&&typeof i[n]>"u"){var v=["Could not find a path from ",r," to ",n,"."].join("");throw new Error(v)}return t},extract_shortest_path_from_predecessor_list:function(a,r){for(var n=[],t=r;t;)n.push(t),a[t],t=a[t];return n.reverse(),n},find_path:function(a,r,n){var t=o.single_source_shortest_paths(a,r,n);return o.extract_shortest_path_from_predecessor_list(t,n)},PriorityQueue:{make:function(a){var r=o.PriorityQueue,n={},t;a=a||{};for(t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n.queue=[],n.sorter=a.sorter||r.default_sorter,n},default_sorter:function(a,r){return a.cost-r.cost},push:function(a,r){var n={value:a,cost:r};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=o}(Qe)),Qe.exports}var _t;function lr(){return _t||(_t=1,function(e){const o=Y(),a=rr(),r=or(),n=ir(),t=ar(),i=Wt(),l=H(),s=sr();function c(v){return unescape(encodeURIComponent(v)).length}function f(v,q,C){const E=[];let R;for(;(R=v.exec(C))!==null;)E.push({data:R[0],index:R.index,mode:q,length:R[0].length});return E}function w(v){const q=f(i.NUMERIC,o.NUMERIC,v),C=f(i.ALPHANUMERIC,o.ALPHANUMERIC,v);let E,R;return l.isKanjiModeEnabled()?(E=f(i.BYTE,o.BYTE,v),R=f(i.KANJI,o.KANJI,v)):(E=f(i.BYTE_KANJI,o.BYTE,v),R=[]),q.concat(C,E,R).sort(function(A,B){return A.index-B.index}).map(function(A){return{data:A.data,mode:A.mode,length:A.length}})}function h(v,q){switch(q){case o.NUMERIC:return a.getBitsLength(v);case o.ALPHANUMERIC:return r.getBitsLength(v);case o.KANJI:return t.getBitsLength(v);case o.BYTE:return n.getBitsLength(v)}}function d(v){return v.reduce(function(q,C){const E=q.length-1>=0?q[q.length-1]:null;return E&&E.mode===C.mode?(q[q.length-1].data+=C.data,q):(q.push(C),q)},[])}function b(v){const q=[];for(let C=0;C<v.length;C++){const E=v[C];switch(E.mode){case o.NUMERIC:q.push([E,{data:E.data,mode:o.ALPHANUMERIC,length:E.length},{data:E.data,mode:o.BYTE,length:E.length}]);break;case o.ALPHANUMERIC:q.push([E,{data:E.data,mode:o.BYTE,length:E.length}]);break;case o.KANJI:q.push([E,{data:E.data,mode:o.BYTE,length:c(E.data)}]);break;case o.BYTE:q.push([{data:E.data,mode:o.BYTE,length:c(E.data)}])}}return q}function g(v,q){const C={},E={start:{}};let R=["start"];for(let S=0;S<v.length;S++){const A=v[S],B=[];for(let P=0;P<A.length;P++){const N=A[P],I=""+S+P;B.push(I),C[I]={node:N,lastCount:0},E[I]={};for(let p=0;p<R.length;p++){const m=R[p];C[m]&&C[m].node.mode===N.mode?(E[m][I]=h(C[m].lastCount+N.length,N.mode)-h(C[m].lastCount,N.mode),C[m].lastCount+=N.length):(C[m]&&(C[m].lastCount=N.length),E[m][I]=h(N.length,N.mode)+4+o.getCharCountIndicator(N.mode,q))}}R=B}for(let S=0;S<R.length;S++)E[R[S]].end=0;return{map:E,table:C}}function y(v,q){let C;const E=o.getBestModeForData(v);if(C=o.from(q,E),C!==o.BYTE&&C.bit<E.bit)throw new Error('"'+v+'" cannot be encoded with mode '+o.toString(C)+`.
 Suggested mode is: `+o.toString(E));switch(C===o.KANJI&&!l.isKanjiModeEnabled()&&(C=o.BYTE),C){case o.NUMERIC:return new a(v);case o.ALPHANUMERIC:return new r(v);case o.KANJI:return new t(v);case o.BYTE:return new n(v)}}e.fromArray=function(q){return q.reduce(function(C,E){return typeof E=="string"?C.push(y(E,null)):E.data&&C.push(y(E.data,E.mode)),C},[])},e.fromString=function(q,C){const E=w(q,l.isKanjiModeEnabled()),R=b(E),S=g(R,C),A=s.find_path(S.map,"start","end"),B=[];for(let P=1;P<A.length-1;P++)B.push(S.table[A[P]].node);return e.fromArray(d(B))},e.rawSplit=function(q){return e.fromArray(w(q,l.isKanjiModeEnabled()))}}(Le)),Le}var Rt;function ur(){if(Rt)return Pe;Rt=1;const e=H(),o=Je(),a=Hn(),r=Yn(),n=Jn(),t=Gn(),i=Wn(),l=Jt(),s=er(),c=tr(),f=nr(),w=Y(),h=lr();function d(S,A){const B=S.size,P=t.getPositions(A);for(let N=0;N<P.length;N++){const I=P[N][0],p=P[N][1];for(let m=-1;m<=7;m++)if(!(I+m<=-1||B<=I+m))for(let u=-1;u<=7;u++)p+u<=-1||B<=p+u||(m>=0&&m<=6&&(u===0||u===6)||u>=0&&u<=6&&(m===0||m===6)||m>=2&&m<=4&&u>=2&&u<=4?S.set(I+m,p+u,!0,!0):S.set(I+m,p+u,!1,!0))}}function b(S){const A=S.size;for(let B=8;B<A-8;B++){const P=B%2===0;S.set(B,6,P,!0),S.set(6,B,P,!0)}}function g(S,A){const B=n.getPositions(A);for(let P=0;P<B.length;P++){const N=B[P][0],I=B[P][1];for(let p=-2;p<=2;p++)for(let m=-2;m<=2;m++)p===-2||p===2||m===-2||m===2||p===0&&m===0?S.set(N+p,I+m,!0,!0):S.set(N+p,I+m,!1,!0)}}function y(S,A){const B=S.size,P=c.getEncodedBits(A);let N,I,p;for(let m=0;m<18;m++)N=Math.floor(m/3),I=m%3+B-8-3,p=(P>>m&1)===1,S.set(N,I,p,!0),S.set(I,N,p,!0)}function v(S,A,B){const P=S.size,N=f.getEncodedBits(A,B);let I,p;for(I=0;I<15;I++)p=(N>>I&1)===1,I<6?S.set(I,8,p,!0):I<8?S.set(I+1,8,p,!0):S.set(P-15+I,8,p,!0),I<8?S.set(8,P-I-1,p,!0):I<9?S.set(8,15-I-1+1,p,!0):S.set(8,15-I-1,p,!0);S.set(P-8,8,1,!0)}function q(S,A){const B=S.size;let P=-1,N=B-1,I=7,p=0;for(let m=B-1;m>0;m-=2)for(m===6&&m--;;){for(let u=0;u<2;u++)if(!S.isReserved(N,m-u)){let T=!1;p<A.length&&(T=(A[p]>>>I&1)===1),S.set(N,m-u,T),I--,I===-1&&(p++,I=7)}if(N+=P,N<0||B<=N){N-=P,P=-P;break}}}function C(S,A,B){const P=new a;B.forEach(function(u){P.put(u.mode.bit,4),P.put(u.getLength(),w.getCharCountIndicator(u.mode,S)),u.write(P)});const N=e.getSymbolTotalCodewords(S),I=l.getTotalCodewordsCount(S,A),p=(N-I)*8;for(P.getLengthInBits()+4<=p&&P.put(0,4);P.getLengthInBits()%8!==0;)P.putBit(0);const m=(p-P.getLengthInBits())/8;for(let u=0;u<m;u++)P.put(u%2?17:236,8);return E(P,S,A)}function E(S,A,B){const P=e.getSymbolTotalCodewords(A),N=l.getTotalCodewordsCount(A,B),I=P-N,p=l.getBlocksCount(A,B),m=P%p,u=p-m,T=Math.floor(P/p),x=Math.floor(I/p),J=x+1,Ge=T-x,Zt=new s(Ge);let pe=0;const ue=new Array(p),We=new Array(p);let ve=0;const en=new Uint8Array(S.buffer);for(let G=0;G<p;G++){const ye=G<u?x:J;ue[G]=en.slice(pe,pe+ye),We[G]=Zt.encode(ue[G]),pe+=ye,ve=Math.max(ve,ye)}const we=new Uint8Array(P);let Xe=0,Q,O;for(Q=0;Q<ve;Q++)for(O=0;O<p;O++)Q<ue[O].length&&(we[Xe++]=ue[O][Q]);for(Q=0;Q<Ge;Q++)for(O=0;O<p;O++)we[Xe++]=We[O][Q];return we}function R(S,A,B,P){let N;if(Array.isArray(S))N=h.fromArray(S);else if(typeof S=="string"){let T=A;if(!T){const x=h.rawSplit(S);T=c.getBestVersionForData(x,B)}N=h.fromString(S,T||40)}else throw new Error("Invalid data");const I=c.getBestVersionForData(N,B);if(!I)throw new Error("The amount of data is too big to be stored in a QR Code");if(!A)A=I;else if(A<I)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+I+`.
`);const p=C(A,B,N),m=e.getSymbolSize(A),u=new r(m);return d(u,A),b(u),g(u,A),v(u,B,0),A>=7&&y(u,A),q(u,p),isNaN(P)&&(P=i.getBestMask(u,v.bind(null,u,B))),i.applyMask(P,u),v(u,B,P),{modules:u,version:A,errorCorrectionLevel:B,maskPattern:P,segments:N}}return Pe.create=function(A,B){if(typeof A>"u"||A==="")throw new Error("No input text");let P=o.M,N,I;return typeof B<"u"&&(P=o.from(B.errorCorrectionLevel,o.M),N=c.from(B.version),I=i.from(B.maskPattern),B.toSJISFunc&&e.setToSJISFunction(B.toSJISFunc)),R(A,N,P,I)},Pe}var Oe={},ze={},Tt;function Xt(){return Tt||(Tt=1,function(e){function o(a){if(typeof a=="number"&&(a=a.toString()),typeof a!="string")throw new Error("Color should be defined as hex string");let r=a.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+a);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(t){return[t,t]}))),r.length===6&&r.push("F","F");const n=parseInt(r.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const n=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,t=r.width&&r.width>=21?r.width:void 0,i=r.scale||4;return{width:t,scale:t?4:i,margin:n,color:{dark:o(r.color.dark||"#000000ff"),light:o(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,n){return n.width&&n.width>=r+n.margin*2?n.width/(r+n.margin*2):n.scale},e.getImageWidth=function(r,n){const t=e.getScale(r,n);return Math.floor((r+n.margin*2)*t)},e.qrToImageData=function(r,n,t){const i=n.modules.size,l=n.modules.data,s=e.getScale(i,t),c=Math.floor((i+t.margin*2)*s),f=t.margin*s,w=[t.color.light,t.color.dark];for(let h=0;h<c;h++)for(let d=0;d<c;d++){let b=(h*c+d)*4,g=t.color.light;if(h>=f&&d>=f&&h<c-f&&d<c-f){const y=Math.floor((h-f)/s),v=Math.floor((d-f)/s);g=w[l[y*i+v]?1:0]}r[b++]=g.r,r[b++]=g.g,r[b++]=g.b,r[b]=g.a}}}(ze)),ze}var kt;function cr(){return kt||(kt=1,function(e){const o=Xt();function a(n,t,i){n.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=i,t.width=i,t.style.height=i+"px",t.style.width=i+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(t,i,l){let s=l,c=i;typeof s>"u"&&(!i||!i.getContext)&&(s=i,i=void 0),i||(c=r()),s=o.getOptions(s);const f=o.getImageWidth(t.modules.size,s),w=c.getContext("2d"),h=w.createImageData(f,f);return o.qrToImageData(h.data,t,s),a(w,c,f),w.putImageData(h,0,0),c},e.renderToDataURL=function(t,i,l){let s=l;typeof s>"u"&&(!i||!i.getContext)&&(s=i,i=void 0),s||(s={});const c=e.render(t,i,s),f=s.type||"image/png",w=s.rendererOpts||{};return c.toDataURL(f,w.quality)}}(Oe)),Oe}var Ke={},Mt;function dr(){if(Mt)return Ke;Mt=1;const e=Xt();function o(n,t){const i=n.a/255,l=t+'="'+n.hex+'"';return i<1?l+" "+t+'-opacity="'+i.toFixed(2).slice(1)+'"':l}function a(n,t,i){let l=n+t;return typeof i<"u"&&(l+=" "+i),l}function r(n,t,i){let l="",s=0,c=!1,f=0;for(let w=0;w<n.length;w++){const h=Math.floor(w%t),d=Math.floor(w/t);!h&&!c&&(c=!0),n[w]?(f++,w>0&&h>0&&n[w-1]||(l+=c?a("M",h+i,.5+d+i):a("m",s,0),s=0,c=!1),h+1<t&&n[w+1]||(l+=a("h",f),f=0)):s++}return l}return Ke.render=function(t,i,l){const s=e.getOptions(i),c=t.modules.size,f=t.modules.data,w=c+s.margin*2,h=s.color.light.a?"<path "+o(s.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",d="<path "+o(s.color.dark,"stroke")+' d="'+r(f,c,s.margin)+'"/>',b='viewBox="0 0 '+w+" "+w+'"',y='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+b+' shape-rendering="crispEdges">'+h+d+`</svg>
`;return typeof l=="function"&&l(null,y),y},Ke}var Dt;function fr(){if(Dt)return Z;Dt=1;const e=jn(),o=ur(),a=cr(),r=dr();function n(t,i,l,s,c){const f=[].slice.call(arguments,1),w=f.length,h=typeof f[w-1]=="function";if(!h&&!e())throw new Error("Callback required as last argument");if(h){if(w<2)throw new Error("Too few arguments provided");w===2?(c=l,l=i,i=s=void 0):w===3&&(i.getContext&&typeof c>"u"?(c=s,s=void 0):(c=s,s=l,l=i,i=void 0))}else{if(w<1)throw new Error("Too few arguments provided");return w===1?(l=i,i=s=void 0):w===2&&!i.getContext&&(s=l,l=i,i=void 0),new Promise(function(d,b){try{const g=o.create(l,s);d(t(g,i,s))}catch(g){b(g)}})}try{const d=o.create(l,s);c(null,t(d,i,s))}catch(d){c(d)}}return Z.create=o.create,Z.toCanvas=n.bind(null,a.render),Z.toDataURL=n.bind(null,a.renderToDataURL),Z.toString=n.bind(null,function(t,i,l){return r.render(t,l)}),Z}var hr=fr();const gr=Kn(hr),mr={class:"tw-flex tw-flex-col tw-items-start full-width"},pr={class:"q-my-none"},vr={class:"text-h6 q-mb-md"},wr={class:"q-mb-md"},yr={class:"q-mb-none"},Cr={class:"q-mb-none"},br={class:"q-mb-none"},Er={class:"q-mb-md"},Sr={class:"q-mb-none"},Pr={class:"q-mb-none"},Br={class:"q-mt-sm full-width"},qr={class:"tw-text-center"},Ar={class:"tw-text-right"},Ir=Ft({__name:"OrderConfirmationDialog",props:{modelValue:{type:Boolean,required:!0},orderDetails:{type:Object,required:!0},color:{type:String,required:!0},text:{type:String,required:!0}},emits:["update:modelValue","confirm","cancel"],setup(e,{emit:o}){const a=e,r=o,n=D({get:()=>a.modelValue,set:l=>r("update:modelValue",l)}),t=()=>{n.value=!1,r("confirm")},i=()=>{n.value=!1,r("cancel")};return(l,s)=>(F(),ge(Pn,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=c=>n.value=c),class:"confirm-dialog"},{default:M(()=>[_(Ye,{style:{"max-width":"430px",width:"95vw",margin:"0 auto"}},{default:M(()=>[_(He,null,{default:M(()=>[k("div",mr,[k("h6",pr,V(l.$t("checkout.summary")),1),k("p",vr,V(l.$t("checkout.total"))+": "+V(K(ae)(e.orderDetails.total)),1),k("div",wr,[k("strong",null,V(l.$t("checkout.shippingDetails"))+":",1),k("p",yr,V(e.orderDetails.firstName)+" "+V(e.orderDetails.lastName),1),k("p",Cr,V(e.orderDetails.email),1),k("p",br,V(e.orderDetails.address),1)]),k("div",Er,[k("strong",null,V(l.$t("checkout.paymentInfo"))+":",1),k("p",Sr,V(l.$t("checkout.card"))+": **** **** **** "+V(e.orderDetails.cardNumber.slice(-4)),1),k("p",Pr,V(l.$t("checkout.expiry"))+": "+V(e.orderDetails.expiry),1)]),k("div",Br,[k("strong",null,V(l.$t("checkout.items"))+":",1),(F(!0),ee(Ot,null,Qt(e.orderDetails.items,c=>(F(),ee("div",{key:c.id,class:"q-py-xs tw-grid tw-grid-cols-3 tw-gap-1 tw-w-full"},[k("div",null,V(c.name||c.title),1),k("div",qr,V(c.quantity),1),k("div",Ar,V(K(ae)(c.price)),1)]))),128))])])]),_:1}),_(zt,{class:"tw-flex tw-flex-col sm:tw-flex-row tw-gap-2 tw-items-center !tw-justify-between"},{default:M(()=>[_(me,{label:l.$t("checkout.cancelButton"),outline:"",class:ie(["!tw-w-full sm:!tw-w-40 !tw-py-4 !tw-flex !tw-items-center !tw-justify-center",`tw-border-${e.color}`]),onClick:i},null,8,["label","class"]),_(me,{label:l.$t("checkout.confirmButton"),flat:"","text-color":e.text,class:ie(["!tw-w-full sm:!tw-w-40 !tw-m-0 !tw-py-4 !tw-flex !tw-items-center !tw-justify-center",`bg-${e.color}`]),onClick:t},null,8,["label","text-color","class"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Nr=Kt(Ir,[["__scopeId","data-v-fd083914"]]),_r={class:"tw-container tw-max-w-screen-xl tw-mx-auto"},Rr={class:"row q-col-gutter-md"},Tr={class:"col-12 col-md-8"},kr={class:"col-12 col-sm-6"},Mr={class:"col-12 col-sm-6"},Dr={class:"col-12"},Vr={class:"col-12"},Lr={key:0,class:"text-positive text-xs"},xr={class:"col-12"},$r={class:"col-6"},Ur={class:"col-6"},Fr={key:1},Qr={key:0,class:"q-mt-lg"},Or={class:"col-12 col-md-4"},zr={class:"tw-text-xl tw-mb-4"},je=!1,Kr=Ft({__name:"CheckoutPage",setup(e){Bn(p=>({"2902eb15":h.value,f509698a:d.value}));const o=qn(),a=An(),r=In();Nn();const n=$(1),t=$("card"),i=$(null),l=$(null),s=$({firstName:"",lastName:"",email:"",address:""}),c=$({cardNumber:"",expiry:"",cvv:""}),f=$(null),w=$(!1),h=D(()=>o.dark.isActive?"white":"black"),d=D(()=>o.dark.isActive?"black":"white"),b=o.dark.isActive,g=D(()=>a.items.reduce((p,m)=>p+m.price*m.quantity,0)),y="160600000075936693",v={id:Math.floor(Math.random()*1e3),items:a.items,total:g.value,firstName:s.value.firstName,lastName:s.value.lastName,email:s.value.email,address:s.value.address,cardNumber:c.value.cardNumber,cvv:c.value.cvv,expiry:c.value.expiry},q=async()=>{const p="Payment for E-comm-platform",m=Math.floor(Math.random()*1e3),u=D(()=>ae(g.value,"RSD").trim().replace(/\s+/,"").replace(",","").replace(".",",").replace(/(,\d{2})?$/,x=>x||",00")),T=`K:PR|V:01|C:1|P:${g.value.toFixed(2)}|S:${p}|N:E-comm-platform|I:${u.value}|R:${y}|RO:00${m}|SF:289`.trim();try{f.value=await gr.toDataURL(T,{width:300,margin:2})}catch(x){console.error("Error generating QR code:",x)}},C=p=>!!p||"Field is required",E=p=>/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(p)||"Invalid email",R=()=>{const p=i.value;p&&p.validate()?n.value=2:o.notify({type:"negative",position:"top",message:"Please fix errors in the form.",timeout:1e3})},S=()=>{const p=l.value;p&&p.validate()?(o.notify({type:"positive",position:"top",message:"Order placed successfully!",timeout:1e3}),n.value=3):o.notify({type:"negative",position:"top",message:"Please fix errors in the form.",timeout:1e3})},A=()=>{r.push("/cart")},B=()=>{w.value=!0},P=()=>{a.clearCart(),r.push("/thankyou")},N=()=>{w.value=!1},I=()=>{n.value++};return Lt(()=>{q()}),(p,m)=>(F(),ge(Mn,{padding:""},{default:M(()=>[k("div",_r,[k("div",Rr,[k("div",Tr,[_(zn,{modelValue:n.value,"onUpdate:modelValue":m[9]||(m[9]=u=>n.value=u),vertical:"",class:"checkout-stepper !tw-bg-transparent full-width",color:"none","text-color":d.value,"header-nav":""},{default:M(()=>[_(st,{name:1,title:p.$t("checkout.shipping"),icon:"local_shipping",done:n.value>1,class:"checkout-step","header-nav":!0},{default:M(()=>[_(Ye,{flat:"",bordered:"",class:"!tw-p-0"},{default:M(()=>[_(He,null,{default:M(()=>[_(ot,{ref_key:"formRef",ref:i,class:"row q-col-gutter-md",onSubmit:R},{default:M(()=>[k("div",kr,[_(j,{modelValue:s.value.firstName,"onUpdate:modelValue":m[0]||(m[0]=u=>s.value.firstName=u),label:p.$t("checkout.firstName"),rules:[C]},null,8,["modelValue","label","rules"])]),k("div",Mr,[_(j,{modelValue:s.value.lastName,"onUpdate:modelValue":m[1]||(m[1]=u=>s.value.lastName=u),label:p.$t("checkout.lastName"),rules:[C]},null,8,["modelValue","label","rules"])]),k("div",Dr,[_(j,{modelValue:s.value.email,"onUpdate:modelValue":m[2]||(m[2]=u=>s.value.email=u),label:p.$t("checkout.email"),type:"email",rules:[C,E]},null,8,["modelValue","label","rules"])]),k("div",Vr,[_(j,{modelValue:s.value.address,"onUpdate:modelValue":m[3]||(m[3]=u=>s.value.address=u),label:p.$t("checkout.address"),rules:[C]},null,8,["modelValue","label","rules"])])]),_:1},512)]),_:1})]),_:1})]),_:1},8,["title","done"]),_(st,{name:2,title:p.$t("checkout.payment"),icon:"payment",done:n.value>2,"header-nav":!0},{default:M(()=>[_(de,{class:"!tw-p-0"},{default:M(()=>[_(W,{class:"tw-text-sm"},{default:M(()=>[_(nt,{modelValue:t.value,"onUpdate:modelValue":m[4]||(m[4]=u=>t.value=u),val:"card",label:p.$t("checkout.cardPayment")},null,8,["modelValue","label"]),_(nt,{modelValue:t.value,"onUpdate:modelValue":m[5]||(m[5]=u=>t.value=u),val:"ips",disable:!je},{default:M(()=>[k("span",null,[X(V(p.$t("checkout.ipsScanQrCode"))+" ",1),je?fe("",!0):(F(),ee("span",Lr," - "+V(p.$t("checkout.ipsInfo")),1))])]),_:1},8,["modelValue","disable"])]),_:1})]),_:1}),t.value==="card"?(F(),ge(Ye,{key:0,flat:"",bordered:""},{default:M(()=>[_(He,null,{default:M(()=>[_(ot,{ref_key:"paymentRef",ref:l,class:"row q-col-gutter-md",onSubmit:_n(S,["prevent"])},{default:M(()=>[k("div",xr,[_(j,{modelValue:c.value.cardNumber,"onUpdate:modelValue":m[6]||(m[6]=u=>c.value.cardNumber=u),label:p.$t("checkout.cardNumber"),mask:"#### #### #### ####",rules:[C]},null,8,["modelValue","label","rules"])]),k("div",$r,[_(j,{modelValue:c.value.expiry,"onUpdate:modelValue":m[7]||(m[7]=u=>c.value.expiry=u),label:"MM/YY",mask:"##/##",rules:[C]},null,8,["modelValue","rules"])]),k("div",Ur,[_(j,{modelValue:c.value.cvv,"onUpdate:modelValue":m[8]||(m[8]=u=>c.value.cvv=u),label:"CVV",mask:"###",rules:[C]},null,8,["modelValue","rules"])])]),_:1},512)]),_:1})]),_:1})):fe("",!0),je&&t.value==="ips"?(F(),ee("div",Fr,[f.value?(F(),ee("div",Qr,[_(kn,{src:f.value,alt:"QR Code for Payment",fit:"contain",class:"tw-w-48 tw-h-48"},null,8,["src"])])):fe("",!0)])):fe("",!0)]),_:1},8,["title","done"])]),_:1},8,["modelValue","text-color"])]),k("div",Or,[_(de,{class:ie(["tw-flex tw-justify-between tw-flex-col tw-gap-4 sm:!tw-pt-4 sm:!tw-pb-3 tw-rounded-md",K(b)?"tw-bg-transparent text-light":"bg-light text-dark"])},{default:M(()=>[_(W,{class:"tw-w-full"},{default:M(()=>[k("div",zr,V(p.$t("checkout.orderSummary")),1),_(Rn,{dense:"",class:"tw-w-full tw-flex tw-flex-col tw-justify-between"},{default:M(()=>[(F(!0),ee(Ot,null,Qt(K(a).items,u=>(F(),ge(de,{key:u.id,class:"tw-justify-between"},{default:M(()=>[_(W,null,{default:M(()=>[_(rt,null,{default:M(()=>[X(V(u.name||u.title),1)]),_:2},1024),_(rt,{caption:""},{default:M(()=>[X(V(p.$t("checkout.qty"))+": "+V(u.quantity),1)]),_:2},1024)]),_:2},1024),_(W,{side:"",class:ie(K(b)?"text-light":"text-dark")},{default:M(()=>[X(V(K(ae)(u.price*u.quantity)),1)]),_:2},1032,["class"])]),_:2},1024))),128)),_(Tn,{class:"q-my-md"}),_(de,null,{default:M(()=>[_(W,{class:"text-subtitle1 text-weight-bold"},{default:M(()=>[X(V(p.$t("checkout.total")),1)]),_:1}),_(W,{side:"",class:ie(["text-subtitle1 text-weight-bold",K(b)?"text-light":"text-dark"])},{default:M(()=>[X(V(K(ae)(g.value)),1)]),_:1},8,["class"])]),_:1})]),_:1})]),_:1}),_(zt,{align:"center"},{default:M(()=>[_(me,{color:h.value,"text-color":d.value,label:n.value===2?p.$t("checkout.placeOrder"):p.$t("checkout.continue"),type:"submit",class:"full-width tw-mb-2 !tw-py-4",onClick:m[10]||(m[10]=u=>n.value===2?B():I())},null,8,["color","text-color","label"]),_(me,{color:d.value,"text-color":h.value,label:p.$t("checkout.cart"),class:"full-width !tw-py-4",onClick:m[11]||(m[11]=u=>A())},null,8,["color","text-color","label"])]),_:1})]),_:1},8,["class"])])])]),_(Nr,{modelValue:w.value,"onUpdate:modelValue":m[12]||(m[12]=u=>w.value=u),"order-details":v,color:h.value,text:d.value,onConfirm:P,onCancel:N},null,8,["modelValue","color","text"])]),_:1}))}}),Gr=Kt(Kr,[["__scopeId","data-v-812baad3"]]);export{Gr as default};
