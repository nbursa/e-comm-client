import{c as Ce,M as Ze,aq as et,N as tt,l as n,r as T,ar as at,G as J,as as Ie,at as lt,au as Re,h as $,ae as ot,i as xe,a4 as ke,S as ge,U as M,V as Y,W as ne,X as Q,Y as nt,Z as X,_ as oe,a3 as rt,a0 as Z,a2 as ue,$ as ie,ai as it,aj as ut,a6 as st,I as _e,J as he,av as De,k as Fe,e as Qe,w as ct,R as dt,aw as vt,s as ft,Q as ve,O as gt,ax as ye,F as Le,ay as bt,p as mt,o as ht,a as yt,az as wt,g as Ct,a1 as Te,aA as xt,aa as je,a5 as kt,a8 as Tt,ab as St,ac as Pt,ad as qt,am as pt,ak as Me}from"./index-D3B1opgj.js";import{Q as $t}from"./QPage-JGqB_yYB.js";import{u as At}from"./products-DEJD68-X.js";import{Q as Bt,f as we}from"./currencyUtils-CP1uyHRf.js";import"./rates-BShLlSQf.js";function ce(e,S){return[!0,!1].includes(e)?e:S}const Vt=Ce({name:"QPagination",props:{...Ze,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||et.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:S}){const{proxy:C}=xe(),{$q:y}=C,l=tt(e,y),b=n(()=>parseInt(e.min,10)),o=n(()=>parseInt(e.max,10)),c=n(()=>parseInt(e.maxPages,10)),r=n(()=>w.value+" / "+o.value),A=n(()=>ce(e.boundaryLinks,e.input)),g=n(()=>ce(e.boundaryNumbers,!e.input)),q=n(()=>ce(e.directionLinks,e.input)),m=n(()=>ce(e.ellipses,!e.input)),P=T(null),w=n({get:()=>e.modelValue,set:d=>{if(d=parseInt(d,10),e.disable||isNaN(d))return;const u=at(d,b.value,o.value);e.modelValue!==u&&S("update:modelValue",u)}});J(()=>`${b.value}|${o.value}`,()=>{w.value=e.modelValue});const D=n(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),j=n(()=>e.gutter in Ie?`${Ie[e.gutter]}px`:e.gutter||null),U=n(()=>j.value!==null?`--q-pagination-gutter-parent:-${j.value};--q-pagination-gutter-child:${j.value}`:null),E=n(()=>{const d=[e.iconFirst||y.iconSet.pagination.first,e.iconPrev||y.iconSet.pagination.prev,e.iconNext||y.iconSet.pagination.next,e.iconLast||y.iconSet.pagination.last];return y.lang.rtl===!0?d.reverse():d}),v=n(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),p=n(()=>lt(e,"flat")),R=n(()=>({[p.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),I=n(()=>{const d={[p.value]:!1};return e.activeDesign!==""&&(d[e.activeDesign]=!0),d}),N=n(()=>({...I.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),i=n(()=>{let d=Math.max(c.value,1+(m.value?2:0)+(g.value?2:0));const u={pgFrom:b.value,pgTo:o.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(o.value).length)}em`}};return c.value&&d<o.value-b.value+1&&(d=1+Math.floor(d/2)*2,u.pgFrom=Math.max(b.value,Math.min(o.value-d+1,e.modelValue-Math.floor(d/2))),u.pgTo=Math.min(o.value,u.pgFrom+d-1),g.value&&(u.boundaryStart=!0,u.pgFrom++),m.value&&u.pgFrom>b.value+(g.value?1:0)&&(u.ellipsesStart=!0,u.pgFrom++),g.value&&(u.boundaryEnd=!0,u.pgTo--),m.value&&u.pgTo<o.value-(g.value?1:0)&&(u.ellipsesEnd=!0,u.pgTo--)),u});function B(d){w.value=d}function F(d){w.value=w.value+d}const ee=n(()=>{function d(){w.value=P.value,P.value=null}return{"onUpdate:modelValue":u=>{P.value=u},onKeyup:u=>{Re(u,13)===!0&&d()},onBlur:d}});function L(d,u,z){const O={"aria-label":u,"aria-current":"false",...R.value,...d};return z===!0&&Object.assign(O,{"aria-current":"true",...N.value}),u!==void 0&&(e.toFn!==void 0?O.to=e.toFn(u):O.onClick=()=>{B(u)}),$(ke,O)}return Object.assign(C,{set:B,setByOffset:F}),()=>{const d=[],u=[];let z;if(A.value===!0&&(d.push(L({key:"bls",disable:e.disable||e.modelValue<=b.value,icon:E.value[0]},b.value)),u.unshift(L({key:"ble",disable:e.disable||e.modelValue>=o.value,icon:E.value[3]},o.value))),q.value===!0&&(d.push(L({key:"bdp",disable:e.disable||e.modelValue<=b.value,icon:E.value[1]},e.modelValue-1)),u.unshift(L({key:"bdn",disable:e.disable||e.modelValue>=o.value,icon:E.value[2]},e.modelValue+1))),e.input!==!0){z=[];const{pgFrom:O,pgTo:te,marginalStyle:K}=i.value;if(i.value.boundaryStart===!0){const _=b.value===e.modelValue;d.push(L({key:"bns",style:K,disable:e.disable,label:b.value},b.value,_))}if(i.value.boundaryEnd===!0){const _=o.value===e.modelValue;u.unshift(L({key:"bne",style:K,disable:e.disable,label:o.value},o.value,_))}i.value.ellipsesStart===!0&&d.push(L({key:"bes",style:K,disable:e.disable,label:"…",ripple:!1},O-1)),i.value.ellipsesEnd===!0&&u.unshift(L({key:"bee",style:K,disable:e.disable,label:"…",ripple:!1},te+1));for(let _=O;_<=te;_++)z.push(L({key:`bpg${_}`,style:K,disable:e.disable,label:_},_,_===e.modelValue))}return $("div",{class:D.value,...v.value},[$("div",{class:"q-pagination__content row no-wrap items-center",style:U.value},[...d,e.input===!0?$(ot,{class:"inline",style:{width:`${r.value.length/1.5}em`},type:"number",dense:!0,value:P.value,disable:e.disable,dark:l.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:r.value,min:b.value,max:o.value,...ee.value}):$("div",{class:"q-pagination__middle row justify-center"},z),...u])])}}}),It={class:"text-bold"},Lt={class:"text-caption"},Mt={class:"q-mt-sm text-bold price-text"},Rt={class:"text-grey"},_t={class:"text-positive q-ml-sm"},Dt=ge({__name:"ProductCard",props:{product:{type:Object,required:!0},color:{type:String,default:"primary"},text:{type:String,default:"white"}},emits:["add-to-cart","view-product"],setup(e,{emit:S}){const C=S,y=c=>{C("add-to-cart",c)},l=c=>{C("view-product",c)},b=c=>c,o=c=>{const r=c.match(/[^.!?]*[.!?]/);return r?r[0]:c};return(c,r)=>(M(),Y(st,{bordered:"",class:"product tw-w-full tw-max-w-72 tw-mx-auto !tw-bg-primary sm:tw-mx-none tw-transition tw-duration-200 tw-ease-in-out hover:tw-cursor-pointer hover:tw-scale-105 tw-shadow-none",onClick:r[1]||(r[1]=A=>l(e.product))},{default:ne(()=>[Q(Bt,{src:b(e.product.image),alt:e.product.name,fit:"contain",class:"sm:tw-h-2/3 tw-w-full tw-max-h-1.5"},null,8,["src","alt"]),Q(nt,{class:"tw-flex-grow q-px-sm !tw-pb-0"},{default:ne(()=>[X("div",It,oe(e.product.name||e.product.title),1),X("div",Lt,oe(o(e.product.description)),1)]),_:1}),Q(rt,{class:"row justify-between items-center !tw-pt-0"},{default:ne(()=>[X("div",Mt,[e.product.discount?(M(),Z(ue,{key:0},[X("span",Rt,oe(ie(we)(e.product.price)),1),X("span",_t,oe(ie(we)(e.product.discountedPrice||e.product.price)),1)],64)):(M(),Z(ue,{key:1},[it(oe(ie(we)(e.product.price)),1)],64))]),Q(ke,{color:e.color,"text-color":e.text,label:c.$t("products.addToCart"),class:"full-width q-mt-md !tw-py-4",onClick:r[0]||(r[0]=ut(A=>y(e.product),["stop"]))},null,8,["color","text-color","label"])]),_:1})]),_:1}))}});let Ft=0;const Qt=["click","keydown"],jt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Ft++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Et(e,S,C,y){const l=_e(De,he);if(l===he)return console.error("QTab/QRouteTab component needs to be child of QTabs"),he;const{proxy:b}=xe(),o=T(null),c=T(null),r=T(null),A=n(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),g=n(()=>l.currentModel.value===e.name),q=n(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(g.value===!0?" q-tab--active"+(l.tabProps.value.activeClass?" "+l.tabProps.value.activeClass:"")+(l.tabProps.value.activeColor?` text-${l.tabProps.value.activeColor}`:"")+(l.tabProps.value.activeBgColor?` bg-${l.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&l.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||l.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),m=n(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(l.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),P=n(()=>e.disable===!0||l.hasFocus.value===!0||g.value===!1&&l.hasActiveTab.value===!0?-1:e.tabindex||0);function w(v,p){if(p!==!0&&o.value!==null&&o.value.focus(),e.disable!==!0){l.updateModel({name:e.name}),C("click",v);return}}function D(v){Re(v,[13,32])?w(v,!0):vt(v)!==!0&&v.keyCode>=35&&v.keyCode<=40&&v.altKey!==!0&&v.metaKey!==!0&&l.onKbdNavigate(v.keyCode,b.$el)===!0&&ft(v),C("keydown",v)}function j(){const v=l.tabProps.value.narrowIndicator,p=[],R=$("div",{ref:r,class:["q-tab__indicator",l.tabProps.value.indicatorClass]});e.icon!==void 0&&p.push($(ve,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&p.push($("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&p.push(e.alertIcon!==void 0?$(ve,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):$("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),v===!0&&p.push(R);const I=[$("div",{class:"q-focus-helper",tabindex:-1,ref:o}),$("div",{class:m.value},gt(S.default,p))];return v===!1&&I.push(R),I}const U={name:n(()=>e.name),rootRef:c,tabIndicatorRef:r,routeData:y};Fe(()=>{l.unregisterTab(U)}),Qe(()=>{l.registerTab(U)});function E(v,p){const R={ref:c,class:q.value,tabindex:P.value,role:"tab","aria-selected":g.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:w,onKeydown:D,...p};return ct($(v,R,j()),[[dt,A.value]])}return{renderTab:E,$tabs:l}}const fe=Ce({name:"QTab",props:jt,emits:Qt,setup(e,{slots:S,emit:C}){const{renderTab:y}=Et(e,S,C);return()=>y("div")}});function Nt(e,S,C){const y=C===!0?["left","right"]:["top","bottom"];return`absolute-${S===!0?y[0]:y[1]}${e?` text-${e}`:""}`}const Ot=["left","center","right","justify"],Ee=Ce({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Ot.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:S,emit:C}){const{proxy:y}=xe(),{$q:l}=y,{registerTick:b}=ye(),{registerTick:o}=ye(),{registerTick:c}=ye(),{registerTimeout:r,removeTimeout:A}=Le(),{registerTimeout:g,removeTimeout:q}=Le(),m=T(null),P=T(null),w=T(e.modelValue),D=T(!1),j=T(!0),U=T(!1),E=T(!1),v=[],p=T(0),R=T(!1);let I=null,N=null,i;const B=n(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Nt(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),F=n(()=>{const t=p.value,a=w.value;for(let s=0;s<t;s++)if(v[s].name.value===a)return!0;return!1}),ee=n(()=>`q-tabs__content--align-${D.value===!0?"left":E.value===!0?"justify":e.align}`),L=n(()=>`q-tabs row no-wrap items-center q-tabs--${D.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),d=n(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+ee.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),u=n(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),z=n(()=>e.vertical!==!0&&l.lang.rtl===!0),O=n(()=>bt===!1&&z.value===!0);J(z,le),J(()=>e.modelValue,t=>{te({name:t,setCurrent:!0,skipEmit:!0})}),J(()=>e.outsideArrows,K);function te({name:t,setCurrent:a,skipEmit:s}){w.value!==t&&(s!==!0&&e["onUpdate:modelValue"]!==void 0&&C("update:modelValue",t),(a===!0||e["onUpdate:modelValue"]===void 0)&&(Ne(w.value,t),w.value=t))}function K(){b(()=>{m.value&&_({width:m.value.offsetWidth,height:m.value.offsetHeight})})}function _(t){if(u.value===void 0||P.value===null)return;const a=t[u.value.container],s=Math.min(P.value[u.value.scroll],Array.prototype.reduce.call(P.value.children,(k,h)=>k+(h[u.value.content]||0),0)),x=a>0&&s>a;D.value=x,x===!0&&o(le),E.value=a<parseInt(e.breakpoint,10)}function Ne(t,a){const s=t!=null&&t!==""?v.find(k=>k.name.value===t):null,x=a!=null&&a!==""?v.find(k=>k.name.value===a):null;if(se===!0)se=!1;else if(s&&x){const k=s.tabIndicatorRef.value,h=x.tabIndicatorRef.value;I!==null&&(clearTimeout(I),I=null),k.style.transition="none",k.style.transform="none",h.style.transition="none",h.style.transform="none";const f=k.getBoundingClientRect(),V=h.getBoundingClientRect();h.style.transform=e.vertical===!0?`translate3d(0,${f.top-V.top}px,0) scale3d(1,${V.height?f.height/V.height:1},1)`:`translate3d(${f.left-V.left}px,0,0) scale3d(${V.width?f.width/V.width:1},1,1)`,c(()=>{I=setTimeout(()=>{I=null,h.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",h.style.transform="none"},70)})}x&&D.value===!0&&ae(x.rootRef.value)}function ae(t){const{left:a,width:s,top:x,height:k}=P.value.getBoundingClientRect(),h=t.getBoundingClientRect();let f=e.vertical===!0?h.top-x:h.left-a;if(f<0){P.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(f),le();return}f+=e.vertical===!0?h.height-k:h.width-s,f>0&&(P.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(f),le())}function le(){const t=P.value;if(t===null)return;const a=t.getBoundingClientRect(),s=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);z.value===!0?(j.value=Math.ceil(s+a.width)<t.scrollWidth-1,U.value=s>0):(j.value=s>0,U.value=e.vertical===!0?Math.ceil(s+a.height)<t.scrollHeight:Math.ceil(s+a.width)<t.scrollWidth)}function Se(t){N!==null&&clearInterval(N),N=setInterval(()=>{ze(t)===!0&&H()},5)}function Pe(){Se(O.value===!0?Number.MAX_SAFE_INTEGER:0)}function qe(){Se(O.value===!0?0:Number.MAX_SAFE_INTEGER)}function H(){N!==null&&(clearInterval(N),N=null)}function Oe(t,a){const s=Array.prototype.filter.call(P.value.children,V=>V===a||V.matches&&V.matches(".q-tab.q-focusable")===!0),x=s.length;if(x===0)return;if(t===36)return ae(s[0]),s[0].focus(),!0;if(t===35)return ae(s[x-1]),s[x-1].focus(),!0;const k=t===(e.vertical===!0?38:37),h=t===(e.vertical===!0?40:39),f=k===!0?-1:h===!0?1:void 0;if(f!==void 0){const V=z.value===!0?-1:1,W=s.indexOf(a)+f*V;return W>=0&&W<x&&(ae(s[W]),s[W].focus({preventScroll:!0})),!0}}const Ue=n(()=>O.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,a)=>{t.scrollLeft=-a}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,a)=>{t.scrollTop=a}}:{get:t=>t.scrollLeft,set:(t,a)=>{t.scrollLeft=a}});function ze(t){const a=P.value,{get:s,set:x}=Ue.value;let k=!1,h=s(a);const f=t<h?-1:1;return h+=f*5,h<0?(k=!0,h=0):(f===-1&&h<=t||f===1&&h>=t)&&(k=!0,h=t),x(a,h),le(),k}function pe(t,a){for(const s in t)if(t[s]!==a[s])return!1;return!0}function Ke(){let t=null,a={matchedLen:0,queryDiff:9999,hrefLen:0};const s=v.filter(f=>f.routeData!==void 0&&f.routeData.hasRouterLink.value===!0),{hash:x,query:k}=y.$route,h=Object.keys(k).length;for(const f of s){const V=f.routeData.exact.value===!0;if(f.routeData[V===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:W,query:be,matched:Je,href:Ye}=f.routeData.resolvedLink.value,me=Object.keys(be).length;if(V===!0){if(W!==x||me!==h||pe(k,be)===!1)continue;t=f.name.value;break}if(W!==""&&W!==x||me!==0&&pe(be,k)===!1)continue;const G={matchedLen:Je.length,queryDiff:h-me,hrefLen:Ye.length-W.length};if(G.matchedLen>a.matchedLen){t=f.name.value,a=G;continue}else if(G.matchedLen!==a.matchedLen)continue;if(G.queryDiff<a.queryDiff)t=f.name.value,a=G;else if(G.queryDiff!==a.queryDiff)continue;G.hrefLen>a.hrefLen&&(t=f.name.value,a=G)}if(t===null&&v.some(f=>f.routeData===void 0&&f.name.value===w.value)===!0){se=!1;return}te({name:t,setCurrent:!0})}function We(t){if(A(),R.value!==!0&&m.value!==null&&t.target&&typeof t.target.closest=="function"){const a=t.target.closest(".q-tab");a&&m.value.contains(a)===!0&&(R.value=!0,D.value===!0&&ae(a))}}function He(){r(()=>{R.value=!1},30)}function re(){Ae.avoidRouteWatcher===!1?g(Ke):q()}function $e(){if(i===void 0){const t=J(()=>y.$route.fullPath,re);i=()=>{t(),i=void 0}}}function Ge(t){v.push(t),p.value++,K(),t.routeData===void 0||y.$route===void 0?g(()=>{if(D.value===!0){const a=w.value,s=a!=null&&a!==""?v.find(x=>x.name.value===a):null;s&&ae(s.rootRef.value)}}):($e(),t.routeData.hasRouterLink.value===!0&&re())}function Xe(t){v.splice(v.indexOf(t),1),p.value--,K(),i!==void 0&&t.routeData!==void 0&&(v.every(a=>a.routeData===void 0)===!0&&i(),re())}const Ae={currentModel:w,tabProps:B,hasFocus:R,hasActiveTab:F,registerTab:Ge,unregisterTab:Xe,verifyRouteModel:re,updateModel:te,onKbdNavigate:Oe,avoidRouteWatcher:!1};mt(De,Ae);function Be(){I!==null&&clearTimeout(I),H(),i!==void 0&&i()}let Ve,se;return Fe(Be),ht(()=>{Ve=i!==void 0,Be()}),yt(()=>{Ve===!0&&($e(),se=!0,re()),K()}),()=>$("div",{ref:m,class:L.value,role:"tablist",onFocusin:We,onFocusout:He},[$(wt,{onResize:_}),$("div",{ref:P,class:d.value,onScroll:le},Ct(S.default)),$(ve,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(j.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||l.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Pe,onTouchstartPassive:Pe,onMouseupPassive:H,onMouseleavePassive:H,onTouchendPassive:H}),$(ve,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(U.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||l.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:qe,onTouchstartPassive:qe,onMouseupPassive:H,onMouseleavePassive:H,onTouchendPassive:H})])}}),Ut=ge({__name:"CategorySelect",props:{selectedCategory:{type:String,required:!0},categories:{type:Array,required:!0},color:{type:String,required:!0},text:{type:String,required:!0}},emits:["update:selectedCategory"],setup(e,{emit:S}){const C=e,y=S,l=n({get:()=>C.selectedCategory,set:o=>{y("update:selectedCategory",o)}}),b=o=>o?o.split(" ").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" "):"";return(o,c)=>(M(),Z("div",null,[Q(Ee,{modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=r=>l.value=r),class:"q-mb-md gt-sm","active-color":e.color,"active-bg-color":e.color,"text-color":e.color,"inactive-color":e.color,align:"justify"},{default:ne(()=>[Q(fe,{name:"all",label:o.$t("products.categories.allProducts")},null,8,["label"]),(M(!0),Z(ue,null,Te(e.categories,r=>(M(),Y(fe,{key:r,name:r,label:b(r)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),Q(xt,{modelValue:l.value,"onUpdate:modelValue":c[1]||(c[1]=r=>l.value=r),options:["all",...e.categories],class:"q-my-md lt-md",color:e.color,"text-color":e.text,label:o.$t("products.selectCategory"),outlined:"","option-label":r=>r==="all"?o.$t("products.categories.allProducts"):b(r)},null,8,["modelValue","options","color","text-color","label","option-label"])]))}}),zt=ge({__name:"ProductTabs",props:{selectedCategory:{type:String,required:!0},scrollOffset:{type:Number,default:0},categories:{type:Array,required:!0}},emits:["update:selectedCategory"],setup(e,{emit:S}){const C=e,y=S,l=je(),b=T(!1),o=T(null),c=T(C.selectedCategory),r=n(()=>({stickyBgColor:l.dark.isActive?"dark":"light",activeBgColor:(l.dark.isActive,"white"),activeTextColor:l.dark.isActive?"dark":"black",backgroundColor:l.dark.isActive?"white":"black",textColor:l.dark.isActive?"black":"white"}));J(()=>C.scrollOffset,g=>{b.value=g>70,b.value&&o.value?o.value.style.top="70px":o.value&&(o.value.style.top="initial")},{immediate:!0}),J(()=>C.selectedCategory,g=>{g!==c.value&&(c.value=g)}),J(()=>c.value,g=>{y("update:selectedCategory",g)});const A=g=>g.split(" ").map(q=>q.charAt(0).toUpperCase()+q.slice(1)).join(" ");return(g,q)=>(M(),Z("div",{class:kt(["sticky tw-transition-all tw-duration-300",b.value?`tw-fixed tw-left-0 tw-w-screen tw-z-50 tw-px-3 tw-shadow-md !tw-py-0 !tw-text-xs tw-bg-[var(--q-bg-${r.value.stickyBgColor})] sticky-top`:""])},[Q(Ee,{modelValue:c.value,"onUpdate:modelValue":q[0]||(q[0]=m=>c.value=m),"indicator-color":"transparent",class:"gt-sm !tw-max-w-screen-xl tw-mx-auto","active-color":r.value.activeTextColor,"active-bg-color":r.value.activeBgColor,"text-color":r.value.backgroundColor,"inactive-color":r.value.textColor,align:"justify"},{default:ne(()=>[Q(fe,{name:"all",label:g.$t("products.categories.allProducts")},null,8,["label"]),(M(!0),Z(ue,null,Te(e.categories,m=>(M(),Y(fe,{key:m,name:m,label:A(m)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),Q(Ut,{"selected-category":c.value,"onUpdate:selectedCategory":q[1]||(q[1]=m=>c.value=m),categories:e.categories,color:r.value.backgroundColor,text:r.value.textColor,class:"q-my-md lt-md"},null,8,["selected-category","categories","color","text"])],2))}}),Kt=Tt(zt,[["__scopeId","data-v-a58c8764"]]),Wt={class:"tw-font-serif"},Ht={class:"tw-container tw-mx-auto tw-mb-8 grid justify-center"},Gt={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 xl:tw-grid-cols-4 tw-gap-4"},de=10,ta=ge({__name:"ProductsPage",props:{scrollOffset:{type:Number,required:!0}},setup(e){const S=_e("scrollToTop"),C=e,y=St(),l=je(),b=Pt(),o=At(),{t:c}=qt(),r="https://e-comm-backend-16bba1769344.herokuapp.com",A=T([]),g=T(1),q=T("all"),m=T([]),P=T(!0),w=n(()=>({activeTextColor:l.dark.isActive?"dark":"black",backgroundColor:l.dark.isActive?"white":"black",textColor:l.dark.isActive?"black":"white",paginationColor:l.dark.isActive?"light":"dark",paginationTextColor:l.dark.isActive?"white":"black",paginationActiveColor:l.dark.isActive?"white":"dark",paginationActiveTextColor:l.dark.isActive?"black":"white"})),D=n(()=>A.value.length?q.value==="all"?A.value:A.value.filter(i=>i.category===q.value):[]),j=n(()=>D.value.slice((g.value-1)*de,g.value*de)),U=n(()=>Math.ceil(A.value.length/de)),E=n(()=>C.scrollOffset>300),v=i=>{y.addItem({...i,quantity:1}),l.notify({color:"positive",position:"top",timeout:1e3,message:c("products.itemAdded"),icon:"check_circle"})},p=i=>{b.push(`/products/${i.id}`)},R=async i=>{q.value=i,g.value=1,await N(i)},I=async()=>{try{if(P.value=!0,o.isCategoryCacheValid()){const B=o.getCategoryCache();if(B){m.value=B.categories;return}}const i=await fetch(`${r}/products/categories`);if(!i.ok){if(console.warn(`API returned ${i.status} for categories`),m.value.length)return;m.value=["all"];return}m.value=await i.json(),o.setCategoryCache(m.value)}catch(i){console.error("Error fetching categories:",i)}finally{P.value=!1}},N=async(i="all")=>{l.loading.show();try{const B=i!=="all"?`product_${i}`:i;if(o.isCacheValid(B)){const L=o.getCache(B);if(L){A.value=L.products;return}}const F=await fetch(`${r}/products${i!=="all"?`/category/${i}`:""}`);if(!F.ok)throw new Error(`API returned ${F.status}`);const ee=await F.json();A.value=ee,o.setCache(ee,B)}catch(B){console.error("Error fetching products:",B)}finally{l.loading.hide()}};return Qe(()=>{I(),N()}),(i,B)=>(M(),Y($t,{padding:"",class:"tw-relative"},{default:ne(()=>[X("h5",Wt,oe(i.$t("products.title")),1),Q(Kt,{"selected-category":q.value,categories:m.value,"scroll-offset":e.scrollOffset,"onUpdate:selectedCategory":R},null,8,["selected-category","categories","scroll-offset"]),Q(pt,{class:"q-my-md"}),X("div",Ht,[X("div",Gt,[(M(!0),Z(ue,null,Te(j.value,F=>(M(),Y(Dt,{key:F.id,product:F,color:w.value.backgroundColor,text:w.value.textColor,onAddToCart:v,onViewProduct:p},null,8,["product","color","text"]))),128))])]),A.value.length>de?(M(),Y(Vt,{key:0,modelValue:g.value,"onUpdate:modelValue":[B[0]||(B[0]=F=>g.value=F),ie(S)],max:U.value,"boundary-numbers":"",class:"tw-py-8 tw-flex tw-justify-center tw-items-center !tw-gap-8",color:w.value.paginationColor,"text-color":w.value.paginationTextColor,"active-color":w.value.paginationActiveColor,"active-text-color":w.value.paginationActiveTextColor},null,8,["modelValue","max","color","text-color","active-color","active-text-color","onUpdate:modelValue"])):Me("",!0),E.value?(M(),Y(ke,{key:1,class:"!tw-fixed !tw-bottom-12 !tw-right-4 !tw-p-2 tw-z-40",round:"",color:"white","text-color":"black",icon:"arrow_upward",onClick:ie(S)},null,8,["onClick"])):Me("",!0)]),_:1}))}});export{ta as default};
