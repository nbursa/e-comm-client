import{I as A,A as v,K as N,a5 as V,d as z,a7 as G,ak as L,b5 as R,c as E,f as F,e as M,o as O,j as p,k as S,w as e,l as o,t as a,B as r,z as g,m as t,y as H,E as K,F as W,C as J,n as X,G as d,ag as n,v as Y,an as q,ai as x,Q as h,af as _,am as Z,ao as tt,D as et,aW as st,_ as lt}from"./index-Cw1-6oTs.js";import{Q as at}from"./QImg-C51as6M5.js";import{Q as ot}from"./QPage-crSimVfK.js";import{f as b}from"./currency-CNDhzamw.js";import"./rates-BvmdyCoH.js";const ct=A({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(y,{slots:k}){const C=v(()=>{const c=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(m=>y[m]===!0).map(m=>`q-btn-group--${m}`).join(" ");return`q-btn-group row no-wrap${c.length!==0?" "+c:""}`+(y.spread===!0?" q-btn-group--spread":" inline")});return()=>N("div",{class:C.value},V(k.default))}}),rt={class:"tw-text-3xl tw-mt-4 tw-font-semibold tw-font-serif tw-my-4 tw-text-left md:tw-text-center tw-mb-8"},nt={key:0,class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-h-screen -tw-mt-32"},wt=["color"],it={key:1,class:"tw-max-w-screen-xl tw-mx-auto tw-flex tw-justify-between !tw-py-4"},ut={class:"tw-w-full tw-flex tw-flex-col tw-items-start tw-justify-center !tw-mx-auto sm:tw-flex-row sm:tw-gap-4"},dt={class:"tw-flex !tw-flex-col tw-w-full sm:tw-flex-row sm:tw-w-1/2 md:tw-w-2/3 tw-space-y-4 tw-mx-auto sm:tw-mx-0 sm:tw-max-w-md"},mt={class:"tw-flex tw-flex-col tw-flex-grow tw-items-center tw-gap-2 md:tw-text-left"},ft={class:"tw-flex tw-items-center tw-py-6 tw-h-full"},pt={class:"text-weight-bold tw-flex tw-items-center tw-justify-center tw-text-lg tw-mx-2"},xt={class:"text-subtitle1 text-weight-bold mobile-price"},gt={class:"tw-flex-col tw-w-full tw-mx-auto sm:tw-w-1/2 md:!tw-w-1/3 sm:tw-ml-4 sm:tw-mx-0 sm:tw-max-w-sm sm:tw-sticky sm:tw-top-8"},ht={class:"tw-text-xl tw-font-semibold tw-font-serif md:tw-text-2xl tw-mb-4"},_t={class:"text-subtitle1 text-weight-bold"},bt={class:"text-subtitle1 text-weight-bold"},vt=z({__name:"ShoppingCart",setup(y){const k=G("scrollToTop"),C="https://e-comm-api-8eba0f6c8782.herokuapp.com/api".replace(/\/$/,""),c=L(),m=R(),$=E(),B=F(),{t:f}=M(),w=v(()=>$.dark.isActive),i=v(()=>w.value?"white":"dark"),j=v(()=>w.value?"dark":"white"),T=s=>{if(!s)return"";const u=`${C}${s}`,l=m.getCachedImageUrl(u);return l||(m.cacheImageUrl(u),u)},I=(s,u)=>{u<1||c.updateQuantity(s,u)},P=()=>{c.items.length&&B.push("/checkout")},U=s=>{B.push(`${st}/${s}`)},D=s=>{$.dialog({class:"custom-dialog",title:f("cart.confirmDelete"),message:f("cart.deleteMessage"),cancel:{color:"grey",outline:!0,label:f("cart.cancel")},ok:{color:i.value,flat:!0,label:f("cart.delete")},persistent:!0}).onOk(()=>{c.removeItem(s),$.notify({color:"positive",timeout:1e3,message:f("cart.itemRemoved"),icon:"delete",position:"top"})})};return O(()=>{k()}),(s,u)=>(p(),S(ot,{padding:"",class:"!tw-pb-16 !tw-pt-4 !tw-px-4 tw-max-w-screen-xl tw-mx-auto"},{default:e(()=>[o("h5",rt,a(s.$t("cart.shoppingCart")),1),r(c).items.length===0?(p(),g("div",nt,[t(H,{name:"shopping_cart",size:"4rem",color:i.value},null,8,["color"]),o("h5",{class:"q-mb-md",color:i.value},a(s.$t("cart.emptyCart")),9,wt),t(K,{to:"/products",color:i.value,"text-color":j.value,label:s.$t("cart.continue")},null,8,["color","text-color","label"])])):(p(),g("div",it,[o("div",ut,[o("div",dt,[(p(!0),g(W,null,J(r(c).items,l=>(p(),S(X,{key:l.id,flat:"",bordered:"",class:d(["tw-flex tw-flex-col md:tw-flex-row md:!tw-justify-between !tw-gap-3 tw-p-3 tw-rounded-md tw-cursor-pointer",w.value?"tw-bg-transparent text-light":"bg-light text-dark"]),onClick:Q=>U(l.id)},{default:e(()=>[t(n,{class:"tw-w-full md:!tw-max-w-44 !tw-flex-shrink-1 md:tw-min-w-[50px]"},{default:e(()=>[l.image?Y("",!0):(p(),g("div",{key:0,class:d(["tw-h-full tw-w-full tw-max-h-44 tw-flex tw-items-center tw-justify-center tw-rounded 0 tw-border tw-bg-transparent tw-border-gray-400",w.value?"tw-text-gray-200":"!tw-bg-gray-200"])},a(r(f)("errors.noImage")),3)),t(at,{src:`${T(l.image)}`,ratio:1,class:"tw-w-full sm:tw-h-44",fit:"contain"},null,8,["src"])]),_:2},1024),t(n,{class:"tw-flex-1 tw-min-w-0 md:tw-flex md:!tw-flex-col md:!tw-justify-between"},{default:e(()=>[t(q,{class:"text-subtitle2 text-weight-medium tw-truncate"},{default:e(()=>[x(a(l.name||l.title),1)]),_:2},1024),t(q,{caption:"",class:d(["!tw-text-xs",w.value&&"!tw-text-white"])},{default:e(()=>[x(a(r(b)(l.price))+" "+a(s.$t("cart.each")),1)]),_:2},1032,["class"]),o("div",mt,[o("div",ft,[t(ct,{flat:"",class:""},{default:e(()=>[t(h,{flat:"",dense:"",icon:"remove","text-color":i.value,onClick:Q=>I(l.id,l.quantity-1)},null,8,["text-color","onClick"]),o("div",pt,a(l.quantity),1),t(h,{flat:"",dense:"",icon:"add","text-color":i.value,onClick:Q=>I(l.id,l.quantity+1)},null,8,["text-color","onClick"])]),_:2},1024)]),o("div",xt,a(s.$t("cart.total"))+": "+a(r(b)(l.price*l.quantity)),1)])]),_:2},1024),t(n,{class:"!tw-flex-shrink-0 tw-flex tw-items-center tw-justify-center md:!tw-max-w-[60px] md:tw-ml-4"},{default:e(()=>[t(h,{flat:"",round:"",rectangle:"","text-color":"negative",icon:"delete",onClick:Q=>D(l.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),o("div",gt,[t(_,{class:d(["tw-flex tw-justify-between tw-flex-col tw-gap-4 !tw-pt-4 !tw-pb-3 !tw-px-0 tw-rounded-md sm:!tw-pt-0 tw-w-full",w.value?"tw-bg-transparent text-light":"bg-light text-dark"])},{default:e(()=>[t(n,{class:"tw-w-full"},{default:e(()=>[o("div",ht,a(s.$t("cart.orderSummary")),1),t(Z,{dense:"",class:"tw-w-full tw-flex tw-flex-col tw-justify-between"},{default:e(()=>[t(_,{class:"tw-justify-between"},{default:e(()=>[t(n,null,{default:e(()=>[x(a(s.$t("cart.items"))+" ("+a(r(c).totalItems)+")",1)]),_:1}),t(n,{side:"",class:d(w.value?"text-light":"text-dark")},{default:e(()=>[x(a(r(b)(r(c).totalPrice)),1)]),_:1},8,["class"])]),_:1}),t(_,{class:"tw-justify-between"},{default:e(()=>[t(n,null,{default:e(()=>[x(a(s.$t("cart.shipping")),1)]),_:1}),t(n,{side:"",class:d(w.value?"text-light":"text-dark")},{default:e(()=>[x(a(s.$t("cart.free")),1)]),_:1},8,["class"])]),_:1}),t(tt,{class:"q-my-md"}),t(_,{class:"tw-justify-between"},{default:e(()=>[t(n,null,{default:e(()=>[o("span",_t,a(s.$t("cart.total")),1)]),_:1}),t(n,{side:"",class:d(w.value?"text-light":"text-dark")},{default:e(()=>[o("span",bt,a(r(b)(r(c).totalPrice)),1)]),_:1},8,["class"])]),_:1})]),_:1})]),_:1}),t(et,{align:"center"},{default:e(()=>[t(h,{color:i.value,"text-color":j.value,label:s.$t("cart.checkout"),"class-name":"tw-flex-1 tw-basis-2/3 !tw-m-0 !tw-py-2.5",onClick:P},null,8,["color","text-color","label"])]),_:1})]),_:1},8,["class"])])])]))]),_:1}))}}),Bt=lt(vt,[["__scopeId","data-v-42cfa5ec"]]);export{Bt as default};
