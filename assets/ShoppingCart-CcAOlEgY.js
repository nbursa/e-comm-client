import{q as N,c as v,x as V,W as z,d as A,Y as L,am as R,a_ as F,al as G,an as M,ac as O,a8 as E,o as p,a as q,w as e,h as r,t as l,j as c,k as g,e as t,z as H,m as h,F as W,r as Y,f as J,n as u,ah as n,aj as K,aq as S,ad as d,ag as _,ap as X,ar as Z,l as tt,Q as et,aU as at,_ as st}from"./index-CH8EQQql.js";import{Q as lt}from"./QImg-Bn5ISyXO.js";import{Q as ot}from"./QPage-B9-1zssK.js";import{f as b}from"./currency-mWVXycvf.js";import"./rates-C5hyITTr.js";import"./axios-5oUHJZac.js";const rt=N({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(y,{slots:k}){const $=v(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(m=>y[m]===!0).map(m=>`q-btn-group--${m}`).join(" ");return`q-btn-group row no-wrap${o.length!==0?" "+o:""}`+(y.spread===!0?" q-btn-group--spread":" inline")});return()=>V("div",{class:$.value},z(k.default))}}),ct={class:"tw-text-3xl tw-mt-4 tw-font-semibold tw-font-serif tw-my-4 tw-text-left md:tw-text-center tw-mb-8"},nt={key:0,class:"tw-flex tw-flex-col tw-items-center tw-justify-center tw-h-screen -tw-mt-32"},wt=["color"],it={key:1,class:"tw-max-w-screen-xl tw-mx-auto tw-flex tw-justify-between !tw-py-4"},ut={class:"tw-w-full tw-flex tw-flex-col tw-items-start tw-justify-center !tw-mx-auto sm:tw-flex-row sm:tw-gap-4"},dt={class:"tw-flex !tw-flex-col tw-w-full sm:tw-flex-row sm:tw-w-1/2 md:tw-w-2/3 tw-space-y-4 tw-mx-auto sm:tw-mx-0 sm:tw-max-w-md"},mt={class:"tw-flex tw-flex-col tw-flex-grow tw-items-center tw-gap-2 md:tw-text-left"},ft={class:"tw-flex tw-items-center tw-py-6 tw-h-full"},pt={class:"text-subtitle1 text-weight-bold mobile-price"},xt={class:"tw-flex-col tw-w-full tw-mx-auto sm:tw-w-1/2 md:!tw-w-1/3 sm:tw-ml-4 sm:tw-mx-0 sm:tw-max-w-sm sm:tw-sticky sm:tw-top-8"},ht={class:"tw-text-xl tw-font-semibold tw-font-serif md:tw-text-2xl tw-mb-4"},gt={class:"text-subtitle1 text-weight-bold"},_t={class:"text-subtitle1 text-weight-bold"},bt=A({__name:"ShoppingCart",setup(y){const k=L("scrollToTop"),$="https://e-comm-api-8eba0f6c8782.herokuapp.com/api".replace(/\/$/,""),o=R(),m=F(),C=G(),B=M(),{t:f}=O(),w=v(()=>C.dark.isActive),x=v(()=>w.value?"white":"dark"),j=v(()=>w.value?"dark":"white"),T=a=>{if(!a)return"";const i=`${$}${a}`,s=m.getCachedImageUrl(i);return s||(m.cacheImageUrl(i),i)},I=(a,i)=>{i<1||o.updateQuantity(a,i)},U=()=>{o.items.length&&B.push("/checkout")},P=a=>{B.push(`${at}/${a}`)},D=a=>{C.dialog({class:"custom-dialog",title:f("cart.confirmDelete"),message:f("cart.deleteMessage"),cancel:{color:"grey",outline:!0,label:f("cart.cancel")},ok:{color:x.value,flat:!0,label:f("cart.delete")},persistent:!0}).onOk(()=>{o.removeItem(a),C.notify({color:"positive",timeout:1e3,message:f("cart.itemRemoved"),icon:"delete",position:"top"})})};return E(()=>{k()}),(a,i)=>(p(),q(ot,{padding:"",class:"!tw-pb-16 !tw-pt-4 !tw-px-4 tw-max-w-screen-xl tw-mx-auto"},{default:e(()=>[r("h5",ct,l(a.$t("cart.shoppingCart")),1),c(o).items.length===0?(p(),g("div",nt,[t(H,{name:"shopping_cart",size:"4rem",color:x.value},null,8,["color"]),r("h5",{class:"q-mb-md",color:x.value},l(a.$t("cart.emptyCart")),9,wt),t(h,{to:"/products",color:x.value,"text-color":j.value,label:a.$t("cart.continue")},null,8,["color","text-color","label"])])):(p(),g("div",it,[r("div",ut,[r("div",dt,[(p(!0),g(W,null,Y(c(o).items,s=>(p(),q(J,{key:s.id,flat:"",bordered:"",class:u(["tw-flex tw-flex-col md:tw-flex-row md:!tw-justify-between !tw-gap-3 tw-p-3 tw-rounded-md tw-cursor-pointer",w.value?"tw-bg-transparent text-light":"bg-light text-dark"]),onClick:Q=>P(s.id)},{default:e(()=>[t(n,{class:"tw-w-full md:!tw-max-w-44 !tw-flex-shrink-1 md:tw-min-w-[50px]"},{default:e(()=>[s.image?K("",!0):(p(),g("div",{key:0,class:u(["tw-h-full tw-w-full tw-max-h-44 tw-flex tw-items-center tw-justify-center tw-rounded 0 tw-border tw-bg-transparent tw-border-gray-400",w.value?"tw-text-gray-200":"!tw-bg-gray-200"])},l(c(f)("errors.noImage")),3)),t(lt,{src:`${T(s.image)}`,ratio:1,class:"tw-w-full sm:tw-h-44",fit:"contain"},null,8,["src"])]),_:2},1024),t(n,{class:"tw-flex-1 tw-min-w-0 md:tw-flex md:!tw-flex-col md:!tw-justify-between"},{default:e(()=>[t(S,{class:"text-subtitle2 text-weight-medium tw-truncate"},{default:e(()=>[d(l(s.name||s.title),1)]),_:2},1024),t(S,{caption:"",class:u(["!tw-text-xs",w.value&&"!tw-text-white"])},{default:e(()=>[d(l(c(b)(s.price))+" "+l(a.$t("cart.each")),1)]),_:2},1032,["class"]),r("div",mt,[r("div",ft,[t(rt,{flat:"",class:""},{default:e(()=>[t(h,{flat:"",dense:"",icon:"remove",onClick:Q=>I(s.id,s.quantity-1)},null,8,["onClick"]),t(h,{flat:"",dense:"",class:"text-weight-bold"},{default:e(()=>[d(l(s.quantity),1)]),_:2},1024),t(h,{flat:"",dense:"",icon:"add",onClick:Q=>I(s.id,s.quantity+1)},null,8,["onClick"])]),_:2},1024)]),r("div",pt,l(a.$t("cart.total"))+": "+l(c(b)(s.price*s.quantity)),1)])]),_:2},1024),t(n,{class:"!tw-flex-shrink-0 tw-flex tw-items-center tw-justify-center md:!tw-max-w-[60px] md:tw-ml-4"},{default:e(()=>[t(h,{flat:"",round:"",rectangle:"",color:"negative",icon:"delete",onClick:Q=>D(s.id)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),r("div",xt,[t(_,{class:u(["tw-flex tw-justify-between tw-flex-col tw-gap-4 !tw-pt-4 !tw-pb-3 !tw-px-0 tw-rounded-md sm:!tw-pt-0 tw-w-full",w.value?"tw-bg-transparent text-light":"bg-light text-dark"])},{default:e(()=>[t(n,{class:"tw-w-full"},{default:e(()=>[r("div",ht,l(a.$t("cart.orderSummary")),1),t(X,{dense:"",class:"tw-w-full tw-flex tw-flex-col tw-justify-between"},{default:e(()=>[t(_,{class:"tw-justify-between"},{default:e(()=>[t(n,null,{default:e(()=>[d(l(a.$t("cart.items"))+" ("+l(c(o).totalItems)+")",1)]),_:1}),t(n,{side:"",class:u(w.value?"text-light":"text-dark")},{default:e(()=>[d(l(c(b)(c(o).totalPrice)),1)]),_:1},8,["class"])]),_:1}),t(_,{class:"tw-justify-between"},{default:e(()=>[t(n,null,{default:e(()=>[d(l(a.$t("cart.shipping")),1)]),_:1}),t(n,{side:"",class:u(w.value?"text-light":"text-dark")},{default:e(()=>[d(l(a.$t("cart.free")),1)]),_:1},8,["class"])]),_:1}),t(Z,{class:"q-my-md"}),t(_,{class:"tw-justify-between"},{default:e(()=>[t(n,null,{default:e(()=>[r("span",gt,l(a.$t("cart.total")),1)]),_:1}),t(n,{side:"",class:u(w.value?"text-light":"text-dark")},{default:e(()=>[r("span",_t,l(c(b)(c(o).totalPrice)),1)]),_:1},8,["class"])]),_:1})]),_:1})]),_:1}),t(tt,{align:"center"},{default:e(()=>[t(et,{color:x.value,"text-color":j.value,label:a.$t("cart.checkout"),"class-name":"tw-flex-1 tw-basis-2/3 !tw-m-0",onClick:U},null,8,["color","text-color","label"])]),_:1})]),_:1},8,["class"])])])]))]),_:1}))}}),Bt=st(bt,[["__scopeId","data-v-c9c4d39b"]]);export{Bt as default};
