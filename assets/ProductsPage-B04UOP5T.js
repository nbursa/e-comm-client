import{I as He,J as be,ak as pe,r as T,l as n,k as Me,e as Ae,w as Je,R as Ge,h as x,al as De,am as Xe,s as Ye,Q as fe,O as Ze,i as ye,c as we,an as me,F as Be,ao as et,G as ee,p as tt,o as at,a as lt,ap as nt,g as ot,M as it,aq as rt,N as st,ar as ut,as as $e,at as ct,a5 as dt,ah as Re,au as vt,S as ft,W as gt,V as ht,X as bt,Y as mt,av as yt,Z as z,_ as re,$ as ne,aw as Ie,a0 as H,a6 as Z,a1 as J,a8 as se,a9 as Le,ab as ue,ax as wt,ac as Ct,aa as ce,ay as St,a2 as kt,a3 as Tt,ag as Pt,af as xt,a4 as qt}from"./index-BPO_bfT0.js";import{Q as _t}from"./QImg-Bgk3Femz.js";import{Q as Bt}from"./QPage-DcIGDCGx.js";let $t=0;const It=["click","keydown"],Lt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${$t++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Vt(e,m,C,u){const f=He(pe,be);if(f===be)return console.error("QTab/QRouteTab component needs to be child of QTabs"),be;const{proxy:h}=ye(),b=T(null),F=T(null),_=T(null),E=n(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),V=n(()=>f.currentModel.value===e.name),R=n(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(V.value===!0?" q-tab--active"+(f.tabProps.value.activeClass?" "+f.tabProps.value.activeClass:"")+(f.tabProps.value.activeColor?` text-${f.tabProps.value.activeColor}`:"")+(f.tabProps.value.activeBgColor?` bg-${f.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&f.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||f.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),$=n(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(f.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),y=n(()=>e.disable===!0||f.hasFocus.value===!0||V.value===!1&&f.hasActiveTab.value===!0?-1:e.tabindex||0);function w(c,q){if(q!==!0&&b.value!==null&&b.value.focus(),e.disable!==!0){f.updateModel({name:e.name}),C("click",c);return}}function p(c){De(c,[13,32])?w(c,!0):Xe(c)!==!0&&c.keyCode>=35&&c.keyCode<=40&&c.altKey!==!0&&c.metaKey!==!0&&f.onKbdNavigate(c.keyCode,h.$el)===!0&&Ye(c),C("keydown",c)}function N(){const c=f.tabProps.value.narrowIndicator,q=[],M=x("div",{ref:_,class:["q-tab__indicator",f.tabProps.value.indicatorClass]});e.icon!==void 0&&q.push(x(fe,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&q.push(x("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&q.push(e.alertIcon!==void 0?x(fe,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):x("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),c===!0&&q.push(M);const A=[x("div",{class:"q-focus-helper",tabindex:-1,ref:b}),x("div",{class:$.value},Ze(m.default,q))];return c===!1&&A.push(M),A}const j={name:n(()=>e.name),rootRef:F,tabIndicatorRef:_,routeData:u};Me(()=>{f.unregisterTab(j)}),Ae(()=>{f.registerTab(j)});function Q(c,q){const M={ref:F,class:R.value,tabindex:y.value,role:"tab","aria-selected":V.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:w,onKeydown:p,...q};return Je(x(c,M,N()),[[Ge,E.value]])}return{renderTab:Q,$tabs:f}}const Ve=we({name:"QTab",props:Lt,emits:It,setup(e,{slots:m,emit:C}){const{renderTab:u}=Vt(e,m,C);return()=>u("div")}});function pt(e,m,C){const u=C===!0?["left","right"]:["top","bottom"];return`absolute-${m===!0?u[0]:u[1]}${e?` text-${e}`:""}`}const Mt=["left","center","right","justify"],At=we({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Mt.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:m,emit:C}){const{proxy:u}=ye(),{$q:f}=u,{registerTick:h}=me(),{registerTick:b}=me(),{registerTick:F}=me(),{registerTimeout:_,removeTimeout:E}=Be(),{registerTimeout:V,removeTimeout:R}=Be(),$=T(null),y=T(null),w=T(e.modelValue),p=T(!1),N=T(!0),j=T(!1),Q=T(!1),c=[],q=T(0),M=T(!1);let A=null,O=null,P;const G=n(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:pt(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),te=n(()=>{const t=q.value,a=w.value;for(let r=0;r<t;r++)if(c[r].name.value===a)return!0;return!1}),ae=n(()=>`q-tabs__content--align-${p.value===!0?"left":Q.value===!0?"justify":e.align}`),D=n(()=>`q-tabs row no-wrap items-center q-tabs--${p.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),s=n(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+ae.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),o=n(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),l=n(()=>e.vertical!==!0&&f.lang.rtl===!0),d=n(()=>et===!1&&l.value===!0);ee(l,Y),ee(()=>e.modelValue,t=>{i({name:t,setCurrent:!0,skipEmit:!0})}),ee(()=>e.outsideArrows,I);function i({name:t,setCurrent:a,skipEmit:r}){w.value!==t&&(r!==!0&&e["onUpdate:modelValue"]!==void 0&&C("update:modelValue",t),(a===!0||e["onUpdate:modelValue"]===void 0)&&(oe(w.value,t),w.value=t))}function I(){h(()=>{$.value&&B({width:$.value.offsetWidth,height:$.value.offsetHeight})})}function B(t){if(o.value===void 0||y.value===null)return;const a=t[o.value.container],r=Math.min(y.value[o.value.scroll],Array.prototype.reduce.call(y.value.children,(k,g)=>k+(g[o.value.content]||0),0)),S=a>0&&r>a;p.value=S,S===!0&&b(Y),Q.value=a<parseInt(e.breakpoint,10)}function oe(t,a){const r=t!=null&&t!==""?c.find(k=>k.name.value===t):null,S=a!=null&&a!==""?c.find(k=>k.name.value===a):null;if(ie===!0)ie=!1;else if(r&&S){const k=r.tabIndicatorRef.value,g=S.tabIndicatorRef.value;A!==null&&(clearTimeout(A),A=null),k.style.transition="none",k.style.transform="none",g.style.transition="none",g.style.transform="none";const v=k.getBoundingClientRect(),L=g.getBoundingClientRect();g.style.transform=e.vertical===!0?`translate3d(0,${v.top-L.top}px,0) scale3d(1,${L.height?v.height/L.height:1},1)`:`translate3d(${v.left-L.left}px,0,0) scale3d(${L.width?v.width/L.width:1},1,1)`,F(()=>{A=setTimeout(()=>{A=null,g.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",g.style.transform="none"},70)})}S&&p.value===!0&&X(S.rootRef.value)}function X(t){const{left:a,width:r,top:S,height:k}=y.value.getBoundingClientRect(),g=t.getBoundingClientRect();let v=e.vertical===!0?g.top-S:g.left-a;if(v<0){y.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(v),Y();return}v+=e.vertical===!0?g.height-k:g.width-r,v>0&&(y.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(v),Y())}function Y(){const t=y.value;if(t===null)return;const a=t.getBoundingClientRect(),r=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);l.value===!0?(N.value=Math.ceil(r+a.width)<t.scrollWidth-1,j.value=r>0):(N.value=r>0,j.value=e.vertical===!0?Math.ceil(r+a.height)<t.scrollHeight:Math.ceil(r+a.width)<t.scrollWidth)}function Ce(t){O!==null&&clearInterval(O),O=setInterval(()=>{Ne(t)===!0&&U()},5)}function Se(){Ce(d.value===!0?Number.MAX_SAFE_INTEGER:0)}function ke(){Ce(d.value===!0?0:Number.MAX_SAFE_INTEGER)}function U(){O!==null&&(clearInterval(O),O=null)}function Fe(t,a){const r=Array.prototype.filter.call(y.value.children,L=>L===a||L.matches&&L.matches(".q-tab.q-focusable")===!0),S=r.length;if(S===0)return;if(t===36)return X(r[0]),r[0].focus(),!0;if(t===35)return X(r[S-1]),r[S-1].focus(),!0;const k=t===(e.vertical===!0?38:37),g=t===(e.vertical===!0?40:39),v=k===!0?-1:g===!0?1:void 0;if(v!==void 0){const L=l.value===!0?-1:1,K=r.indexOf(a)+v*L;return K>=0&&K<S&&(X(r[K]),r[K].focus({preventScroll:!0})),!0}}const Ee=n(()=>d.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,a)=>{t.scrollLeft=-a}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,a)=>{t.scrollTop=a}}:{get:t=>t.scrollLeft,set:(t,a)=>{t.scrollLeft=a}});function Ne(t){const a=y.value,{get:r,set:S}=Ee.value;let k=!1,g=r(a);const v=t<g?-1:1;return g+=v*5,g<0?(k=!0,g=0):(v===-1&&g<=t||v===1&&g>=t)&&(k=!0,g=t),S(a,g),Y(),k}function Te(t,a){for(const r in t)if(t[r]!==a[r])return!1;return!0}function Qe(){let t=null,a={matchedLen:0,queryDiff:9999,hrefLen:0};const r=c.filter(v=>v.routeData!==void 0&&v.routeData.hasRouterLink.value===!0),{hash:S,query:k}=u.$route,g=Object.keys(k).length;for(const v of r){const L=v.routeData.exact.value===!0;if(v.routeData[L===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:K,query:ge,matched:We,href:ze}=v.routeData.resolvedLink.value,he=Object.keys(ge).length;if(L===!0){if(K!==S||he!==g||Te(k,ge)===!1)continue;t=v.name.value;break}if(K!==""&&K!==S||he!==0&&Te(ge,k)===!1)continue;const W={matchedLen:We.length,queryDiff:g-he,hrefLen:ze.length-K.length};if(W.matchedLen>a.matchedLen){t=v.name.value,a=W;continue}else if(W.matchedLen!==a.matchedLen)continue;if(W.queryDiff<a.queryDiff)t=v.name.value,a=W;else if(W.queryDiff!==a.queryDiff)continue;W.hrefLen>a.hrefLen&&(t=v.name.value,a=W)}if(t===null&&c.some(v=>v.routeData===void 0&&v.name.value===w.value)===!0){ie=!1;return}i({name:t,setCurrent:!0})}function je(t){if(E(),M.value!==!0&&$.value!==null&&t.target&&typeof t.target.closest=="function"){const a=t.target.closest(".q-tab");a&&$.value.contains(a)===!0&&(M.value=!0,p.value===!0&&X(a))}}function Oe(){_(()=>{M.value=!1},30)}function le(){xe.avoidRouteWatcher===!1?V(Qe):R()}function Pe(){if(P===void 0){const t=ee(()=>u.$route.fullPath,le);P=()=>{t(),P=void 0}}}function Ke(t){c.push(t),q.value++,I(),t.routeData===void 0||u.$route===void 0?V(()=>{if(p.value===!0){const a=w.value,r=a!=null&&a!==""?c.find(S=>S.name.value===a):null;r&&X(r.rootRef.value)}}):(Pe(),t.routeData.hasRouterLink.value===!0&&le())}function Ue(t){c.splice(c.indexOf(t),1),q.value--,I(),P!==void 0&&t.routeData!==void 0&&(c.every(a=>a.routeData===void 0)===!0&&P(),le())}const xe={currentModel:w,tabProps:G,hasFocus:M,hasActiveTab:te,registerTab:Ke,unregisterTab:Ue,verifyRouteModel:le,updateModel:i,onKbdNavigate:Fe,avoidRouteWatcher:!1};tt(pe,xe);function qe(){A!==null&&clearTimeout(A),U(),P!==void 0&&P()}let _e,ie;return Me(qe),at(()=>{_e=P!==void 0,qe()}),lt(()=>{_e===!0&&(Pe(),ie=!0,le()),I()}),()=>x("div",{ref:$,class:D.value,role:"tablist",onFocusin:je,onFocusout:Oe},[x(nt,{onResize:B}),x("div",{ref:y,class:s.value,onScroll:Y},ot(m.default)),x(fe,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(N.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||f.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Se,onTouchstartPassive:Se,onMouseupPassive:U,onMouseleavePassive:U,onTouchendPassive:U}),x(fe,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(j.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||f.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:ke,onTouchstartPassive:ke,onMouseupPassive:U,onMouseleavePassive:U,onTouchendPassive:U})])}});function de(e,m){return[!0,!1].includes(e)?e:m}const Dt=we({name:"QPagination",props:{...it,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||rt.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:m}){const{proxy:C}=ye(),{$q:u}=C,f=st(e,u),h=n(()=>parseInt(e.min,10)),b=n(()=>parseInt(e.max,10)),F=n(()=>parseInt(e.maxPages,10)),_=n(()=>w.value+" / "+b.value),E=n(()=>de(e.boundaryLinks,e.input)),V=n(()=>de(e.boundaryNumbers,!e.input)),R=n(()=>de(e.directionLinks,e.input)),$=n(()=>de(e.ellipses,!e.input)),y=T(null),w=n({get:()=>e.modelValue,set:s=>{if(s=parseInt(s,10),e.disable||isNaN(s))return;const o=ut(s,h.value,b.value);e.modelValue!==o&&m("update:modelValue",o)}});ee(()=>`${h.value}|${b.value}`,()=>{w.value=e.modelValue});const p=n(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),N=n(()=>e.gutter in $e?`${$e[e.gutter]}px`:e.gutter||null),j=n(()=>N.value!==null?`--q-pagination-gutter-parent:-${N.value};--q-pagination-gutter-child:${N.value}`:null),Q=n(()=>{const s=[e.iconFirst||u.iconSet.pagination.first,e.iconPrev||u.iconSet.pagination.prev,e.iconNext||u.iconSet.pagination.next,e.iconLast||u.iconSet.pagination.last];return u.lang.rtl===!0?s.reverse():s}),c=n(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),q=n(()=>ct(e,"flat")),M=n(()=>({[q.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),A=n(()=>{const s={[q.value]:!1};return e.activeDesign!==""&&(s[e.activeDesign]=!0),s}),O=n(()=>({...A.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),P=n(()=>{let s=Math.max(F.value,1+($.value?2:0)+(V.value?2:0));const o={pgFrom:h.value,pgTo:b.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(b.value).length)}em`}};return F.value&&s<b.value-h.value+1&&(s=1+Math.floor(s/2)*2,o.pgFrom=Math.max(h.value,Math.min(b.value-s+1,e.modelValue-Math.floor(s/2))),o.pgTo=Math.min(b.value,o.pgFrom+s-1),V.value&&(o.boundaryStart=!0,o.pgFrom++),$.value&&o.pgFrom>h.value+(V.value?1:0)&&(o.ellipsesStart=!0,o.pgFrom++),V.value&&(o.boundaryEnd=!0,o.pgTo--),$.value&&o.pgTo<b.value-(V.value?1:0)&&(o.ellipsesEnd=!0,o.pgTo--)),o});function G(s){w.value=s}function te(s){w.value=w.value+s}const ae=n(()=>{function s(){w.value=y.value,y.value=null}return{"onUpdate:modelValue":o=>{y.value=o},onKeyup:o=>{De(o,13)===!0&&s()},onBlur:s}});function D(s,o,l){const d={"aria-label":o,"aria-current":"false",...M.value,...s};return l===!0&&Object.assign(d,{"aria-current":"true",...O.value}),o!==void 0&&(e.toFn!==void 0?d.to=e.toFn(o):d.onClick=()=>{G(o)}),x(Re,d)}return Object.assign(C,{set:G,setByOffset:te}),()=>{const s=[],o=[];let l;if(E.value===!0&&(s.push(D({key:"bls",disable:e.disable||e.modelValue<=h.value,icon:Q.value[0]},h.value)),o.unshift(D({key:"ble",disable:e.disable||e.modelValue>=b.value,icon:Q.value[3]},b.value))),R.value===!0&&(s.push(D({key:"bdp",disable:e.disable||e.modelValue<=h.value,icon:Q.value[1]},e.modelValue-1)),o.unshift(D({key:"bdn",disable:e.disable||e.modelValue>=b.value,icon:Q.value[2]},e.modelValue+1))),e.input!==!0){l=[];const{pgFrom:d,pgTo:i,marginalStyle:I}=P.value;if(P.value.boundaryStart===!0){const B=h.value===e.modelValue;s.push(D({key:"bns",style:I,disable:e.disable,label:h.value},h.value,B))}if(P.value.boundaryEnd===!0){const B=b.value===e.modelValue;o.unshift(D({key:"bne",style:I,disable:e.disable,label:b.value},b.value,B))}P.value.ellipsesStart===!0&&s.push(D({key:"bes",style:I,disable:e.disable,label:"…",ripple:!1},d-1)),P.value.ellipsesEnd===!0&&o.unshift(D({key:"bee",style:I,disable:e.disable,label:"…",ripple:!1},i+1));for(let B=d;B<=i;B++)l.push(D({key:`bpg${B}`,style:I,disable:e.disable,label:B},B,B===e.modelValue))}return x("div",{class:p.value,...c.value},[x("div",{class:"q-pagination__content row no-wrap items-center",style:j.value},[...s,e.input===!0?x(dt,{class:"inline",style:{width:`${_.value.length/1.5}em`},type:"number",dense:!0,value:y.value,disable:e.disable,dark:f.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:_.value,min:h.value,max:b.value,...ae.value}):x("div",{class:"q-pagination__middle row justify-center"},l),...o])])}}}),Rt=vt("productCache",{state:()=>({cacheMap:new Map,categoryCache:null,cacheDuration:5*60*1e3}),actions:{getCacheKey(e="all"){return`products_${e}`},setCache(e,m="all"){const C={products:e,timestamp:Date.now(),category:m};this.cacheMap.set(this.getCacheKey(m),C),localStorage.setItem(this.getCacheKey(m),JSON.stringify(C))},getCache(e="all"){const m=this.cacheMap.get(this.getCacheKey(e));if(m)return m;const C=localStorage.getItem(this.getCacheKey(e));if(!C)return null;const u=JSON.parse(C);return this.cacheMap.set(this.getCacheKey(e),u),u},isCacheValid(e="all"){const m=this.getCache(e);return m?Date.now()-m.timestamp<this.cacheDuration:!1},setCategoryCache(e){this.categoryCache={categories:e,timestamp:Date.now()},localStorage.setItem("categories",JSON.stringify(this.categoryCache))},getCategoryCache(){if(this.categoryCache)return this.categoryCache;const e=localStorage.getItem("categories");return e?(this.categoryCache=JSON.parse(e),this.categoryCache):null},isCategoryCacheValid(){const e=this.getCategoryCache();return e?Date.now()-e.timestamp<this.cacheDuration:!1}}}),Ft={class:"q-my-md"},Et={class:"tw-container tw-mx-auto tw-max-w-screen-xl tw-mb-8"},Nt={class:"tw-grid tw-grid-cols-1 sm:tw-grid-cols-2 lg:tw-grid-cols-3 xl:tw-grid-cols-4 tw-gap-4"},Qt={class:"text-bold product-name"},jt={class:"text-caption"},Ot={class:"q-mt-sm text-bold price-text"},Kt={class:"text-grey"},Ut={class:"text-positive q-ml-sm"},ve=10,Jt=ft({__name:"ProductsPage",setup(e){const{getVerticalScrollPosition:m}=St,C=gt(),u=ht(),f=bt(),h=Rt(),{t:b}=mt(),F="https://e-comm-backend-16bba1769344.herokuapp.com",_=T([]),E=T(1),V=T(!1),R=T("all"),$=T(!0),y=T([]),w=n(()=>u.dark.isActive?"white":"black"),p=n(()=>u.dark.isActive?"black":"white"),N=n(()=>_.value?R.value==="all"?_.value:_.value.filter(l=>l.category===R.value):[]),j=n(()=>N.value.slice((E.value-1)*ve,E.value*ve)),Q=n(()=>Math.ceil(_.value.length/ve)),c=n(()=>C.totalItems),q=n(()=>C.totalPrice),M=l=>l?l.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1)).join(" "):"",A=l=>{const d=l.match(/[^.!?]*[.!?]/);return d?d[0]:l},O=l=>l,P=l=>`$${l.toFixed(2)}`,G=()=>{const l=document.querySelector("body");l?l.scrollTo({top:0,behavior:"smooth"}):console.warn("Element body not found")},te=l=>{C.addItem({...l,quantity:1}),u.notify({color:"positive",message:b("products.itemAdded"),icon:"check_circle"})},ae=l=>{f.push(`/products/${l.id}`)},D=()=>{const l=m(window);V.value=l>0};ee(R,async l=>{E.value=1,await o(l)});const s=async()=>{try{if($.value=!0,h.isCategoryCacheValid()){const i=h.getCategoryCache();if(i){y.value=i.categories;return}}const d=await(await fetch(`${F}/products/categories`)).json();y.value=d,h.setCategoryCache(d)}catch(l){console.error("Error fetching categories:",l),y.value=[]}finally{$.value=!1}},o=async l=>{u.loading.show();try{const d=l||"all";if(h.isCacheValid(d)){const oe=h.getCache(d);if(oe){_.value=oe.products,u.loading.hide();return}}const i=l&&l!=="all"?`${F}/products/category/${l}`:`${F}/products`,I=await fetch(i);if(!I.ok)throw new Error("Network response was not ok");const B=await I.json();_.value=B,h.setCache(B,d)}catch{u.notify({color:"negative",position:"top",message:"Failed to fetch products. Please try again later.",icon:"error"}),_.value=[]}finally{u.loading.hide()}};return Ae(async()=>{await Promise.all([s(),o()]),window.addEventListener("scroll",D)}),yt(()=>{window.removeEventListener("scroll",D)}),(l,d)=>(z(),re(Bt,{padding:""},{default:ne(()=>[Ie("",!0),H("h5",Ft,Z(l.$t("products.title")),1),J(At,{modelValue:R.value,"onUpdate:modelValue":d[0]||(d[0]=i=>R.value=i),class:"q-mb-md gt-sm","active-color":p.value,"active-bg-color":w.value,"text-color":w.value,"inactive-color":w.value,align:"justify"},{default:ne(()=>[J(Ve,{name:"all",label:l.$t("products.categories.allProducts")},null,8,["label"]),(z(!0),se(ue,null,Le(y.value,i=>(z(),re(Ve,{key:i,name:i,label:M(i)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),J(wt,{modelValue:R.value,"onUpdate:modelValue":d[1]||(d[1]=i=>R.value=i),options:["all",...y.value],class:"q-my-md lt-md",color:w.value,"text-color":p.value,label:l.$t("products.selectCategory"),outlined:"","option-label":i=>i==="all"?l.$t("products.categories.allProducts"):M(i)},null,8,["modelValue","options","color","text-color","label","option-label"]),J(Ct,{class:"q-my-md"}),H("div",Et,[H("div",Nt,[(z(!0),se(ue,null,Le(j.value,i=>(z(),re(kt,{key:i.id,class:"tw-w-full tw-transition tw-duration-200 tw-ease-in-out hover:tw-cursor-pointer hover:tw-scale-105",bordered:"",onClick:I=>ae(i)},{default:ne(()=>[J(_t,{src:O(i.image),alt:i.name,fit:"contain",class:"sm:tw-h-2/3 tw-w-full tw-max-h-1.5"},null,8,["src","alt"]),J(Tt,{class:"tw-flex-grow q-pa-sm !tw-pb-0"},{default:ne(()=>[H("div",Qt,Z(i.name||i.title),1),H("div",jt,Z(A(i.description)),1)]),_:2},1024),J(Pt,{class:"row justify-between items-center !tw-pt-0"},{default:ne(()=>[H("div",Ot,[i.discount?(z(),se(ue,{key:0},[H("s",Kt,Z(P(i.price)),1),H("span",Ut,Z(P(i.discountedPrice||i.price)),1)],64)):(z(),se(ue,{key:1},[xt(Z(P(i.price)),1)],64))]),J(Re,{color:w.value,"text-color":p.value,label:l.$t("products.addToCart"),class:"full-width q-mt-md",onClick:qt(I=>te(i),["stop"])},null,8,["color","text-color","label","onClick"])]),_:2},1024)]),_:2},1032,["onClick"]))),128))])]),_.value.length>ve?(z(),re(Dt,{key:1,modelValue:E.value,"onUpdate:modelValue":[d[2]||(d[2]=i=>E.value=i),G],max:Q.value,"boundary-numbers":"",class:"q-my-md text-center justify-center",color:ce(u).dark.isActive?"white":"dark","text-color":ce(u).dark.isActive?"white":"dark","active-color":ce(u).dark.isActive?"white":"dark","active-text-color":ce(u).dark.isActive?"dark":"white"},null,8,["modelValue","max","color","text-color","active-color","active-text-color"])):Ie("",!0)]),_:1}))}});export{Jt as default};
