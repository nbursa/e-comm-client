import{c as Ce,P as Ze,at as Je,S as et,q as i,r as x,au as tt,I as H,av as Le,aw as at,ax as _e,h as $,ah as lt,j as we,a7 as Me,W as ve,X as F,Y as ne,Z as oe,_ as Q,$ as nt,a0 as Z,a1 as le,a6 as ot,a3 as J,a5 as ie,a2 as me,al as rt,am as it,a9 as ut,L as xe,M as be,ay as Re,m as De,e as Ee,w as st,R as ct,az as dt,k as vt,Q as ce,U as ft,aA as he,H as Ie,aB as gt,p as mt,o as bt,a as ht,aC as yt,g as Ct,a4 as ke,aD as wt,ad as Fe,a8 as xt,ab as kt,ae as Pt,af as Tt,ag as St,ap as qt,an as $t}from"./index-DOXkhBEM.js";import{Q as Bt}from"./QPage-Ddka7GEn.js";import{u as pt}from"./products-DlZxeLVb.js";import{Q as At,f as ye}from"./currency-omrsKID4.js";import"./rates-BhQ0yK4c.js";function se(e,T){return[!0,!1].includes(e)?e:T}const Lt=Ce({name:"QPagination",props:{...Ze,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||Je.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:T}){const{proxy:w}=we(),{$q:s}=w,c=et(e,s),f=i(()=>parseInt(e.min,10)),r=i(()=>parseInt(e.max,10)),u=i(()=>parseInt(e.maxPages,10)),n=i(()=>S.value+" / "+r.value),L=i(()=>se(e.boundaryLinks,e.input)),h=i(()=>se(e.boundaryNumbers,!e.input)),B=i(()=>se(e.directionLinks,e.input)),g=i(()=>se(e.ellipses,!e.input)),C=x(null),S=i({get:()=>e.modelValue,set:v=>{if(v=parseInt(v,10),e.disable||isNaN(v))return;const o=tt(v,f.value,r.value);e.modelValue!==o&&T("update:modelValue",o)}});H(()=>`${f.value}|${r.value}`,()=>{S.value=e.modelValue});const O=i(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),p=i(()=>e.gutter in Le?`${Le[e.gutter]}px`:e.gutter||null),K=i(()=>p.value!==null?`--q-pagination-gutter-parent:-${p.value};--q-pagination-gutter-child:${p.value}`:null),j=i(()=>{const v=[e.iconFirst||s.iconSet.pagination.first,e.iconPrev||s.iconSet.pagination.prev,e.iconNext||s.iconSet.pagination.next,e.iconLast||s.iconSet.pagination.last];return s.lang.rtl===!0?v.reverse():v}),m=i(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),q=i(()=>at(e,"flat")),M=i(()=>({[q.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),I=i(()=>{const v={[q.value]:!1};return e.activeDesign!==""&&(v[e.activeDesign]=!0),v}),R=i(()=>({...I.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),l=i(()=>{let v=Math.max(u.value,1+(g.value?2:0)+(h.value?2:0));const o={pgFrom:f.value,pgTo:r.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(r.value).length)}em`}};return u.value&&v<r.value-f.value+1&&(v=1+Math.floor(v/2)*2,o.pgFrom=Math.max(f.value,Math.min(r.value-v+1,e.modelValue-Math.floor(v/2))),o.pgTo=Math.min(r.value,o.pgFrom+v-1),h.value&&(o.boundaryStart=!0,o.pgFrom++),g.value&&o.pgFrom>f.value+(h.value?1:0)&&(o.ellipsesStart=!0,o.pgFrom++),h.value&&(o.boundaryEnd=!0,o.pgTo--),g.value&&o.pgTo<r.value-(h.value?1:0)&&(o.ellipsesEnd=!0,o.pgTo--)),o});function V(v){S.value=v}function N(v){S.value=S.value+v}const G=i(()=>{function v(){S.value=C.value,C.value=null}return{"onUpdate:modelValue":o=>{C.value=o},onKeyup:o=>{_e(o,13)===!0&&v()},onBlur:v}});function D(v,o,_){const U={"aria-label":o,"aria-current":"false",...M.value,...v};return _===!0&&Object.assign(U,{"aria-current":"true",...R.value}),o!==void 0&&(e.toFn!==void 0?U.to=e.toFn(o):U.onClick=()=>{V(o)}),$(Me,U)}return Object.assign(w,{set:V,setByOffset:N}),()=>{const v=[],o=[];let _;if(L.value===!0&&(v.push(D({key:"bls",disable:e.disable||e.modelValue<=f.value,icon:j.value[0]},f.value)),o.unshift(D({key:"ble",disable:e.disable||e.modelValue>=r.value,icon:j.value[3]},r.value))),B.value===!0&&(v.push(D({key:"bdp",disable:e.disable||e.modelValue<=f.value,icon:j.value[1]},e.modelValue-1)),o.unshift(D({key:"bdn",disable:e.disable||e.modelValue>=r.value,icon:j.value[2]},e.modelValue+1))),e.input!==!0){_=[];const{pgFrom:U,pgTo:ee,marginalStyle:z}=l.value;if(l.value.boundaryStart===!0){const E=f.value===e.modelValue;v.push(D({key:"bns",style:z,disable:e.disable,label:f.value},f.value,E))}if(l.value.boundaryEnd===!0){const E=r.value===e.modelValue;o.unshift(D({key:"bne",style:z,disable:e.disable,label:r.value},r.value,E))}l.value.ellipsesStart===!0&&v.push(D({key:"bes",style:z,disable:e.disable,label:"…",ripple:!1},U-1)),l.value.ellipsesEnd===!0&&o.unshift(D({key:"bee",style:z,disable:e.disable,label:"…",ripple:!1},ee+1));for(let E=U;E<=ee;E++)_.push(D({key:`bpg${E}`,style:z,disable:e.disable,label:E},E,E===e.modelValue))}return $("div",{class:O.value,...m.value},[$("div",{class:"q-pagination__content row no-wrap items-center",style:K.value},[...v,e.input===!0?$(lt,{class:"inline",style:{width:`${n.value.length/1.5}em`},type:"number",dense:!0,value:C.value,disable:e.disable,dark:c.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:n.value,min:f.value,max:r.value,...G.value}):$("div",{class:"q-pagination__middle row justify-center"},_),...o])])}}}),It={class:"text-bold"},Vt={class:"text-caption"},_t={class:"q-mt-sm text-bold price-text"},Mt={class:"text-grey"},Rt={class:"text-positive q-ml-sm"},Dt=ve({__name:"ProductCard",props:{product:{type:Object,required:!0},color:{type:String,default:"primary"},text:{type:String,default:"white"}},emits:["add-to-cart","view-product"],setup(e,{emit:T}){const w=T,s=u=>{w("add-to-cart",u)},c=u=>{w("view-product",u)},f=u=>u,r=u=>{const n=u.match(/[^.!?]*[.!?]/);return n?n[0]:u};return(u,n)=>(F(),ne(ut,{bordered:"",class:"product tw-w-full tw-max-w-72 tw-mx-auto !tw-bg-primary sm:tw-mx-none tw-transition tw-duration-200 tw-ease-in-out hover:tw-cursor-pointer hover:tw-scale-105 tw-shadow-none",onClick:n[1]||(n[1]=L=>c(e.product))},{default:oe(()=>[Q(At,{src:f(e.product.image),alt:e.product.name,fit:"contain",class:"sm:tw-h-2/3 tw-w-full tw-max-h-1.5"},null,8,["src","alt"]),Q(nt,{class:"tw-flex-grow q-px-sm !tw-pb-0"},{default:oe(()=>[Z("div",It,le(e.product.name||e.product.title),1),Z("div",Vt,le(r(e.product.description)),1)]),_:1}),Q(ot,{class:"row justify-between items-center !tw-pt-0"},{default:oe(()=>[Z("div",_t,[e.product.discount?(F(),J(ie,{key:0},[Z("span",Mt,le(me(ye)(e.product.price)),1),Z("span",Rt,le(me(ye)(e.product.discountedPrice||e.product.price)),1)],64)):(F(),J(ie,{key:1},[rt(le(me(ye)(e.product.price)),1)],64))]),Q(Me,{color:e.color,"text-color":e.text,label:u.$t("products.addToCart"),class:"full-width q-mt-md !tw-py-4",onClick:n[0]||(n[0]=it(L=>s(e.product),["stop"]))},null,8,["color","text-color","label"])]),_:1})]),_:1}))}});let Et=0;const Ft=["click","keydown"],Ot={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Et++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Qt(e,T,w,s){const c=xe(Re,be);if(c===be)return console.error("QTab/QRouteTab component needs to be child of QTabs"),be;const{proxy:f}=we(),r=x(null),u=x(null),n=x(null),L=i(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),h=i(()=>c.currentModel.value===e.name),B=i(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(h.value===!0?" q-tab--active"+(c.tabProps.value.activeClass?" "+c.tabProps.value.activeClass:"")+(c.tabProps.value.activeColor?` text-${c.tabProps.value.activeColor}`:"")+(c.tabProps.value.activeBgColor?` bg-${c.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&c.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||c.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")),g=i(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(c.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),C=i(()=>e.disable===!0||c.hasFocus.value===!0||h.value===!1&&c.hasActiveTab.value===!0?-1:e.tabindex||0);function S(m,q){if(q!==!0&&r.value!==null&&r.value.focus(),e.disable!==!0){c.updateModel({name:e.name}),w("click",m);return}}function O(m){_e(m,[13,32])?S(m,!0):dt(m)!==!0&&m.keyCode>=35&&m.keyCode<=40&&m.altKey!==!0&&m.metaKey!==!0&&c.onKbdNavigate(m.keyCode,f.$el)===!0&&vt(m),w("keydown",m)}function p(){const m=c.tabProps.value.narrowIndicator,q=[],M=$("div",{ref:n,class:["q-tab__indicator",c.tabProps.value.indicatorClass]});e.icon!==void 0&&q.push($(ce,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&q.push($("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&q.push(e.alertIcon!==void 0?$(ce,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):$("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),m===!0&&q.push(M);const I=[$("div",{class:"q-focus-helper",tabindex:-1,ref:r}),$("div",{class:g.value},ft(T.default,q))];return m===!1&&I.push(M),I}const K={name:i(()=>e.name),rootRef:u,tabIndicatorRef:n,routeData:s};De(()=>{c.unregisterTab(K)}),Ee(()=>{c.registerTab(K)});function j(m,q){const M={ref:u,class:B.value,tabindex:C.value,role:"tab","aria-selected":h.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:S,onKeydown:O,...q};return st($(m,M,p()),[[ct,L.value]])}return{renderTab:j,$tabs:c}}const de=Ce({name:"QTab",props:Ot,emits:Ft,setup(e,{slots:T,emit:w}){const{renderTab:s}=Qt(e,T,w);return()=>s("div")}});function jt(e,T,w){const s=w===!0?["left","right"]:["top","bottom"];return`absolute-${T===!0?s[0]:s[1]}${e?` text-${e}`:""}`}const Nt=["left","center","right","justify"],Oe=Ce({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Nt.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:T,emit:w}){const{proxy:s}=we(),{$q:c}=s,{registerTick:f}=he(),{registerTick:r}=he(),{registerTick:u}=he(),{registerTimeout:n,removeTimeout:L}=Ie(),{registerTimeout:h,removeTimeout:B}=Ie(),g=x(null),C=x(null),S=x(e.modelValue),O=x(!1),p=x(!0),K=x(!1),j=x(!1),m=[],q=x(0),M=x(!1);let I=null,R=null,l;const V=i(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:jt(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),N=i(()=>{const t=q.value,a=S.value;for(let d=0;d<t;d++)if(m[d].name.value===a)return!0;return!1}),G=i(()=>`q-tabs__content--align-${O.value===!0?"left":j.value===!0?"justify":e.align}`),D=i(()=>`q-tabs row no-wrap items-center q-tabs--${O.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),v=i(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+G.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),o=i(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),_=i(()=>e.vertical!==!0&&c.lang.rtl===!0),U=i(()=>gt===!1&&_.value===!0);H(_,ae),H(()=>e.modelValue,t=>{ee({name:t,setCurrent:!0,skipEmit:!0})}),H(()=>e.outsideArrows,z);function ee({name:t,setCurrent:a,skipEmit:d}){S.value!==t&&(d!==!0&&e["onUpdate:modelValue"]!==void 0&&w("update:modelValue",t),(a===!0||e["onUpdate:modelValue"]===void 0)&&(Qe(S.value,t),S.value=t))}function z(){f(()=>{g.value&&E({width:g.value.offsetWidth,height:g.value.offsetHeight})})}function E(t){if(o.value===void 0||C.value===null)return;const a=t[o.value.container],d=Math.min(C.value[o.value.scroll],Array.prototype.reduce.call(C.value.children,(P,y)=>P+(y[o.value.content]||0),0)),k=a>0&&d>a;O.value=k,k===!0&&r(ae),j.value=a<parseInt(e.breakpoint,10)}function Qe(t,a){const d=t!=null&&t!==""?m.find(P=>P.name.value===t):null,k=a!=null&&a!==""?m.find(P=>P.name.value===a):null;if(ue===!0)ue=!1;else if(d&&k){const P=d.tabIndicatorRef.value,y=k.tabIndicatorRef.value;I!==null&&(clearTimeout(I),I=null),P.style.transition="none",P.style.transform="none",y.style.transition="none",y.style.transform="none";const b=P.getBoundingClientRect(),A=y.getBoundingClientRect();y.style.transform=e.vertical===!0?`translate3d(0,${b.top-A.top}px,0) scale3d(1,${A.height?b.height/A.height:1},1)`:`translate3d(${b.left-A.left}px,0,0) scale3d(${A.width?b.width/A.width:1},1,1)`,u(()=>{I=setTimeout(()=>{I=null,y.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",y.style.transform="none"},70)})}k&&O.value===!0&&te(k.rootRef.value)}function te(t){const{left:a,width:d,top:k,height:P}=C.value.getBoundingClientRect(),y=t.getBoundingClientRect();let b=e.vertical===!0?y.top-k:y.left-a;if(b<0){C.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(b),ae();return}b+=e.vertical===!0?y.height-P:y.width-d,b>0&&(C.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(b),ae())}function ae(){const t=C.value;if(t===null)return;const a=t.getBoundingClientRect(),d=e.vertical===!0?t.scrollTop:Math.abs(t.scrollLeft);_.value===!0?(p.value=Math.ceil(d+a.width)<t.scrollWidth-1,K.value=d>0):(p.value=d>0,K.value=e.vertical===!0?Math.ceil(d+a.height)<t.scrollHeight:Math.ceil(d+a.width)<t.scrollWidth)}function Pe(t){R!==null&&clearInterval(R),R=setInterval(()=>{Ue(t)===!0&&X()},5)}function Te(){Pe(U.value===!0?Number.MAX_SAFE_INTEGER:0)}function Se(){Pe(U.value===!0?0:Number.MAX_SAFE_INTEGER)}function X(){R!==null&&(clearInterval(R),R=null)}function je(t,a){const d=Array.prototype.filter.call(C.value.children,A=>A===a||A.matches&&A.matches(".q-tab.q-focusable")===!0),k=d.length;if(k===0)return;if(t===36)return te(d[0]),d[0].focus(),!0;if(t===35)return te(d[k-1]),d[k-1].focus(),!0;const P=t===(e.vertical===!0?38:37),y=t===(e.vertical===!0?40:39),b=P===!0?-1:y===!0?1:void 0;if(b!==void 0){const A=_.value===!0?-1:1,W=d.indexOf(a)+b*A;return W>=0&&W<k&&(te(d[W]),d[W].focus({preventScroll:!0})),!0}}const Ne=i(()=>U.value===!0?{get:t=>Math.abs(t.scrollLeft),set:(t,a)=>{t.scrollLeft=-a}}:e.vertical===!0?{get:t=>t.scrollTop,set:(t,a)=>{t.scrollTop=a}}:{get:t=>t.scrollLeft,set:(t,a)=>{t.scrollLeft=a}});function Ue(t){const a=C.value,{get:d,set:k}=Ne.value;let P=!1,y=d(a);const b=t<y?-1:1;return y+=b*5,y<0?(P=!0,y=0):(b===-1&&y<=t||b===1&&y>=t)&&(P=!0,y=t),k(a,y),ae(),P}function qe(t,a){for(const d in t)if(t[d]!==a[d])return!1;return!0}function Ke(){let t=null,a={matchedLen:0,queryDiff:9999,hrefLen:0};const d=m.filter(b=>b.routeData!==void 0&&b.routeData.hasRouterLink.value===!0),{hash:k,query:P}=s.$route,y=Object.keys(P).length;for(const b of d){const A=b.routeData.exact.value===!0;if(b.routeData[A===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:W,query:fe,matched:Xe,href:Ye}=b.routeData.resolvedLink.value,ge=Object.keys(fe).length;if(A===!0){if(W!==k||ge!==y||qe(P,fe)===!1)continue;t=b.name.value;break}if(W!==""&&W!==k||ge!==0&&qe(fe,P)===!1)continue;const Y={matchedLen:Xe.length,queryDiff:y-ge,hrefLen:Ye.length-W.length};if(Y.matchedLen>a.matchedLen){t=b.name.value,a=Y;continue}else if(Y.matchedLen!==a.matchedLen)continue;if(Y.queryDiff<a.queryDiff)t=b.name.value,a=Y;else if(Y.queryDiff!==a.queryDiff)continue;Y.hrefLen>a.hrefLen&&(t=b.name.value,a=Y)}if(t===null&&m.some(b=>b.routeData===void 0&&b.name.value===S.value)===!0){ue=!1;return}ee({name:t,setCurrent:!0})}function ze(t){if(L(),M.value!==!0&&g.value!==null&&t.target&&typeof t.target.closest=="function"){const a=t.target.closest(".q-tab");a&&g.value.contains(a)===!0&&(M.value=!0,O.value===!0&&te(a))}}function We(){n(()=>{M.value=!1},30)}function re(){Be.avoidRouteWatcher===!1?h(Ke):B()}function $e(){if(l===void 0){const t=H(()=>s.$route.fullPath,re);l=()=>{t(),l=void 0}}}function He(t){m.push(t),q.value++,z(),t.routeData===void 0||s.$route===void 0?h(()=>{if(O.value===!0){const a=S.value,d=a!=null&&a!==""?m.find(k=>k.name.value===a):null;d&&te(d.rootRef.value)}}):($e(),t.routeData.hasRouterLink.value===!0&&re())}function Ge(t){m.splice(m.indexOf(t),1),q.value--,z(),l!==void 0&&t.routeData!==void 0&&(m.every(a=>a.routeData===void 0)===!0&&l(),re())}const Be={currentModel:S,tabProps:V,hasFocus:M,hasActiveTab:N,registerTab:He,unregisterTab:Ge,verifyRouteModel:re,updateModel:ee,onKbdNavigate:je,avoidRouteWatcher:!1};mt(Re,Be);function pe(){I!==null&&clearTimeout(I),X(),l!==void 0&&l()}let Ae,ue;return De(pe),bt(()=>{Ae=l!==void 0,pe()}),ht(()=>{Ae===!0&&($e(),ue=!0,re()),z()}),()=>$("div",{ref:g,class:D.value,role:"tablist",onFocusin:ze,onFocusout:We},[$(yt,{onResize:E}),$("div",{ref:C,class:v.value,onScroll:ae},Ct(T.default)),$(ce,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(p.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||c.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Te,onTouchstartPassive:Te,onMouseupPassive:X,onMouseleavePassive:X,onTouchendPassive:X}),$(ce,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(K.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||c.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Se,onTouchstartPassive:Se,onMouseupPassive:X,onMouseleavePassive:X,onTouchendPassive:X})])}}),Ut=ve({__name:"CategorySelect",props:{selectedCategory:{type:String,required:!0},categories:{type:Array,required:!0},color:{type:String,required:!0},text:{type:String,required:!0}},emits:["update:selectedCategory"],setup(e,{emit:T}){const w=e,s=T,c=i({get:()=>w.selectedCategory,set:r=>{s("update:selectedCategory",r)}}),f=r=>r?r.split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1)).join(" "):"";return(r,u)=>(F(),J("div",null,[Q(Oe,{modelValue:c.value,"onUpdate:modelValue":u[0]||(u[0]=n=>c.value=n),class:"q-mb-md gt-sm","active-color":e.color,"active-bg-color":e.color,"text-color":e.color,"inactive-color":e.color,align:"justify"},{default:oe(()=>[Q(de,{name:"all",label:r.$t("products.categories.allProducts")},null,8,["label"]),(F(!0),J(ie,null,ke(e.categories,n=>(F(),ne(de,{key:n,name:n,label:f(n)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),Q(wt,{modelValue:c.value,"onUpdate:modelValue":u[1]||(u[1]=n=>c.value=n),options:["all",...e.categories],class:"q-my-md lt-md",color:e.color,"text-color":e.text,label:r.$t("products.selectCategory"),outlined:"","option-label":n=>n==="all"?r.$t("products.categories.allProducts"):f(n)},null,8,["modelValue","options","color","text-color","label","option-label"])]))}}),Kt=ve({__name:"ProductTabs",props:{selectedCategory:{type:String,required:!0},scrollOffset:{type:Number,default:0},categories:{type:Array,required:!0}},emits:["update:selectedCategory"],setup(e,{emit:T}){const w=e,s=xe("scrollToTop"),c=T,f=Fe(),r=x(!1),u=x(w.selectedCategory),n=i(()=>({stickyBgColor:f.dark.isActive?"q-dark":"q-light-lighter",activeBgColor:(f.dark.isActive,"white"),activeTextColor:f.dark.isActive?"dark":"black",backgroundColor:f.dark.isActive?"white":"black",textColor:f.dark.isActive?"black":"white"}));H(()=>w.scrollOffset,h=>{r.value=h>0},{immediate:!0}),H(()=>w.selectedCategory,h=>{h!==u.value&&(u.value=h)}),H(()=>u.value,h=>{c("update:selectedCategory",h),s()});const L=h=>h.split(" ").map(B=>B.charAt(0).toUpperCase()+B.slice(1)).join(" ");return(h,B)=>(F(),J("div",{class:xt(["sticky",{"is-sticky":r.value},r.value&&`tw-bg-${n.value.stickyBgColor}`])},[Q(Oe,{modelValue:u.value,"onUpdate:modelValue":B[0]||(B[0]=g=>u.value=g),"indicator-color":"transparent",class:"gt-sm !tw-max-w-screen-xl tw-mx-auto","active-color":n.value.activeTextColor,"active-bg-color":n.value.activeBgColor,"text-color":n.value.backgroundColor,"inactive-color":n.value.textColor,align:"justify"},{default:oe(()=>[Q(de,{name:"all",label:h.$t("products.categories.allProducts")},null,8,["label"]),(F(!0),J(ie,null,ke(e.categories,g=>(F(),ne(de,{key:g,name:g,label:L(g)},null,8,["name","label"]))),128))]),_:1},8,["modelValue","active-color","active-bg-color","text-color","inactive-color"]),Q(Ut,{"selected-category":u.value,"onUpdate:selectedCategory":B[1]||(B[1]=g=>u.value=g),categories:e.categories,color:n.value.backgroundColor,text:n.value.textColor,class:"q-my-md lt-md"},null,8,["selected-category","categories","color","text"])],2))}}),zt=kt(Kt,[["__scopeId","data-v-8ab3e7da"]]),Wt={class:"tw-font-serif"},Ht={class:"tw-container tw-mx-auto tw-mb-8 grid justify-center"},Gt={class:"tw-grid tw-grid-cols-1 md:tw-grid-cols-2 lg:tw-grid-cols-3 xl:tw-grid-cols-4 tw-gap-4"},Xt="products_categories",Ve=10,aa=ve({__name:"ProductsPage",props:{scrollOffset:{type:Number,required:!0}},setup(e){const T=xe("scrollToTop"),w=Pt(),s=Fe(),c=Tt(),f=pt(),{t:r}=St(),u=x([]),n=x(1),L=x("all"),h=x([]),B=x(!0),g=x({search:"",minPrice:0,maxPrice:999999,sortBy:"id",sortOrder:"asc"}),C=x({total:0,page:1,limit:10,lastPage:1}),S=i(()=>Math.ceil(C.value.total/C.value.limit)),O=i(()=>u.value),p=i(()=>({activeTextColor:s.dark.isActive?"dark":"black",backgroundColor:s.dark.isActive?"white":"black",textColor:s.dark.isActive?"black":"white",paginationColor:s.dark.isActive?"light":"dark",paginationTextColor:s.dark.isActive?"white":"black",paginationActiveColor:s.dark.isActive?"white":"dark",paginationActiveTextColor:s.dark.isActive?"black":"white"}));H(g,()=>{n.value=1,R(L.value)},{deep:!0});const K=l=>{w.addItem({...l,quantity:1}),s.notify({color:"positive",position:"top",timeout:1e3,message:r("products.itemAdded"),icon:"check_circle"})},j=l=>{c.push(`/products/${l.id}`)},m=l=>{n.value=l,T(),R(L.value)},q=async l=>{L.value=l,n.value=1,await R(l)},M=async()=>{try{if(B.value=!0,f.isCacheValid(Xt)){const V=f.getCategoryCache();if(V){h.value=V.categories;return}}const l=await fetch("https://e-comm-backend-16bba1769344.herokuapp.com/api/products/categories");if(!l.ok){if(console.warn(`API returned ${l.status} for categories`),h.value.length)return;h.value=["all"];return}h.value=await l.json(),f.setCategoryCache(h.value)}catch(l){console.error("Error fetching categories:",l)}finally{B.value=!1}},I=l=>`products_${l.category}_${l.page}_${l.limit}_${l.search}_${l.minPrice}_${l.maxPrice}_${l.sortBy}_${l.sortOrder}`,R=async(l="all")=>{s.loading.show();try{const V={category:l,page:n.value,limit:Ve,search:g.value.search,minPrice:g.value.minPrice,maxPrice:g.value.maxPrice,sortBy:g.value.sortBy,sortOrder:g.value.sortOrder},N=I(V),G=f.getCache(N);if(G?.meta&&G?.data){u.value=G.data,C.value=G.meta,s.loading.hide();return}const D=new URLSearchParams({page:n.value.toString(),limit:Ve.toString(),search:g.value.search,minPrice:g.value.minPrice.toString(),maxPrice:g.value.maxPrice.toString(),sortBy:g.value.sortBy,sortOrder:g.value.sortOrder}),v=`https://e-comm-backend-16bba1769344.herokuapp.com/api/products${l!=="all"?`/category/${l}`:""}?${D}`,o=await fetch(v);if(!o.ok)throw new Error(`API returned ${o.status}`);const _=await o.json();u.value=_.data,C.value=_.meta,f.setCache(_,N)}catch(V){console.error("Error fetching products:",V),s.notify({color:"negative",message:r("errors.fetchProducts"),icon:"error"})}finally{s.loading.hide()}};return Ee(()=>{M(),R()}),(l,V)=>(F(),ne(Bt,{padding:"",class:"!tw-pb-16 !tw-pt-4"},{default:oe(()=>[Z("h5",Wt,le(l.$t("products.title")),1),Q(zt,{"selected-category":L.value,categories:h.value,"scroll-offset":e.scrollOffset,"onUpdate:selectedCategory":q},null,8,["selected-category","categories","scroll-offset"]),Q(qt,{class:"q-my-md"}),Z("div",Ht,[Z("div",Gt,[(F(!0),J(ie,null,ke(O.value,N=>(F(),ne(Dt,{key:N.id,product:N,color:p.value.backgroundColor,text:p.value.textColor,onAddToCart:K,onViewProduct:j},null,8,["product","color","text"]))),128))])]),C.value.total>0?(F(),ne(Lt,{key:0,modelValue:n.value,"onUpdate:modelValue":[V[0]||(V[0]=N=>n.value=N),m],max:S.value,"boundary-numbers":"",class:"tw-py-8 tw-flex tw-justify-center tw-items-center !tw-gap-8",color:p.value.paginationColor,"text-color":p.value.paginationTextColor,"active-color":p.value.paginationActiveColor,"active-text-color":p.value.paginationActiveTextColor},null,8,["modelValue","max","color","text-color","active-color","active-text-color"])):$t("",!0)]),_:1}))}});export{aa as default};
